<!DOCTYPE html>
<!-- tags: Probability -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Counting Repeated Permutations
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
    /* Enhanced text containment and scrolling */
    .main-content {
      word-wrap: break-word;
      overflow-wrap: break-word;
      overflow: auto;
      max-height: none;
    }
    
    .explain, .graybox, .section {
      word-wrap: break-word;
      overflow-wrap: break-word;
      overflow: auto;
    }
    
    /* Rule card styling */
    .rule-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 12px;
      margin: 15px 0;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border: 2px solid rgba(255,255,255,0.2);
    }
    
    .rule-card h3 {
      margin-top: 0;
      font-size: 1.3em;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    }
    
    .rule-card .formula {
      font-size: 1.4em;
      font-weight: bold;
      background: rgba(255,255,255,0.2);
      padding: 10px;
      border-radius: 8px;
      margin: 10px 0;
      text-align: center;
    }
    
    /* Interactive demo styling */
    .interactive-demo {
      background: #f8f9fa;
      border: 2px solid #007acc;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      text-align: center;
    }
    
    .demo-input {
      padding: 10px;
      font-size: 16px;
      border: 2px solid #007acc;
      border-radius: 6px;
      margin: 10px;
      width: 120px;
    }
    
    .demo-button {
      background: #007acc;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin: 10px;
      transition: background 0.3s;
    }
    
    .demo-button:hover {
      background: #0056b3;
    }
    
    .demo-result {
      font-size: 18px;
      font-weight: bold;
      margin: 15px 0;
      min-height: 30px;
    }
    
    /* Problem items styling */
    .problem-item {
      background: #fff3cd;
      border: 2px solid #ffc107;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      position: relative;
    }
    
    .problem-item .problem-number {
      position: absolute;
      top: 10px;
      left: 10px;
      background: #ffc107;
      color: #000;
      padding: 2px 8px;
      border-radius: 12px;
      font-weight: bold;
      font-size: 0.9em;
    }
    
    .problem-item .problem-content {
      margin-left: 60px;
    }
    
    /* Solution button styling */
    .solution-button {
      background: #28a745;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin: 10px 0;
      transition: background 0.3s;
    }
    
    .solution-button:hover {
      background: #218838;
    }
    
    .solution-content {
      background: #d4edda;
      border: 1px solid #c3e6cb;
      border-radius: 6px;
      padding: 15px;
      margin: 10px 0;
      display: none;
    }
    
    /* Key takeaways styling */
    .key-takeaways {
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      color: #333;
      padding: 20px;
      border-radius: 12px;
      margin: 20px 0;
      border: 2px solid rgba(255,255,255,0.3);
    }
    
    .key-takeaways h3 {
      margin-top: 0;
      text-align: center;
      font-size: 1.4em;
      text-shadow: 1px 1px 2px rgba(255,255,255,0.5);
    }
    
    .key-takeaways ul {
      margin: 0;
      padding-left: 20px;
    }
    
    .key-takeaways li {
      margin: 8px 0;
      font-weight: bold;
    }
    
    /* Canvas visualization styling */
    .visualization-container {
      text-align: center;
      margin: 20px 0;
    }
    
    #repeatedPermutationCanvas {
      border: 2px solid #007acc;
      border-radius: 8px;
      background: white;
      max-width: 100%;
      height: auto;
    }
    
    /* Section styling */
    .section {
      margin: 30px 0;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #007acc;
    }
    
    .section h2 {
      color: #007acc;
      margin-top: 0;
      font-size: 1.5em;
    }
    
    /* Enhanced math styling */
    .math {
      font-family: 'Times New Roman', serif;
    }
    
    .highlight {
      background: #fff3cd;
      padding: 2px 6px;
      border-radius: 4px;
      font-weight: bold;
    }
    
    .blue { color: #007bff; }
    .green { color: #28a745; }
    .red { color: #dc3545; }
    .orange { color: #fd7e14; }
    .purple { color: #6f42c1; }
    
    /* Repeated permutation specific */
    .permutation-types {
      display: flex;
      gap: 20px;
      margin: 20px 0;
    }
    
    .permutation-type {
      flex: 1;
      background: #e9ecef;
      padding: 15px;
      border-radius: 8px;
      border-left: 4px solid #007acc;
    }
    
    .permutation-type h4 {
      margin-top: 0;
      color: #007acc;
    }
    
    .calculation-steps {
      background: #f8f9fa;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      font-family: monospace;
      font-size: 16px;
    }
    
    .calculation-step {
      margin: 8px 0;
      padding: 5px;
      background: white;
      border-radius: 4px;
      border-left: 3px solid #007acc;
    }
    
    .sequence-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(60px, 1fr));
      gap: 10px;
      margin: 20px 0;
      max-width: 400px;
    }
    
    .sequence-box {
      background: #e9ecef;
      border: 2px solid #007acc;
      border-radius: 6px;
      padding: 10px;
      text-align: center;
      font-weight: bold;
      font-size: 16px;
    }
    
    .sequence-arrow {
      font-size: 24px;
      color: #007acc;
      margin: 0 10px;
    }
    
    .repetition-explanation {
      background: #fff3cd;
      border: 2px solid #ffc107;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
    }
    
    .repetition-explanation h4 {
      margin-top: 0;
      color: #856404;
    }
    
    /* Responsive design */
    @media (max-width: 768px) {
      .permutation-types {
        flex-direction: column;
      }
      
      .demo-input {
        width: 100px;
      }
      
      .problem-item .problem-content {
        margin-left: 50px;
      }
      
      .sequence-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Probability">
   Counting Repeated Permutations
  </div>
  <div class="container">
   <div class="main-content">
    
    <div class="section">
     <h2>Core Concept</h2>
     <p><strong>Repeated permutations</strong> (also called permutations with repetition allowed) occur when we can use the same item multiple times in an arrangement. This is different from regular permutations where each item can only be used once.</p>
     
     <div class="rule-card">
      <h3>Repeated Permutation Formula</h3>
      <div class="formula">
       For r positions and n choices per position:<br>
       Number of arrangements = n^r
      </div>
     </div>
    </div>
    
    <div class="section">
     <h2>Types of Repeated Permutations</h2>
     <div class="permutation-types">
      <div class="permutation-type">
       <h4>Ordered Sequences</h4>
       <p>Counting ordered arrangements where repetition is allowed. Each position has n choices.</p>
       <div class="formula">n × n × n × ... × n (r times) = n^r</div>
      </div>
      
      <div class="permutation-type">
       <h4>With Restrictions</h4>
       <p>Some positions may have different numbers of choices or restrictions on what can be chosen.</p>
       <div class="formula">n₁ × n₂ × n₃ × ... × nᵣ</div>
      </div>
     </div>
    </div>
    
    <div class="section">
     <h2>Visual Guide</h2>
     <div class="sequence-grid">
      <div class="sequence-box">A</div>
      <div class="sequence-arrow">→</div>
      <div class="sequence-box">A</div>
      <div class="sequence-arrow">→</div>
      <div class="sequence-box">B</div>
      <div class="sequence-arrow">→</div>
      <div class="sequence-box">C</div>
     </div>
     <p><em>Each position can be any of the n available choices</em></p>
     
     <div class="visualization-container">
      <canvas id="repeatedPermutationCanvas" width="600" height="300"></canvas>
      <p><em>Interactive visualization showing repeated permutation combinations</em></p>
     </div>
    </div>
    
    <div class="section">
     <h2>Interactive Demo</h2>
     <div class="interactive-demo">
      <h3>Repeated Permutation Calculator</h3>
      <p>Calculate arrangements with repetition:</p>
      <input type="number" id="choicesInput" class="demo-input" placeholder="Choices per position (n)" min="1">
      <input type="number" id="positionsInput" class="demo-input" placeholder="Number of positions (r)" min="1">
      <br>
      <button id="calculateBtn" class="demo-button">Calculate Arrangements</button>
      <div id="demoResult" class="demo-result"></div>
      <div id="calculationSteps" class="calculation-steps" style="display: none;"></div>
     </div>
    </div>
    
    <div class="section">
     <h2>Detailed Examples</h2>
     
     <h3>Example 1: Lock Combinations</h3>
     <p>A 3-digit combination lock uses digits 0-9. How many possible combinations?</p>
     <div class="calculation-steps">
      <div class="calculation-step">n = 10 choices (digits 0-9)</div>
      <div class="calculation-step">r = 3 positions</div>
      <div class="calculation-step">Formula: 10³ = 1,000 combinations</div>
      <div class="calculation-step">Each position: 10 choices × 3 positions = 10 × 10 × 10 = 1,000</div>
     </div>
     
     <h3>Example 2: DNA Sequences</h3>
     <p>How many different 4-base DNA sequences can be formed using A, T, C, G?</p>
     <div class="calculation-steps">
      <div class="calculation-step">n = 4 nucleotides (A, T, C, G)</div>
      <div class="calculation-step">r = 4 positions in sequence</div>
      <div class="calculation-step">Formula: 4⁴ = 256 possible sequences</div>
      <div class="calculation-step">Each position can be any nucleotide, including repeats</div>
     </div>
     
     <h3>Example 3: License Plates with Restrictions</h3>
     <p>How many license plates with 2 letters followed by 3 digits?</p>
     <div class="calculation-steps">
      <div class="calculation-step">First 2 positions: 26 letters each</div>
      <div class="calculation-step">Last 3 positions: 10 digits each</div>
      <div class="calculation-step">Formula: 26 × 26 × 10 × 10 × 10 = 676,000</div>
      <div class="calculation-step">Different choices per position: 26² × 10³</div>
     </div>
    </div>
    
    <div class="repetition-explanation">
     <h4>Why Repetition is Allowed</h4>
     <p>In repeated permutations, the same item can appear multiple times because:</p>
     <ul>
      <li>Items are not being selected and removed (like in regular permutations)</li>
      <li>Each position is independent of the others</li>
      <li>The same choice can be made repeatedly without restriction</li>
      <li>This is common in sequences, codes, and combinations where reuse is allowed</li>
     </ul>
    </div>
    
    <div class="section">
     <h2>Applications</h2>
     <ul>
      <li><strong>Security Codes:</strong> PIN numbers, lock combinations</li>
      <li><strong>Computer Science:</strong> Binary sequences, password generation</li>
      <li><strong>Biology:</strong> DNA/RNA sequence possibilities</li>
      <li><strong>Telecommunications:</strong> Digital signal combinations</li>
      <li><strong>Manufacturing:</strong> Product code generation</li>
      <li><strong>Survey Design:</strong> Multiple choice response patterns</li>
     </ul>
    </div>
    
    <div class="section">
     <h2>Practice Problems</h2>
     
     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       <p>How many 4-digit numbers can be formed using digits 0-9?</p>
       <button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution-content" id="solution1">
        <p>This is a repeated permutation with restrictions.</p>
        <p>10 choices per digit, but first digit cannot be 0.</p>
        <p>First digit: 9 choices (1-9)</p>
        <p>Other digits: 10 choices each (0-9)</p>
        <p>Total: 9 × 10 × 10 × 10 = 9,000 numbers</p>
       </div>
      </div>
     </div>
     
     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       <p>How many different 3-letter sequences can be formed using letters A, B, C?</p>
       <button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution-content" id="solution2">
        <p>Repetition allowed, order matters.</p>
        <p>n = 3 choices (A, B, C)</p>
        <p>r = 3 positions</p>
        <p>Total sequences: 3³ = 27</p>
        <p>Examples: AAA, AAB, AAC, ABA, etc.</p>
       </div>
      </div>
     </div>
     
     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       <p>A computer password consists of 6 characters, each being a letter (A-Z) or digit (0-9). How many possible passwords?</p>
       <button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution-content" id="solution3">
        <p>Each character has 36 choices (26 letters + 10 digits).</p>
        <p>All 6 positions have the same 36 choices.</p>
        <p>Total passwords: 36⁶ = 2,176,782,336</p>
        <p>This shows how quickly possibilities grow with more positions.</p>
       </div>
      </div>
     </div>
     
     <div class="problem-item">
      <div class="problem-number">4</div>
      <div class="problem-content">
       <p>How many binary sequences of length 5 are possible?</p>
       <button class="solution-button" onclick="toggleSolution(4)">Show Solution</button>
       <div class="solution-content" id="solution4">
        <p>Binary means 2 choices per position: 0 or 1.</p>
        <p>n = 2, r = 5</p>
        <p>Total sequences: 2⁵ = 32</p>
        <p>These range from 00000 to 11111.</p>
       </div>
      </div>
     </div>
    </div>
    
    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Repeated permutations</strong> allow the same item to be used multiple times</li>
      <li>The formula is n^r where n is choices per position and r is number of positions</li>
      <li>Each position is independent and can contain any of the n choices</li>
      <li>This differs from regular permutations where items are used without replacement</li>
      <li>Common applications include codes, sequences, and combinations where reuse is allowed</li>
      <li>The number of possibilities grows exponentially with sequence length</li>
     </ul>
    </div>
    
   </div>
  </div>
  
  <script>
   // Interactive canvas visualization
   const canvas = document.getElementById('repeatedPermutationCanvas');
   const ctx = canvas.getContext('2d');
   
   function drawRepeatedPermutationVisualization() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // Draw sequence boxes
    const choices = ['A', 'B', 'C'];
    const positions = 4;
    const boxWidth = 80;
    const boxHeight = 60;
    const startX = 50;
    const startY = 120;
    
    for (let i = 0; i < positions; i++) {
     const x = startX + i * (boxWidth + 20);
     
     // Box
     ctx.strokeStyle = '#007acc';
     ctx.lineWidth = 2;
     ctx.strokeRect(x, startY, boxWidth, boxHeight);
     
     // Position label
     ctx.fillStyle = '#000';
     ctx.font = '12px Arial';
     ctx.textAlign = 'center';
     ctx.fillText(`Position ${i+1}`, x + boxWidth/2, startY - 10);
     
     // Choices indicator
     ctx.fillText('3 choices', x + boxWidth/2, startY + boxHeight + 20);
     
     // Show possible values
     ctx.font = '10px Arial';
     ctx.fillText('A, B, or C', x + boxWidth/2, startY + boxHeight + 35);
    }
    
    // Arrows between boxes
    ctx.strokeStyle = '#007acc';
    ctx.lineWidth = 2;
    for (let i = 0; i < positions - 1; i++) {
     const x = startX + i * (boxWidth + 20) + boxWidth + 10;
     const y = startY + boxHeight/2;
     
     ctx.beginPath();
     ctx.moveTo(x, y);
     ctx.lineTo(x + 10, y);
     ctx.stroke();
     
     // Arrowhead
     ctx.beginPath();
     ctx.moveTo(x + 10, y);
     ctx.lineTo(x + 5, y - 3);
     ctx.lineTo(x + 5, y + 3);
     ctx.closePath();
     ctx.fillStyle = '#007acc';
     ctx.fill();
    }
    
    // Total calculation
    ctx.fillStyle = '#000';
    ctx.font = '16px Arial';
    ctx.textAlign = 'center';
    ctx.fillText('Total arrangements: 3 × 3 × 3 × 3 = 3⁴ = 81', 300, 250);
    
    // Example
    ctx.fillText('Example: A B A C', 300, 270);
   }
   
   // Interactive calculator
   document.getElementById('calculateBtn').addEventListener('click', function() {
    const n = parseInt(document.getElementById('choicesInput').value);
    const r = parseInt(document.getElementById('positionsInput').value);
    
    if (n < 1 || r < 1) {
     document.getElementById('demoResult').innerHTML = '<span style="color: red;">Please enter valid numbers</span>';
     return;
    }
    
    const result = Math.pow(n, r);
    const resultDiv = document.getElementById('demoResult');
    const stepsDiv = document.getElementById('calculationSteps');
    
    resultDiv.innerHTML = `<span class="highlight">${result} possible arrangements</span>`;
    
    stepsDiv.style.display = 'block';
    let calculation = '';
    for (let i = 0; i < r; i++) {
     calculation += (i > 0 ? ' × ' : '') + n;
    }
    calculation += ` = ${n}^${r} = ${result}`;
    
    stepsDiv.innerHTML = `
     <div class="calculation-step">Choices per position (n): ${n}</div>
     <div class="calculation-step">Number of positions (r): ${r}</div>
     <div class="calculation-step">Formula: n^r = ${n}^${r}</div>
     <div class="calculation-step">Calculation: ${calculation}</div>
     <div class="calculation-step">Each position has ${n} independent choices</div>
    `;
   });
   
   // Solution toggle function
   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    const button = solution.previousElementSibling;
    
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
     button.textContent = 'Hide Solution';
    } else {
     solution.style.display = 'none';
     button.textContent = 'Show Solution';
    }
   }
   
   // Initialize visualization
   drawRepeatedPermutationVisualization();
  </script>
 </body>
</html>
