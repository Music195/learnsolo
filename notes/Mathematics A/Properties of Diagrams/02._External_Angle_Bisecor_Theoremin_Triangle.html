<!DOCTYPE html>
<!-- tags: Geometry -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   External Angle Bisector Theorem in Triangle
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   /* Enhanced text containment and scrolling */
   .container, .main-content, .section, .explain, .formula, .condition, .example, .application, .problem-item, .solution-content, .key-takeaways, .interactive-demo, .demo-result, .calculation-steps, .calculation-step, .rule-card, .visualization-container, .diagram-container, .theorem-statement, .proof-steps, .proof-step, .geometry-explanation {
    word-wrap: break-word;
    overflow-wrap: break-word;
    overflow: auto;
   }
   
   /* Theorem statement styling */
   .theorem-statement {
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border: 3px solid #f57c00;
    border-radius: 15px;
    padding: 25px;
    margin: 25px 0;
    text-align: center;
    font-size: 1.2em;
    font-weight: bold;
    box-shadow: 0 6px 12px rgba(245, 124, 0, 0.15);
   }
   
   .theorem-statement .formula {
    background: white;
    padding: 15px;
    border-radius: 10px;
    border: 2px solid #f57c00;
    margin: 15px 0;
    font-size: 1.1em;
   }
   
   /* Geometry explanation */
   .geometry-explanation {
    background: linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%);
    border: 2px solid #e91e63;
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
   }
   
   .geometry-explanation h4 {
    color: #c2185b;
    margin-top: 0;
   }
   
   /* Interactive demo styling */
   .interactive-demo {
    background: #f8f9fa;
    border: 2px solid #e91e63;
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
   }
   
   .interactive-demo h3 {
    color: #e91e63;
    margin-top: 0;
   }
   
   .demo-input {
    padding: 8px 12px;
    margin: 5px;
    border: 2px solid #e91e63;
    border-radius: 6px;
    font-size: 16px;
    width: 100px;
   }
   
   .demo-button {
    background: #e91e63;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 16px;
    margin: 10px 0;
   }
   
   .demo-button:hover {
    background: #c2185b;
   }
   
   .demo-result {
    margin-top: 15px;
    padding: 10px;
    background: white;
    border-radius: 6px;
    border: 1px solid #dee2e6;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
   }
   
   .highlight {
    color: #dc3545;
    font-size: 1.2em;
   }
   
   /* Diagram container */
   .diagram-container {
    text-align: center;
    margin: 25px 0;
    padding: 20px;
    background: white;
    border-radius: 12px;
    border: 2px solid #e91e63;
   }
   
   .diagram-container svg {
    max-width: 100%;
    height: auto;
    border: 1px solid #dee2e6;
    border-radius: 8px;
   }
   
   /* Proof steps */
   .proof-steps {
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
   }
   
   .proof-step {
    margin: 8px 0;
    padding: 8px 0;
    border-left: 4px solid #e91e63;
    padding-left: 15px;
   }
   
   .proof-step strong {
    color: #e91e63;
   }
   
   /* Section styling */
   .section {
    margin: 30px 0;
    padding: 20px;
    background: white;
    border-radius: 12px;
    border: 1px solid #e9ecef;
   }
   
   .section h2 {
    color: #495057;
    border-bottom: 2px solid #e91e63;
    padding-bottom: 10px;
    margin-top: 0;
   }
   
   /* Example styling */
   .example {
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border: 2px solid #9c27b0;
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
   }
   
   .example h3 {
    color: #7b1fa2;
    margin-top: 0;
   }
   
   /* Calculation steps */
   .calculation-steps {
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   
   .calculation-step {
    margin: 8px 0;
    padding: 8px 12px;
    background: #f8f9fa;
    border-left: 3px solid #9c27b0;
    font-family: 'Courier New', monospace;
   }
   
   /* Application styling */
   .application {
    background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
    border: 2px solid #4caf50;
    border-radius: 12px;
    padding: 15px;
    margin: 15px 0;
   }
   
   .application h3 {
    color: #2e7d32;
    margin-top: 0;
   }
   
   /* Problem items */
   .problem-item {
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border: 2px solid #ff9800;
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
   }
   
   .problem-number {
    display: inline-block;
    background: #ff9800;
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    text-align: center;
    line-height: 30px;
    font-weight: bold;
    margin-right: 15px;
   }
   
   .problem-content {
    display: inline-block;
    width: calc(100% - 50px);
    vertical-align: top;
   }
   
   .solution-button {
    background: #ff9800;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    margin: 10px 0;
   }
   
   .solution-button:hover {
    background: #f57c00;
   }
   
   .solution-content {
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 15px;
    margin-top: 10px;
   }
   
   /* Key takeaways */
   .key-takeaways {
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border: 3px solid #2196f3;
    border-radius: 15px;
    padding: 25px;
    margin: 30px 0;
   }
   
   .key-takeaways h3 {
    color: #0d47a1;
    margin-top: 0;
    text-align: center;
   }
   
   .key-takeaways ul {
    list-style-type: none;
    padding: 0;
   }
   
   .key-takeaways li {
    margin: 10px 0;
    padding: 10px;
    background: white;
    border-radius: 8px;
    border-left: 4px solid #2196f3;
   }
   
   .key-takeaways strong {
    color: #2196f3;
   }
   
   /* Responsive design */
   @media (max-width: 768px) {
    .theorem-statement, .key-takeaways {
     padding: 15px;
     margin: 15px 0;
    }
    
    .section {
     padding: 15px;
     margin: 20px 0;
    }
    
    .diagram-container {
     padding: 15px;
    }
    
    .problem-content {
     width: calc(100% - 40px);
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Geometry">
   External Angle Bisector Theorem in Triangle
  </div>
  <div class="container">
    <h1>02. External Angle Bisector Theorem in Triangle</h1>
    
    <div class="section">
      <h2>Theorem Statement</h2>
      
      <div class="theorem-statement">
        <h3>External Angle Bisector Theorem</h3>
        <p>In a triangle, the external angle bisector divides the opposite side externally in the ratio of the sides containing the angle.</p>
        <div class="formula">
          If AD is the external angle bisector of âˆ A in â–³ABC, then:<br>
          \(\frac{BD}{DC} = \frac{AB}{AC}\)
        </div>
        <p><strong>Note:</strong> Point D lies outside the triangle on the extension of BC.</p>
      </div>
      
      <div class="geometry-explanation">
        <h4>Visual Understanding</h4>
        <p>The external angle bisector creates similar triangles that extend beyond the triangle. The external division occurs when the bisector intersects the extension of the opposite side, creating a ratio that matches the internal angle bisector theorem.</p>
      </div>
    </div>
    
    <div class="section">
      <h2>Interactive Diagram</h2>
      
      <div class="diagram-container">
        <canvas id="externalBisectorCanvas" width="500" height="400"></canvas>
        <div style="margin-top: 15px;">
          <label>Angle at A: </label>
          <input type="range" id="extAngleSlider" min="30" max="150" value="60" step="5">
          <span id="extAngleValue">60Â°</span>
        </div>
        <div style="margin-top: 10px;">
          <label>Side AB: </label>
          <input type="range" id="extABSlider" min="50" max="150" value="120" step="5">
          <span id="extABValue">120</span>
          <label style="margin-left: 20px;">Side AC: </label>
          <input type="range" id="extACSlider" min="50" max="150" value="80" step="5">
          <span id="extACValue">80</span>
        </div>
        <div class="demo-result" id="extRatioResult">
          External Ratio: BD/DC = <span class="highlight">--</span> | AB/AC = <span class="highlight">--</span>
        </div>
      </div>
    </div>
    
    <div class="section">
      <h2>Proof of the Theorem</h2>
      
      <div class="proof-steps">
        <div class="proof-step">
          <strong>Given:</strong> â–³ABC with external angle bisector AD of âˆ A
        </div>
        <div class="proof-step">
          <strong>Draw:</strong> A line from C parallel to AD, meeting AB extended at E
        </div>
        <div class="proof-step">
          <strong>Observe:</strong> âˆ BAC = âˆ CAE (external angle bisector)
        </div>
        <div class="proof-step">
          <strong>âˆ ACE = âˆ BAC</strong> (alternate interior angles, AD âˆ¥ CE)
        </div>
        <div class="proof-step">
          <strong>âˆ´ â–³ABC âˆ¼ â–³ACE</strong> (AA similarity)
        </div>
        <div class="proof-step">
          <strong>âˆ´ \(\frac{AB}{AC} = \frac{AC}{AE}\)</strong> (corresponding sides)
        </div>
        <div class="proof-step">
          <strong>âˆ´ AE = \(\frac{AC^2}{AB}\)</strong>
        </div>
        <div class="proof-step">
          <strong>âˆ´ \(\frac{BD}{DC} = \frac{AB}{AC}\)</strong> (external division ratio)
        </div>
      </div>
      
      <div class="diagram-container">
        <canvas id="extProofCanvas" width="500" height="350"></canvas>
      </div>
    </div>
    
    <div class="section">
      <h2>Detailed Examples</h2>
      
      <div class="example">
        <h3>Example 1: External Division</h3>
        <p>In â–³ABC, AB = 9 cm, AC = 6 cm, and BC = 8 cm. If AD is the external angle bisector of âˆ A, find BD and DC.</p>
        
        <div class="calculation-steps">
          <div class="calculation-step">
            By External Angle Bisector Theorem: \(\frac{BD}{DC} = \frac{AB}{AC} = \frac{9}{6} = \frac{3}{2}\)
          </div>
          <div class="calculation-step">
            For external division: BD/DC = 3/2, so BD = 3k, DC = 2k
          </div>
          <div class="calculation-step">
            But D is external, so BC = DC - BD = 2k - 3k = -k
          </div>
          <div class="calculation-step">
            This means D is on the extension beyond C: BC + DC = BD
          </div>
          <div class="calculation-step">
            8 + 2k = 3k â‡’ 8 = k â‡’ DC = 16 cm, BD = 24 cm
          </div>
        </div>
        
        <p><strong>Result:</strong> BD = 24 cm, DC = 16 cm (D is on BC extended beyond C)</p>
      </div>
      
      <div class="example">
        <h3>Example 2: Finding Side Lengths</h3>
        <p>In â–³PQR, PQ = 12 cm, PR = 8 cm, and QR = 10 cm. If PS is the external angle bisector of âˆ P, find QS and SR.</p>
        
        <div class="calculation-steps">
          <div class="calculation-step">
            \(\frac{QS}{SR} = \frac{PQ}{PR} = \frac{12}{8} = \frac{3}{2}\)
          </div>
          <div class="calculation-step">
            For external division: QS/SR = 3/2, so QS = 3k, SR = 2k
          </div>
          <div class="calculation-step">
            Since D is external: QR = SR - QS = 2k - 3k = -k
          </div>
          <div class="calculation-step">
            10 = -k â‡’ k = -10
          </div>
          <div class="calculation-step">
            QS = 3Ã—(-10) = -30 cm, SR = 2Ã—(-10) = -20 cm
          </div>
          <div class="calculation-step">
            This means S is on QR extended beyond R by 20 cm, and beyond Q by 30 cm
          </div>
        </div>
        
        <p><strong>Result:</strong> S is on QR extended: 30 cm beyond Q, 20 cm beyond R on QR extended</p>
      </div>
      
      <div class="example">
        <h3>Example 3: Coordinate Geometry</h3>
        <p>Points A(0,0), B(10,0), C(6,8). Find the coordinates of D where AD is the external angle bisector of âˆ A.</p>
        
        <div class="calculation-steps">
          <div class="calculation-step">
            AB = distance from A to B = 10 units
          </div>
          <div class="calculation-step">
            AC = distance from A to C = âˆš(36+64) = 10 units
          </div>
          <div class="calculation-step">
            Ratio BD/DC = AB/AC = 10/10 = 1
          </div>
          <div class="calculation-step">
            For external division with ratio 1:1, D is midpoint of extension
          </div>
          <div class="calculation-step">
            Vector BC = (6-10, 8-0) = (-4, 8)
          </div>
          <div class="calculation-step">
            D = B + 2Ã—(B - C) = (10,0) + 2Ã—(10-6, 0-8) = (10,0) + 2Ã—(4,-8) = (10+8, 0-16) = (18,-16)
          </div>
        </div>
        
        <p><strong>Result:</strong> D(18, -16)</p>
      </div>
    </div>
    
    <div class="section">
      <h2>Applications</h2>
      
      <div class="application">
        <h3>Triangle Construction</h3>
        <p>The external angle bisector theorem helps in constructing triangles when given certain angle bisector information and external division requirements.</p>
      </div>
      
      <div class="application">
        <h3>Coordinate Geometry Problems</h3>
        <p>Used to find coordinates of points on extended lines when external angle bisectors are involved.</p>
      </div>
      
      <div class="application">
        <h3>Geometric Proofs</h3>
        <p>Applied in proving various geometric theorems involving external angles and ratios.</p>
      </div>
      
      <div class="application">
        <h3>Navigation and Surveying</h3>
        <p>Used in land surveying to determine positions and distances using angular measurements.</p>
      </div>
    </div>
    
    <div class="section">
      <h2>Practice Problems</h2>
      
      <div class="problem-item">
        <div class="problem-number">1</div>
        <div class="problem-content">
          <p>In â–³ABC, AB = 8 cm, AC = 5 cm, and BC = 6 cm. If AD is the external angle bisector of âˆ A, find BD and DC.</p>
          <button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
          <div class="solution-content" id="solution1" style="display: none;">
            <div class="calculation-steps">
              <div class="calculation-step">BD/DC = AB/AC = 8/5</div>
              <div class="calculation-step">Let BD = 8k, DC = 5k</div>
              <div class="calculation-step">External division: BC + DC = BD</div>
              <div class="calculation-step">6 + 5k = 8k â‡’ 6 = 3k â‡’ k = 2</div>
              <div class="calculation-step">BD = 16 cm, DC = 10 cm</div>
            </div>
            <p><strong>Answer:</strong> BD = 16 cm, DC = 10 cm</p>
          </div>
        </div>
      </div>
      
      <div class="problem-item">
        <div class="problem-number">2</div>
        <div class="problem-content">
          <p>In â–³PQR, PQ = 15 cm, PR = 10 cm, and QR = 12 cm. If PS is the external angle bisector of âˆ P, find the position of S.</p>
          <button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
          <div class="solution-content" id="solution2" style="display: none;">
            <div class="calculation-steps">
              <div class="calculation-step">QS/SR = PQ/PR = 15/10 = 3/2</div>
              <div class="calculation-step">Let QS = 3k, SR = 2k</div>
              <div class="calculation-step">External: QR = SR - QS = 2k - 3k = -k</div>
              <div class="calculation-step">12 = -k â‡’ k = -12</div>
              <div class="calculation-step">QS = -36 cm, SR = -24 cm</div>
            </div>
            <p><strong>Answer:</strong> S is 36 cm beyond Q and 24 cm beyond R on QR extended</p>
          </div>
        </div>
      </div>
      
      <div class="problem-item">
        <div class="problem-number">3</div>
        <div class="problem-content">
          <p>Points A(0,0), B(9,0), C(5,12). Find coordinates of D where AD is external angle bisector of âˆ A.</p>
          <button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
          <div class="solution-content" id="solution3" style="display: none;">
            <div class="calculation-steps">
              <div class="calculation-step">AB = 9, AC = âˆš(25+144) = 13</div>
              <div class="calculation-step">Ratio BD/DC = 9/13</div>
              <div class="calculation-step">D divides BC externally in ratio 9:13</div>
              <div class="calculation-step">D = (13Ã—B - 9Ã—C)/(13 - 9) = (13Ã—(9,0) - 9Ã—(5,12))/4</div>
              <div class="calculation-step">D = (117-45, 0-108)/4 = (72, -108)/4 = (18, -27)</div>
            </div>
            <p><strong>Answer:</strong> D(18, -27)</p>
          </div>
        </div>
      </div>
      
      <div class="problem-item">
        <div class="problem-number">4</div>
        <div class="problem-content">
          <p>In â–³ABC, âˆ A = 120Â°, AB = 7 cm, AC = 8 cm. Find the length of external angle bisector AD.</p>
          <button class="solution-button" onclick="toggleSolution(4)">Show Solution</button>
          <div class="solution-content" id="solution4" style="display: none;">
            <div class="calculation-steps">
              <div class="calculation-step">External angle at A is 60Â°</div>
              <div class="calculation-step">Formula: AD = âˆš[ABÃ—ACÃ—((AB+AC)Â²/BCÂ² - 1)]</div>
              <div class="calculation-step">First find BC using law of cosines</div>
              <div class="calculation-step">BCÂ² = 49 + 64 - 2Ã—7Ã—8Ã—cos120Â° = 113 + 56Ã—(-0.5) = 113 - 28 = 85</div>
              <div class="calculation-step">BC = âˆš85 â‰ˆ 9.22 cm</div>
              <div class="calculation-step">AD = âˆš[56Ã—(((7+8)Â²/85) - 1)] = âˆš[56Ã—(225/85 - 1)]</div>
              <div class="calculation-step">AD = âˆš[56Ã—1.647] â‰ˆ âˆš92.6 â‰ˆ 9.62 cm</div>
            </div>
            <p><strong>Answer:</strong> AD â‰ˆ 9.62 cm</p>
          </div>
        </div>
      </div>
      
      <div class="problem-item">
        <div class="problem-number">5</div>
        <div class="problem-content">
          <p>In â–³ABC, the external angle bisector of âˆ A meets the extension of BC at D. If BD = 12 cm and DC = 8 cm, find AB and AC.</p>
          <button class="solution-button" onclick="toggleSolution(5)">Show Solution</button>
          <div class="solution-content" id="solution5" style="display: none;">
            <div class="calculation-steps">
              <div class="calculation-step">BD/DC = AB/AC = 12/8 = 3/2</div>
              <div class="calculation-step">AB/AC = 3/2</div>
              <div class="calculation-step">Let AB = 3k, AC = 2k</div>
              <div class="calculation-step">External division: BC + DC = BD</div>
              <div class="calculation-step">BC + 8 = 12 â‡’ BC = 4 cm</div>
              <div class="calculation-step">We have AB and AC in terms of k, but need another relation</div>
            </div>
            <p><strong>Answer:</strong> AB:AC = 3:2, BC = 4 cm, but exact lengths depend on triangle size</p>
          </div>
        </div>
      </div>
    </div>
    
    <div class="key-takeaways">
      <h3>Key Takeaways</h3>
      <ul>
        <li><strong>Theorem:</strong> External angle bisector divides opposite side externally in ratio of adjacent sides</li>
        <li><strong>Ratio:</strong> BD/DC = AB/AC (where D is on BC extended)</li>
        <li><strong>External Division:</strong> Point D lies outside the triangle on the extension of BC</li>
        <li><strong>Proof:</strong> Based on similar triangles formed with parallel lines</li>
        <li><strong>Applications:</strong> Used in coordinate geometry and triangle construction problems</li>
        <li><strong>Important:</strong> External angle is supplementary to internal angle (180Â° - internal angle)</li>
      </ul>
    </div>
  </div>

  <script>
    // Interactive external angle bisector diagram
    const extCanvas = document.getElementById('externalBisectorCanvas');
    const extCtx = extCanvas.getContext('2d');
    
    // Interactive controls
    const extAngleSlider = document.getElementById('extAngleSlider');
    const extABSlider = document.getElementById('extABSlider');
    const extACSlider = document.getElementById('extACSlider');
    const extAngleValue = document.getElementById('extAngleValue');
    const extABValue = document.getElementById('extABValue');
    const extACValue = document.getElementById('extACValue');
    const extRatioResult = document.getElementById('extRatioResult');
    
    function drawExternalDiagram() {
      const angle = parseInt(extAngleSlider.value);
      const ab = parseInt(extABSlider.value);
      const ac = parseInt(extACSlider.value);
      
      extAngleValue.textContent = angle + 'Â°';
      extABValue.textContent = ab;
      extACValue.textContent = ac;
      
      extCtx.clearRect(0, 0, extCanvas.width, extCanvas.height);
      
      // Triangle points
      const centerX = extCanvas.width / 2;
      const centerY = extCanvas.height / 2 + 50;
      
      // Point A at top
      const ax = centerX;
      const ay = centerY - 100;
      
      // Point B and C based on sides and angle
      const angleRad = (angle * Math.PI) / 180;
      const bx = ax - ab * Math.cos(angleRad / 2);
      const by = ay + ab * Math.sin(angleRad / 2);
      const cx = ax + ac * Math.cos(angleRad / 2);
      const cy = ay + ac * Math.sin(angleRad / 2);
      
      // Draw triangle
      extCtx.strokeStyle = '#333';
      extCtx.lineWidth = 3;
      extCtx.beginPath();
      extCtx.moveTo(ax, ay);
      extCtx.lineTo(bx, by);
      extCtx.lineTo(cx, cy);
      extCtx.closePath();
      extCtx.stroke();
      
      // Draw extension of BC
      extCtx.strokeStyle = '#666';
      extCtx.setLineDash([5, 5]);
      extCtx.lineWidth = 2;
      
      // Extend BC beyond C
      const extensionLength = 100;
      const bcVectorX = cx - bx;
      const bcVectorY = cy - by;
      const bcLength = Math.sqrt(bcVectorX * bcVectorX + bcVectorY * bcVectorY);
      const unitX = bcVectorX / bcLength;
      const unitY = bcVectorY / bcLength;
      
      const extCx = cx + unitX * extensionLength;
      const extCy = cy + unitY * extensionLength;
      
      extCtx.beginPath();
      extCtx.moveTo(bx, by);
      extCtx.lineTo(extCx, extCy);
      extCtx.stroke();
      extCtx.setLineDash([]);
      
      // External angle bisector
      const extAngle = Math.PI - angleRad; // External angle
      const bisectorAngle = extAngle / 2;
      
      // Direction from A away from triangle
      const awayAngle = Math.atan2(ay - centerY, ax - centerX) + Math.PI;
      const bisectorDir = awayAngle + bisectorAngle;
      
      // Find intersection with extended BC
      const bisectorLength = 200;
      const bisectorEndX = ax + Math.cos(bisectorDir) * bisectorLength;
      const bisectorEndY = ay + Math.sin(bisectorDir) * bisectorLength;
      
      // Find intersection point D
      const dx = findIntersection(ax, ay, bisectorEndX, bisectorEndY, bx, by, extCx, extCy);
      
      if (dx) {
        extCtx.strokeStyle = '#e74c3c';
        extCtx.lineWidth = 2;
        extCtx.setLineDash([5, 5]);
        extCtx.beginPath();
        extCtx.moveTo(ax, ay);
        extCtx.lineTo(dx.x, dx.y);
        extCtx.stroke();
        extCtx.setLineDash([]);
        
        // Draw points
        extCtx.fillStyle = '#3498db';
        extCtx.beginPath();
        extCtx.arc(ax, ay, 6, 0, 2 * Math.PI);
        extCtx.fill();
        
        extCtx.fillStyle = '#e74c3c';
        extCtx.beginPath();
        extCtx.arc(bx, by, 6, 0, 2 * Math.PI);
        extCtx.fill();
        
        extCtx.fillStyle = '#27ae60';
        extCtx.beginPath();
        extCtx.arc(cx, cy, 6, 0, 2 * Math.PI);
        extCtx.fill();
        
        extCtx.fillStyle = '#f39c12';
        extCtx.beginPath();
        extCtx.arc(dx.x, dx.y, 6, 0, 2 * Math.PI);
        extCtx.fill();
        
        // Labels
        extCtx.fillStyle = '#333';
        extCtx.font = '16px Arial';
        extCtx.textAlign = 'center';
        extCtx.fillText('A', ax, ay - 15);
        extCtx.fillText('B', bx - 15, by + 5);
        extCtx.fillText('C', cx + 15, cy + 5);
        extCtx.fillText('D', dx.x, dx.y + 20);
        
        // Calculate and display ratio
        const bdLength = Math.sqrt((dx.x - bx) * (dx.x - bx) + (dx.y - by) * (dx.y - by));
        const dcLength = Math.sqrt((dx.x - cx) * (dx.x - cx) + (dx.y - cy) * (dx.y - cy));
        const currentRatio = bdLength / dcLength;
        const expectedRatio = ab / ac;
        
        extRatioResult.innerHTML = `External Ratio: BD/DC = <span class="highlight">${currentRatio.toFixed(3)}</span> | AB/AC = <span class="highlight">${expectedRatio.toFixed(3)}</span>`;
      }
    }
    
    function findIntersection(x1, y1, x2, y2, x3, y3, x4, y4) {
      const denom = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);
      if (Math.abs(denom) < 1e-10) return null;
      
      const t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / denom;
      const u = -((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3)) / denom;
      
      if (t >= 0 && t <= 1 && u >= 0) {
        return {
          x: x1 + t * (x2 - x1),
          y: y1 + t * (y2 - y1)
        };
      }
      return null;
    }
    
    // Event listeners
    extAngleSlider.addEventListener('input', drawExternalDiagram);
    extABSlider.addEventListener('input', drawExternalDiagram);
    extACSlider.addEventListener('input', drawExternalDiagram);
    
    // Proof visualization
    const extProofCanvas = document.getElementById('extProofCanvas');
    const extProofCtx = extProofCanvas.getContext('2d');
    
    function drawExtProofDiagram() {
      extProofCtx.clearRect(0, 0, extProofCanvas.width, extProofCanvas.height);
      
      // Triangle ABC
      const ax = 100, ay = 50;
      const bx = 50, by = 250;
      const cx = 350, cy = 250;
      
      // Draw triangle
      extProofCtx.strokeStyle = '#333';
      extProofCtx.lineWidth = 3;
      extProofCtx.beginPath();
      extProofCtx.moveTo(ax, ay);
      extProofCtx.lineTo(bx, by);
      extProofCtx.lineTo(cx, cy);
      extProofCtx.closePath();
      extProofCtx.stroke();
      
      // External angle bisector
      const dx = 400, dy = 200;
      extProofCtx.strokeStyle = '#e74c3c';
      extProofCtx.lineWidth = 2;
      extProofCtx.setLineDash([5, 5]);
      extProofCtx.beginPath();
      extProofCtx.moveTo(ax, ay);
      extProofCtx.lineTo(dx, dy);
      extProofCtx.stroke();
      extProofCtx.setLineDash([]);
      
      // Parallel line from C
      const ex = 450, ey = 150;
      extProofCtx.strokeStyle = '#9b59b6';
      extProofCtx.lineWidth = 2;
      extProofCtx.setLineDash([3, 3]);
      extProofCtx.beginPath();
      extProofCtx.moveTo(cx, cy);
      extProofCtx.lineTo(ex, ey);
      extProofCtx.stroke();
      extProofCtx.setLineDash([]);
      
      // Points
      const points = [
        {x: ax, y: ay, label: 'A', color: '#3498db'},
        {x: bx, y: by, label: 'B', color: '#e74c3c'},
        {x: cx, y: cy, label: 'C', color: '#27ae60'},
        {x: dx, y: dy, label: 'D', color: '#f39c12'},
        {x: ex, y: ey, label: 'E', color: '#9b59b6'}
      ];
      
      points.forEach(point => {
        extProofCtx.fillStyle = point.color;
        extProofCtx.beginPath();
        extProofCtx.arc(point.x, point.y, 6, 0, 2 * Math.PI);
        extProofCtx.fill();
        
        extProofCtx.fillStyle = '#333';
        extProofCtx.font = '16px Arial';
        extProofCtx.textAlign = 'center';
        extProofCtx.fillText(point.label, point.x, point.y - 15);
      });
      
      // Labels for similar triangles
      extProofCtx.fillStyle = '#e74c3c';
      extProofCtx.font = '14px Arial';
      extProofCtx.fillText('â–³ABC âˆ¼ â–³ACE', 200, 180);
    }
    
    drawExternalDiagram();
    drawExtProofDiagram();
    
    // Solution toggle function
    function toggleSolution(problemNumber) {
      const solution = document.getElementById('solution' + problemNumber);
      const button = solution.previousElementSibling;
      
      if (solution.style.display === 'none') {
        solution.style.display = 'block';
        button.textContent = 'Hide Solution';
      } else {
        solution.style.display = 'none';
        button.textContent = 'Show Solution';
      }
    }
  </script>
 </body>
</html>
