<!DOCTYPE html>
<!-- tags: Quadratic Functions -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Graph of $y = a(x-p)^2 + q$
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .interactive-demo {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
    border: 2px solid #e1e8ed;
   }
   .demo-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 15px;
   }
   .demo-input-group {
    display: flex;
    flex-direction: column;
    min-width: 120px;
   }
   .demo-input-group label {
    font-weight: bold;
    margin-bottom: 5px;
    color: #2c3e50;
   }
   .demo-input {
    padding: 8px;
    border: 2px solid #bdc3c7;
    border-radius: 6px;
    font-size: 14px;
    transition: border-color 0.3s;
   }
   .demo-input:focus {
    outline: none;
    border-color: #3498db;
   }
   .demo-button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: transform 0.2s;
   }
   .demo-button:hover {
    transform: translateY(-2px);
   }
   .demo-result {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    border-left: 4px solid #3498db;
   }
   .math-foundation {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .worked-example {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .practice-problem {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .solution-toggle {
    background: #2c3e50;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
    transition: background-color 0.3s;
   }
   .solution-toggle:hover {
    background: #34495e;
   }
   .solution-content {
    display: none;
    background: rgba(255, 255, 255, 0.9);
    color: #2c3e50;
    padding: 15px;
    border-radius: 8px;
    margin-top: 10px;
   }
   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .key-takeaways h3 {
    color: #2c3e50;
    margin-top: 0;
   }
   .key-takeaways ul {
    color: #2c3e50;
   }
   .transformation-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 20px 0;
   }
   .transform-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #e67e22;
   }
   .graph-container {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
    border: 2px solid #ecf0f1;
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Quadratic Functions">
   Graph of $y = a(x-p)^2 + q$
  </div>
  <div class="container">
   <div class="main-content">
    <div class="section-title">
     Graph of $y = a(x-p)^2 + q$
    </div>

    <div class="math-foundation">
     <h3>Mathematical Foundations</h3>
     <p>The general form $y = a(x-p)^2 + q$ represents a parabola that has been transformed from the basic form $y = ax^2$. The parameters $p$ and $q$ control horizontal and vertical shifts respectively.</p>

     <div class="transformation-grid">
      <div class="transform-card">
       <h4>Horizontal Shift (Parameter p)</h4>
       <ul>
        <li>$p > 0$: Shifts parabola to the right by p units</li>
        <li>$p < 0$: Shifts parabola to the left by |p| units</li>
        <li>$p = 0$: No horizontal shift</li>
        <li>Vertex x-coordinate becomes p</li>
       </ul>
      </div>

      <div class="transform-card">
       <h4>Vertical Shift (Parameter q)</h4>
       <ul>
        <li>$q > 0$: Shifts parabola upward by q units</li>
        <li>$q < 0$: Shifts parabola downward by |q| units</li>
        <li>$q = 0$: No vertical shift</li>
        <li>Vertex y-coordinate becomes q</li>
       </ul>
      </div>
     </div>

     <div class="formula-highlight" style="background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #e74c3c;">
      <strong>Key Properties:</strong>
      <ul>
       <li><strong>Vertex:</strong> $(p, q)$</li>
       <li><strong>Axis of Symmetry:</strong> $x = p$</li>
       <li><strong>Domain:</strong> All real numbers $(-\infty, +\infty)$</li>
       <li><strong>Range:</strong> Depends on $a$ and $q$</li>
      </ul>
     </div>
    </div>

    <div class="interactive-demo">
     <h3>Interactive Transformation Explorer</h3>
     <p>Adjust the parameters to see how they transform the parabola.</p>

     <div class="demo-controls">
      <div class="demo-input-group">
       <label for="coeff-a">a (width/direction):</label>
       <input type="number" id="coeff-a" class="demo-input" value="1" step="0.1">
      </div>
      <div class="demo-input-group">
       <label for="coeff-p">p (horizontal shift):</label>
       <input type="number" id="coeff-p" class="demo-input" value="2" step="0.5">
      </div>
      <div class="demo-input-group">
       <label for="coeff-q">q (vertical shift):</label>
       <input type="number" id="coeff-q" class="demo-input" value="1" step="0.5">
      </div>
      <button onclick="updateGraph()" class="demo-button">Update Graph</button>
     </div>

     <div class="graph-container">
      <canvas id="transform-graph" width="500" height="400" style="display: block; margin: 0 auto; border: 1px solid #ccc;"></canvas>
     </div>

     <div id="transform-result" class="demo-result">
      <h4>Current Function: $y = (x-2)^2 + 1$</h4>
      <p id="transform-properties">Vertex at (2, 1), axis of symmetry x = 2.</p>
     </div>
    </div>

    <div class="worked-example">
     <h3>Worked Examples</h3>

     <div style="margin-bottom: 20px;">
      <h4>Example 1: $y = (x-3)^2 + 2$</h4>
      <p>Compared to $y = x^2$:</p>
      <ul>
       <li>Horizontal shift: 3 units to the right</li>
       <li>Vertical shift: 2 units upward</li>
       <li>Vertex: (3, 2)</li>
       <li>Axis of symmetry: x = 3</li>
      </ul>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Example 2: $y = (x+1)^2 - 4$</h4>
      <p>Compared to $y = x^2$:</p>
      <ul>
       <li>Horizontal shift: 1 unit to the left</li>
       <li>Vertical shift: 4 units downward</li>
       <li>Vertex: (-1, -4)</li>
       <li>Axis of symmetry: x = -1</li>
      </ul>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Example 3: $y = 2(x-1)^2 + 3$</h4>
      <p>Compared to $y = x^2$:</p>
      <ul>
       <li>Horizontal shift: 1 unit to the right</li>
       <li>Vertical shift: 3 units upward</li>
       <li>Width: narrower (coefficient 2)</li>
       <li>Vertex: (1, 3)</li>
      </ul>
     </div>
    </div>

    <div class="practice-problem">
     <h3>Practice Problems</h3>

     <div style="margin-bottom: 20px;">
      <h4>Problem 1</h4>
      <p>Find the vertex and axis of symmetry for $y = (x-4)^2 + 5$.</p>
      <button onclick="toggleSolution('sol1')" class="solution-toggle">Show Solution</button>
      <div id="sol1" class="solution-content">
       <p>Vertex: (4, 5), Axis of symmetry: x = 4</p>
      </div>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Problem 2</h4>
      <p>Describe the transformation from $y = x^2$ to $y = (x+2)^2 - 3$.</p>
      <button onclick="toggleSolution('sol2')" class="solution-toggle">Show Solution</button>
      <div id="sol2" class="solution-content">
       <p>Shift 2 units left and 3 units down. Vertex at (-2, -3).</p>
      </div>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Problem 3</h4>
      <p>What is the vertex of $y = 3(x-1)^2 + 2$?</p>
      <button onclick="toggleSolution('sol3')" class="solution-toggle">Show Solution</button>
      <div id="sol3" class="solution-content">
       <p>Vertex: (1, 2)</p>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li>The parameter $p$ controls horizontal shift: positive $p$ shifts right, negative $p$ shifts left</li>
      <li>The parameter $q$ controls vertical shift: positive $q$ shifts up, negative $q$ shifts down</li>
      <li>The vertex is always at the point $(p, q)$</li>
      <li>The axis of symmetry is always the vertical line $x = p$</li>
      <li>The coefficient $a$ still controls width and direction, independent of the shifts</li>
      <li>Transformations can be combined: shift first, then apply width/direction changes</li>
     </ul>
    </div>

    <div>
     <div class="formula">
      $y = a(x-p)^2 + q$
     </div>
     <br/>
     The graph of $y = a(x-p)^2 + q$ is a
     <span class="math-orange">
      parabola
     </span>
     obtained by shifting the graph of $y = ax^2$:
     <ul>
      <li>
       by
       <span class="math-blue">
        $p$
       </span>
       units in the
       <b>
        x
       </b>
       -direction
      </li>
      <li>
       by
       <span class="math-blue">
        $q$
       </span>
       units in the
       <b>
        y
       </b>
       -direction
      </li>
     </ul>
     <div class="graph-row">
      <div class="graph-block">
       <svg height="220" viewbox="0 0 300 220" width="300">
        <!-- Axes -->
        <line stroke="#222" stroke-width="2" x1="30" x2="270" y1="190" y2="190">
        </line>
        <line stroke="#222" stroke-width="2" x1="60" x2="60" y1="210" y2="30">
        </line>
        <!-- y=ax^2 (gray) -->
        <path d="M30,60 Q90,320 150,60" fill="none" stroke="#bbb" stroke-width="3">
        </path>
        <!-- y=a(x-p)^2+q (black) -->
        <path d="M120,40 Q180,240 240,40" fill="none" stroke="#222" stroke-width="3">
        </path>
        <!-- p arrow (blue) -->
        <line marker-end="url(#arrowheadB)" stroke="green" stroke-width="2" x1="90" x2="180" y1="190" y2="190">
        </line>
        <text class="arrow-label" fill="green" font-size="12" x="130" y="208">
         p
        </text>
        <!-- q arrow (orange) -->
        <line marker-end="url(#arrowheadB)" stroke="#e65100" stroke-width="2" x1="180" x2="180" y1="190" y2="140">
        </line>
        <text class="arrow-label" fill="#e65100" font-size="18" x="188" y="165">
         q
        </text>
        <!-- O -->
        <text fill="#222" font-size="16" x="62" y="205">
         O
        </text>
        <!-- x, y -->
        <text fill="#222" font-size="16" x="270" y="205">
         x
        </text>
        <text fill="#222" font-size="16" x="50" y="40">
         y
        </text>
        <!-- Vertex -->
        <circle cx="181" cy="138" fill="#e65100" r="4.3" stroke="#fff" stroke-width="2">
        </circle>
        <text fill="black" font-size="16" x="198" y="145">
         (p, q)
        </text>
        <!-- Definitions for arrowheads -->
        <defs>
         <marker id="arrowheadB" markerheight="8" markerwidth="8" orient="auto" refx="8" refy="4">
          <polygon fill="#1976d2" points="0,0 8,4 0,8">
          </polygon>
         </marker>
         <marker id="arrowheadO" markerheight="8" markerwidth="8" orient="auto" refx="4" refy="8">
          <polygon fill="#e65100" points="0,0 8,4 0,8">
          </polygon>
         </marker>
        </defs>
       </svg>
      </div>
     </div>
     <div class="info-box">
      <b>
       Axis of symmetry:
      </b>
      <span class="math-blue">
       vertical line $x = p$
      </span>
      <br/>
      <b>
       Vertex:
      </b>
      <span class="math-orange">
       point $(p, q)$
      </span>
     </div>
    </div>
   </div>
  </div>

  <script>
   function drawTransformedParabola(a, p, q) {
    const canvas = document.getElementById('transform-graph');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw axes
    ctx.strokeStyle = '#222';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(50, 350);
    ctx.lineTo(450, 350);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(250, 50);
    ctx.lineTo(250, 450);
    ctx.stroke();

    // Draw grid
    ctx.strokeStyle = '#eee';
    ctx.lineWidth = 1;
    for (let i = -5; i <= 5; i++) {
     if (i !== 0) {
      const x = 250 + i * 30;
      const y = 350 - i * 30;
      ctx.beginPath();
      ctx.moveTo(x, 50);
      ctx.lineTo(x, 450);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(50, y);
      ctx.lineTo(450, y);
      ctx.stroke();
     }
    }

    // Draw original y = ax^2 (gray)
    ctx.strokeStyle = '#ccc';
    ctx.lineWidth = 2;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    let first = true;
    for (let x = -5; x <= 5; x += 0.1) {
     const screenX = 250 + x * 30;
     const y = a * x * x;
     const screenY = 350 - y * 10;
     if (screenY >= 50 && screenY <= 450) {
      if (first) {
       ctx.moveTo(screenX, screenY);
       first = false;
      } else {
       ctx.lineTo(screenX, screenY);
      }
     }
    }
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw transformed parabola y = a(x-p)^2 + q
    ctx.strokeStyle = a > 0 ? '#e65100' : '#1976d2';
    ctx.lineWidth = 3;
    ctx.beginPath();
    first = true;
    for (let x = -5; x <= 5; x += 0.1) {
     const screenX = 250 + x * 30;
     const y = a * (x - p) * (x - p) + q;
     const screenY = 350 - y * 10;
     if (screenY >= 50 && screenY <= 450) {
      if (first) {
       ctx.moveTo(screenX, screenY);
       first = false;
      } else {
       ctx.lineTo(screenX, screenY);
      }
     }
    }
    ctx.stroke();

    // Draw vertex
    const vertexX = 250 + p * 30;
    const vertexY = 350 - q * 10;
    ctx.fillStyle = '#e74c3c';
    ctx.beginPath();
    ctx.arc(vertexX, vertexY, 5, 0, 2 * Math.PI);
    ctx.fill();

    // Draw axis of symmetry
    ctx.strokeStyle = '#27ae60';
    ctx.lineWidth = 2;
    ctx.setLineDash([3, 3]);
    ctx.beginPath();
    ctx.moveTo(vertexX, 50);
    ctx.lineTo(vertexX, 450);
    ctx.stroke();
    ctx.setLineDash([]);

    // Labels
    ctx.fillStyle = '#222';
    ctx.font = '14px Arial';
    ctx.fillText('O', 255, 365);
    ctx.fillText('x', 440, 355);
    ctx.fillText('y', 255, 60);
    ctx.fillText(`(${p}, ${q})`, vertexX + 10, vertexY - 10);
   }

   function updateGraph() {
    const a = parseFloat(document.getElementById('coeff-a').value);
    const p = parseFloat(document.getElementById('coeff-p').value);
    const q = parseFloat(document.getElementById('coeff-q').value);

    const direction = a > 0 ? 'upward' : 'downward';
    const width = Math.abs(a) > 1 ? 'narrower' : Math.abs(a) < 1 ? 'wider' : 'same width as';

    document.getElementById('transform-result').innerHTML = `
     <h4>Current Function: $y = ${a}(x-${p})^2 + ${q}$</h4>
     <p>Vertex at (${p}, ${q}), axis of symmetry x = ${p}. Opens ${direction}.</p>
    `;

    drawTransformedParabola(a, p, q);
    MathJax.typeset();
   }

   function toggleSolution(id) {
    const element = document.getElementById(id);
    element.style.display = element.style.display === 'none' ? 'block' : 'none';
   }

   // Initialize
   updateGraph();
  </script>
 </body>
</html>