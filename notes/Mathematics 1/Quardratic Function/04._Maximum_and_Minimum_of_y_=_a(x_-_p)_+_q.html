<!DOCTYPE html>
<!-- tags: Quadratic Functions -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Maximum and Minimum of $y = a(x-p)^2 + q$
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .interactive-demo {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
    border: 2px solid #e1e8ed;
   }
   .demo-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 15px;
   }
   .demo-input-group {
    display: flex;
    flex-direction: column;
    min-width: 120px;
   }
   .demo-input-group label {
    font-weight: bold;
    margin-bottom: 5px;
    color: #2c3e50;
   }
   .demo-input {
    padding: 8px;
    border: 2px solid #bdc3c7;
    border-radius: 6px;
    font-size: 14px;
    transition: border-color 0.3s;
   }
   .demo-input:focus {
    outline: none;
    border-color: #3498db;
   }
   .demo-button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: transform 0.2s;
   }
   .demo-button:hover {
    transform: translateY(-2px);
   }
   .demo-result {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    border-left: 4px solid #3498db;
   }
   .math-foundation {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .worked-example {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .practice-problem {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .solution-toggle {
    background: #2c3e50;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
    transition: background-color 0.3s;
   }
   .solution-toggle:hover {
    background: #34495e;
   }
   .solution-content {
    display: none;
    background: rgba(255, 255, 255, 0.9);
    color: #2c3e50;
    padding: 15px;
    border-radius: 8px;
    margin-top: 10px;
   }
   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .key-takeaways h3 {
    color: #2c3e50;
    margin-top: 0;
   }
   .key-takeaways ul {
    color: #2c3e50;
   }
   .max-min-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin: 20px 0;
   }
   .max-min-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #e67e22;
   }
   .graph-container {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
    border: 2px solid #ecf0f1;
   }
   .extreme-point {
    background: rgba(231, 76, 60, 0.1);
    border: 2px solid #e74c3c;
    border-radius: 8px;
    padding: 10px;
    margin: 10px 0;
    text-align: center;
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Quadratic Functions">
   Maximum and Minimum of $y = a(x-p)^2 + q$
  </div>
  <div class="container">
   <div class="main-content">
    <div class="section-title">
     Maximum and Minimum of $y = a(x-p)^2 + q$
    </div>

    <div class="math-foundation">
     <h3>Mathematical Foundations</h3>
     <p>Quadratic functions have either a maximum or minimum value, depending on the coefficient $a$. This extreme value occurs at the vertex and is crucial for optimization problems in real-world applications.</p>

     <div class="max-min-grid">
      <div class="max-min-card">
       <h4>When $a > 0$ (Opens Upward)</h4>
       <ul>
        <li>Vertex is the minimum point</li>
        <li>Minimum value occurs at $x = p$</li>
        <li>Minimum value is $q$</li>
        <li>Function approaches $+∞$ as $x → ±∞$</li>
        <li>Range: $[q, +∞)$</li>
       </ul>
      </div>

      <div class="max-min-card">
       <h4>When $a < 0$ (Opens Downward)</h4>
       <ul>
        <li>Vertex is the maximum point</li>
        <li>Maximum value occurs at $x = p$</li>
        <li>Maximum value is $q$</li>
        <li>Function approaches $-∞$ as $x → ±∞$</li>
        <li>Range: $(-\infty, q]$</li>
       </ul>
      </div>
     </div>

     <div class="formula-highlight" style="background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #e74c3c;">
      <strong>Extreme Value Formula:</strong>
      <p>For $y = a(x-p)^2 + q$, the extreme value is $q$ at $x = p$.</p>
      <ul>
       <li>If $a > 0$: minimum value = $q$</li>
       <li>If $a < 0$: maximum value = $q$</li>
      </ul>
     </div>
    </div>

    <div class="interactive-demo">
     <h3>Interactive Extreme Value Explorer</h3>
     <p>Adjust the parameters to see how they affect the maximum or minimum value.</p>

     <div class="demo-controls">
      <div class="demo-input-group">
       <label for="coeff-a">a (direction):</label>
       <input type="number" id="coeff-a" class="demo-input" value="1" step="0.5">
      </div>
      <div class="demo-input-group">
       <label for="coeff-p">p (vertex x):</label>
       <input type="number" id="coeff-p" class="demo-input" value="0" step="0.5">
      </div>
      <div class="demo-input-group">
       <label for="coeff-q">q (extreme value):</label>
       <input type="number" id="coeff-q" class="demo-input" value="0" step="0.5">
      </div>
      <button onclick="updateExtremeGraph()" class="demo-button">Update Graph</button>
     </div>

     <div class="graph-container">
      <canvas id="extreme-graph" width="500" height="400" style="display: block; margin: 0 auto; border: 1px solid #ccc;"></canvas>
     </div>

     <div id="extreme-result" class="demo-result">
      <h4>Current Function: $y = (x-0)^2 + 0$</h4>
      <div id="extreme-point" class="extreme-point">
       <strong>Minimum value: 0 at x = 0</strong>
      </div>
     </div>
    </div>

    <div class="worked-example">
     <h3>Worked Examples</h3>

     <div style="margin-bottom: 20px;">
      <h4>Example 1: Finding Minimum Value</h4>
      <p>Find the minimum value of $y = 2(x-3)^2 + 5$.</p>
      <p>Solution: Since $a = 2 > 0$, the vertex is a minimum.</p>
      <p>Minimum value occurs at $x = 3$ and equals $5$.</p>
      <p>The function can be written as $y = 2(x-3)^2 + 5 ≥ 5$.</p>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Example 2: Finding Maximum Value</h4>
      <p>Find the maximum value of $y = -3(x+1)^2 + 4$.</p>
      <p>Solution: Since $a = -3 < 0$, the vertex is a maximum.</p>
      <p>Maximum value occurs at $x = -1$ and equals $4$.</p>
      <p>The function can be written as $y = -3(x+1)^2 + 4 ≤ 4$.</p>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Example 3: Range Determination</h4>
      <p>Find the range of $y = (x-2)^2 - 1$.</p>
      <p>Solution: $a = 1 > 0$, so minimum value is $-1$ at $x = 2$.</p>
      <p>Range: $y ≥ -1$ or $(-∞, -1]$ in interval notation.</p>
     </div>
    </div>

    <div class="practice-problem">
     <h3>Practice Problems</h3>

     <div style="margin-bottom: 20px;">
      <h4>Problem 1</h4>
      <p>Find the minimum value of $y = 3(x-1)^2 + 2$.</p>
      <button onclick="toggleSolution('sol1')" class="solution-toggle">Show Solution</button>
      <div id="sol1" class="solution-content">
       <p>Minimum value is 2 at x = 1.</p>
      </div>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Problem 2</h4>
      <p>Find the maximum value of $y = -2(x+3)^2 + 7$.</p>
      <button onclick="toggleSolution('sol2')" class="solution-toggle">Show Solution</button>
      <div id="sol2" class="solution-content">
       <p>Maximum value is 7 at x = -3.</p>
      </div>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Problem 3</h4>
      <p>What is the range of $y = 4(x-5)^2 - 3$?</p>
      <button onclick="toggleSolution('sol3')" class="solution-toggle">Show Solution</button>
      <div id="sol3" class="solution-content">
       <p>Range: $y ≥ -3$ (minimum value -3 at x = 5).</p>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li>The extreme value of a quadratic function occurs at its vertex</li>
      <li>If $a > 0$, the vertex is a minimum point with value $q$</li>
      <li>If $a < 0$, the vertex is a maximum point with value $q$</li>
      <li>The extreme value is $q$, regardless of the value of $a$</li>
      <li>The x-coordinate of the extreme point is always $p$</li>
      <li>Understanding maximum/minimum values is essential for optimization problems</li>
     </ul>
    </div>

    <div class="case-row">
     <!-- a > 0 -->
     <div class="case-block">
      <div class="case-title">
       $a &lt; 0$ (Upward Parabola)
      </div>
      <svg class="svg-graph" height="220" viewbox="0 0 300 220" width="300">
       <!-- Axes -->
       <line stroke="#222" stroke-width="2" x1="30" x2="270" y1="190" y2="190">
       </line>
       <line stroke="#222" stroke-width="2" x1="60" x2="60" y1="210" y2="30">
       </line>
       <!-- Parabola -->
       <path d="M120,200 Q180,20 240,200" fill="none" stroke="#222" stroke-width="3">
       </path>
       <!-- Axis of symmetry -->
       <line stroke="#1976d2" stroke-dasharray="6,4" stroke-width="2" x1="180" x2="180" y1="190" y2="110">
       </line>
       <text fill="#1976d2" font-size="16" x="185" y="205">
        x=p
       </text>
       <!-- Vertex -->
       <circle cx="180" cy="110" fill="#e65100" r="5" stroke="#fff" stroke-width="2">
       </circle>
       <text fill="#e65100" font-size="16" x="185" y="105">
        (p, q)
       </text>
       <!-- q line -->
       <line stroke="#bbb" stroke-dasharray="4,3" stroke-width="1.5" x1="60" x2="180" y1="110" y2="110">
       </line>
       <text fill="#e65100" font-size="16" x="45" y="115">
        q
       </text>
       <!-- Increase/Decrease arrows -->
       <line marker-end="url(#arrowheadB)" stroke="#1976d2" stroke-width="1.5" x1="150" x2="170" y1="150" y2="130">
       </line>
       <text fill="#1976d2" font-size="13" x="140" y="165">
        増加
       </text>
       <line marker-end="url(#arrowheadO)" stroke="#e65100" stroke-width="1.5" x1="190" x2="210" y1="130" y2="150">
       </line>
       <text fill="#e65100" font-size="13" x="195" y="165">
        減少
       </text>
       <!-- Vertex label -->
       <rect fill="#e3f2fd" height="28" rx="8" stroke="#1976d2" stroke-width="1" width="120" x="125" y="60">
       </rect>
       <text fill="#1976d2" font-size="15" x="130" y="80">
        頂点 y は  最大
       </text>
       <!-- Definitions for arrowheads -->
       <defs>
        <marker id="arrowheadB" markerheight="8" markerwidth="8" orient="auto" refx="8" refy="4">
         <polygon fill="#1976d2" points="0,0 8,4 0,8">
         </polygon>
        </marker>
        <marker id="arrowheadO" markerheight="8" markerwidth="8" orient="auto" refx="8" refy="4">
         <polygon fill="#e65100" points="0,0 8,4 0,8">
         </polygon>
        </marker>
       </defs>
      </svg>
      <div class="desc">
       $y$ takes its
       <span class="math-green">
        maximum
       </span>
       value at the vertex.
       <br/>
       <span class="math-blue">
        No minimum value
       </span>
       .
      </div>
     </div>
     <!-- a < 0 -->
     <div class="case-block">
      <div class="case-title">
       $a &gt; 0$ (Downward Parabola)
      </div>
      <svg class="svg-graph" height="220" viewbox="0 0 300 220" width="300">
       <!-- Axes -->
       <line stroke="#222" stroke-width="2" x1="30" x2="270" y1="190" y2="190">
       </line>
       <line stroke="#222" stroke-width="2" x1="60" x2="60" y1="210" y2="30">
       </line>
       <!-- Parabola -->
       <path d="M120,20 Q180,210 240,20" fill="none" stroke="#222" stroke-width="3">
       </path>
       <!-- Axis of symmetry -->
       <line stroke="#1976d2" stroke-dasharray="6,4" stroke-width="2" x1="180" x2="180" y1="190" y2="110">
       </line>
       <text fill="#1976d2" font-size="16" x="185" y="205">
        x=p
       </text>
       <!-- Vertex -->
       <circle cx="180" cy="115" fill="#e65100" r="5" stroke="#fff" stroke-width="2">
       </circle>
       <text fill="#e65100" font-size="16" x="195" y="122">
        (p, q)
       </text>
       <!-- q line -->
       <line stroke="#bbb" stroke-dasharray="4,3" stroke-width="1.5" x1="60" x2="180" y1="115" y2="115">
       </line>
       <text fill="#e65100" font-size="16" x="45" y="115">
        q
       </text>
       <!-- Move up: arrows and labels moved higher -->
       <line marker-end="url(#arrowheadO)" stroke="#e65100" stroke-width="1.5" x1="150" x2="170" y1="60" y2="80">
       </line>
       <text fill="#e65100" font-size="13" x="140" y="50">
        減少
       </text>
       <line marker-end="url(#arrowheadB)" stroke="#1976d2" stroke-width="1.5" x1="190" x2="210" y1="80" y2="60">
       </line>
       <text fill="#1976d2" font-size="13" x="200" y="50">
        増加
       </text>
       <!-- Vertex label -->
       <rect fill="#e3f2fd" height="28" rx="8" stroke="#1976d2" stroke-width="1" width="100" x="183" y="130">
       </rect>
       <text fill="#1976d2" font-size="15" x="185" y="150">
        頂点 y は 最小
       </text>
       <!-- Definitions for arrowheads -->
       <defs>
        <marker id="arrowheadB" markerheight="8" markerwidth="8" orient="auto" refx="8" refy="4">
         <polygon fill="#1976d2" points="0,0 8,4 0,8">
         </polygon>
        </marker>
        <marker id="arrowheadO" markerheight="8" markerwidth="8" orient="auto" refx="8" refy="4">
         <polygon fill="#e65100" points="0,0 8,4 0,8">
         </polygon>
        </marker>
       </defs>
      </svg>
      <div class="desc">
       $y$ takes its
       <span class="math-green">
        minimum
       </span>
       value at the vertex.
       <br/>
       <span class="math-blue">
        No maximum value
       </span>
       .
      </div>
     </div>
    </div>
    <div class="info-box">
     For the quadratic function $y = a(x-p)^2 + q$:
     <ul>
      <li>
       If
       <span class="math-blue">
        $a &gt; 0$
       </span>
       , the
       <b>
        minimum value
       </b>
       is $q$ at $x = p$. There is
       <b>
        no maximum value
       </b>
       .
      </li>
      <li>
       If
       <span class="math-blue">
        $a &lt; 0$
       </span>
       , the
       <b>
        maximum value
       </b>
       is $q$ at $x = p$. There is
       <b>
        no minimum value
       </b>
       .
      </li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function drawExtremeParabola(a, p, q) {
    const canvas = document.getElementById('extreme-graph');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw axes
    ctx.strokeStyle = '#222';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(50, 350);
    ctx.lineTo(450, 350);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(250, 50);
    ctx.lineTo(250, 450);
    ctx.stroke();

    // Draw grid
    ctx.strokeStyle = '#eee';
    ctx.lineWidth = 1;
    for (let i = -5; i <= 5; i++) {
     if (i !== 0) {
      const x = 250 + i * 30;
      const y = 350 - i * 30;
      ctx.beginPath();
      ctx.moveTo(x, 50);
      ctx.lineTo(x, 450);
      ctx.stroke();
      ctx.beginPath();
      ctx.moveTo(50, y);
      ctx.lineTo(450, y);
      ctx.stroke();
     }
    }

    // Draw parabola y = a(x-p)^2 + q
    ctx.strokeStyle = a > 0 ? '#e65100' : '#1976d2';
    ctx.lineWidth = 3;
    ctx.beginPath();
    let first = true;
    for (let x = -5; x <= 5; x += 0.1) {
     const screenX = 250 + x * 30;
     const y = a * (x - p) * (x - p) + q;
     const screenY = 350 - y * 10;
     if (screenY >= 50 && screenY <= 450) {
      if (first) {
       ctx.moveTo(screenX, screenY);
       first = false;
      } else {
       ctx.lineTo(screenX, screenY);
      }
     }
    }
    ctx.stroke();

    // Draw vertex
    const vertexX = 250 + p * 30;
    const vertexY = 350 - q * 10;
    ctx.fillStyle = '#e74c3c';
    ctx.beginPath();
    ctx.arc(vertexX, vertexY, 6, 0, 2 * Math.PI);
    ctx.fill();

    // Draw axis of symmetry
    ctx.strokeStyle = '#27ae60';
    ctx.lineWidth = 2;
    ctx.setLineDash([3, 3]);
    ctx.beginPath();
    ctx.moveTo(vertexX, 50);
    ctx.lineTo(vertexX, 450);
    ctx.stroke();
    ctx.setLineDash([]);

    // Labels
    ctx.fillStyle = '#222';
    ctx.font = '14px Arial';
    ctx.fillText('O', 255, 365);
    ctx.fillText('x', 440, 355);
    ctx.fillText('y', 255, 60);
   }

   function updateExtremeGraph() {
    const a = parseFloat(document.getElementById('coeff-a').value);
    const p = parseFloat(document.getElementById('coeff-p').value);
    const q = parseFloat(document.getElementById('coeff-q').value);

    const extremeType = a > 0 ? 'Minimum' : 'Maximum';

    document.getElementById('extreme-result').innerHTML = `
     <h4>Current Function: $y = ${a}(x-${p})^2 + ${q}$</h4>
     <div class="extreme-point">
      <strong>${extremeType} value: ${q} at x = ${p}</strong>
     </div>
    `;

    drawExtremeParabola(a, p, q);
    MathJax.typeset();
   }

   function toggleSolution(id) {
    const element = document.getElementById(id);
    element.style.display = element.style.display === 'none' ? 'block' : 'none';
   }

   // Initialize
   updateExtremeGraph();
  </script>
 </body>
</html>