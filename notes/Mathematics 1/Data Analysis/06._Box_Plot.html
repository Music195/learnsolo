<!DOCTYPE html>
<!-- tags: Data Analysis -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Box Plot (ÁÆ±„Å≤„ÅíÂõ≥)
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .interactive-demo {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border: 2px solid #3498db;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
   }
   .demo-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    margin-bottom: 20px;
   }
   .control-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
   }
   .control-group label {
    font-weight: bold;
    color: #2c3e50;
   }
   .control-group input, .control-group textarea {
    padding: 8px;
    border: 1px solid #bdc3c7;
    border-radius: 5px;
    font-size: 14px;
   }
   .control-group textarea {
    min-height: 60px;
    resize: vertical;
   }
   .demo-output {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    border: 1px solid #ecf0f1;
   }
   .formula-block {
    background: #ecf0f1;
    border-left: 4px solid #3498db;
    padding: 15px;
    margin: 15px 0;
    font-family: 'Times New Roman', serif;
   }
   .practice-problem {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .solution {
    background: #d4edda;
    border: 1px solid #c3e6cb;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    display: none;
   }
   .solution-button {
    background: #007bff;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
   }
   .solution-button:hover {
    background: #0056b3;
   }
   .key-takeaways {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .key-takeaways h3 {
    margin-top: 0;
    color: white;
   }
   .key-takeaways ul {
    margin: 10px 0 0 0;
    padding-left: 20px;
   }
   .key-takeaways li {
    margin: 8px 0;
   }
   .worked-example {
    background: #e8f4f8;
    border: 1px solid #bee5eb;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .worked-example h4 {
    margin-top: 0;
    color: #0c5460;
   }
   .math-foundation {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .math-foundation h3 {
    margin-top: 0;
    color: #2c3e50;
   }
   .boxplot-components {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
   }
   .component {
    background: white;
    border: 1px solid #ecf0f1;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
   }
   .component h4 {
    margin-top: 0;
    color: #2c3e50;
   }
   .component .description {
    font-size: 14px;
    color: #666;
    margin-top: 10px;
   }
   .boxplot-container {
    background: white;
    border: 1px solid #ecf0f1;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
    text-align: center;
   }
   .boxplot-svg {
    max-width: 100%;
    height: auto;
   }
   .outlier-detection {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 8px;
    padding: 15px;
    margin: 20px 0;
   }
   .interpretation-guide {
    background: #e8f4f8;
    border: 1px solid #bee5eb;
    border-radius: 8px;
    padding: 15px;
    margin: 20px 0;
   }
   .interpretation-guide h4 {
    margin-top: 0;
    color: #0c5460;
   }
   .comparison-section {
    background: white;
    border: 1px solid #ecf0f1;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
   }
   .dataset-inputs {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
   }
   .dataset-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
   }
   .dataset-group label {
    font-weight: bold;
    color: #2c3e50;
   }
   .dataset-group input {
    padding: 8px;
    border: 1px solid #bdc3c7;
    border-radius: 5px;
   }
   .statistics-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 10px;
    margin: 15px 0;
   }
   .stat-item {
    background: #f8f9fa;
    padding: 10px;
    border-radius: 5px;
    text-align: center;
   }
   .stat-item .value {
    font-size: 1.2em;
    font-weight: bold;
    color: #3498db;
   }
   .stat-item .label {
    font-size: 0.9em;
    color: #666;
   }
   @media (max-width: 768px) {
    .demo-controls {
     flex-direction: column;
     align-items: stretch;
    }
    .control-group {
     width: 100%;
    }
    .boxplot-components {
     grid-template-columns: 1fr;
    }
    .dataset-inputs {
     grid-template-columns: 1fr;
    }
    .statistics-summary {
     grid-template-columns: repeat(2, 1fr);
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Data Analysis">
   Box Plot (ÁÆ±„Å≤„ÅíÂõ≥)
  </div>
  <div class="container">
   <div class="main-content">

    <div class="math-foundation">
     <h3>Mathematical Foundation</h3>
     <p>A box plot (also known as a box-and-whisker plot) is a standardized way of displaying the distribution of data based on five key summary statistics: minimum, first quartile, median, third quartile, and maximum. It provides a visual representation of the data's central tendency, spread, and skewness, making it easy to compare distributions across different datasets.</p>

     <div class="formula-block">
      <strong>Box Plot Components:</strong>
      <ul>
       <li><strong>Minimum:</strong> Smallest value (or Q‚ÇÅ - 1.5√óIQR for outliers)</li>
       <li><strong>Q‚ÇÅ (First Quartile):</strong> 25th percentile - bottom of box</li>
       <li><strong>Median (Q‚ÇÇ):</strong> 50th percentile - line inside box</li>
       <li><strong>Q‚ÇÉ (Third Quartile):</strong> 75th percentile - top of box</li>
       <li><strong>Maximum:</strong> Largest value (or Q‚ÇÉ + 1.5√óIQR for outliers)</li>
       <li><strong>IQR (Interquartile Range):</strong> Q‚ÇÉ - Q‚ÇÅ - length of box</li>
       <li><strong>Whiskers:</strong> Lines extending from box to min/max (or outlier boundaries)</li>
       <li><strong>Outliers:</strong> Points beyond 1.5√óIQR from Q‚ÇÅ or Q‚ÇÉ</li>
      </ul>
     </div>
    </div>

    <div class="boxplot-components">
     <div class="component">
      <h4>üì¶ Box (IQR)</h4>
      <div class="description">Contains middle 50% of data (Q‚ÇÅ to Q‚ÇÉ)</div>
     </div>
     <div class="component">
      <h4>üìè Whiskers</h4>
      <div class="description">Extend to minimum and maximum values</div>
     </div>
     <div class="component">
      <h4>‚îÅ Median Line</h4>
      <div class="description">Shows the middle value (50th percentile)</div>
     </div>
     <div class="component">
      <h4>‚óè Outliers</h4>
      <div class="description">Extreme values beyond whiskers</div>
     </div>
    </div>

    <div class="boxplot-container">
     <h4>Standard Box Plot Structure</h4>
     <div style="width:600px; margin:0 auto; position:relative;">
      <div style="display:flex; justify-content:space-between; width:100%; margin-bottom:8px; font-size:1.08em; color:#1976d2; font-weight:bold;">
       <span style="width:60px; text-align:center;">Min</span>
       <span style="width:90px; text-align:center;">Q1</span>
       <span style="width:90px; text-align:center;">Median</span>
       <span style="width:90px; text-align:center;">Q3</span>
       <span style="width:60px; text-align:center;">Max</span>
      </div>
      <svg height="140" viewbox="0 0 600 140" width="600" class="boxplot-svg">
       <line stroke="#222" stroke-width="2" x1="60" x2="150" y1="70" y2="70"></line>
       <line stroke="#222" stroke-width="2" x1="450" x2="540" y1="70" y2="70"></line>
       <line stroke="#222" stroke-width="2" x1="60" x2="60" y1="55" y2="85"></line>
       <line stroke="#ff7043" stroke-width="2" x1="540" x2="540" y1="55" y2="85"></line>
       <rect fill="#fff" height="60" stroke="#222" stroke-width="2" width="300" x="150" y="40"></rect>
       <line stroke="#ff7043" stroke-width="3" x1="240" x2="240" y1="40" y2="100"></line>
       <line stroke="#ff7043" stroke-width="3" x1="150" x2="150" y1="40" y2="100"></line>
       <line stroke="#222" stroke-width="3" x1="450" x2="450" y1="40" y2="100"></line>
       <text fill="#222" font-size="18" text-anchor="middle" x="45" y="125">Minimum</text>
       <text fill="#ff7043" font-size="18" text-anchor="middle" x="150" y="125">Q‚ÇÅ</text>
       <text fill="#ff7043" font-size="18" text-anchor="middle" x="240" y="125">Median</text>
       <text fill="#222" font-size="18" text-anchor="middle" x="450" y="125">Q‚ÇÉ</text>
       <text fill="#ff7043" font-size="18" text-anchor="middle" x="540" y="125">Maximum</text>
      </svg>
     </div>
    </div>

    <div class="outlier-detection">
     <h4>Outlier Detection in Box Plots</h4>
     <p><strong>Lower Fence:</strong> Q‚ÇÅ - 1.5 √ó IQR</p>
     <p><strong>Upper Fence:</strong> Q‚ÇÉ + 1.5 √ó IQR</p>
     <p>Values outside these fences are considered outliers and are plotted as individual points.</p>
    </div>

    <div class="interactive-demo">
     <h3>Interactive Box Plot Generator</h3>
     <div class="demo-controls">
      <div class="control-group">
       <label for="data-input">Data Values (comma-separated):</label>
       <textarea id="data-input" placeholder="e.g., 2, 5, 7, 8, 10, 12, 15, 18, 20">2, 5, 7, 8, 10, 12, 15, 18, 20</textarea>
      </div>
      <button onclick="generateBoxPlot()" style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; align-self: flex-end;">Generate Box Plot</button>
     </div>

     <div class="demo-output" id="demo-output">
      <strong>Current Data:</strong> [2, 5, 7, 8, 10, 12, 15, 18, 20]<br>
      <div class="statistics-summary">
       <div class="stat-item">
        <div class="value">2</div>
        <div class="label">Min</div>
       </div>
       <div class="stat-item">
        <div class="value">6.5</div>
        <div class="label">Q‚ÇÅ</div>
       </div>
       <div class="stat-item">
        <div class="value">11</div>
        <div class="label">Median</div>
       </div>
       <div class="stat-item">
        <div class="value">16.5</div>
        <div class="label">Q‚ÇÉ</div>
       </div>
       <div class="stat-item">
        <div class="value">20</div>
        <div class="label">Max</div>
       </div>
       <div class="stat-item">
        <div class="value">10</div>
        <div class="label">IQR</div>
       </div>
      </div>
      <div id="boxplot-viz" style="text-align: center; margin: 20px 0;">
       <!-- Box plot will be generated here -->
      </div>
     </div>
    </div>

    <div class="interpretation-guide">
     <h4>How to Interpret Box Plots</h4>
     <ul>
      <li><strong>Symmetry:</strong> If median is centered in box, data is symmetric</li>
      <li><strong>Skewness:</strong> If median is closer to Q‚ÇÅ, data is right-skewed; closer to Q‚ÇÉ, left-skewed</li>
      <li><strong>Spread:</strong> Longer box/whiskers indicate greater variability</li>
      <li><strong>Outliers:</strong> Points beyond whiskers are unusual observations</li>
      <li><strong>Comparison:</strong> Side-by-side box plots show differences between groups</li>
     </ul>
    </div>

    <div class="worked-example">
     <h4>Worked Example 1: Basic Box Plot</h4>
     <p>Create a box plot for: 3, 7, 8, 12, 15, 18, 22</p>
     <p><strong>Solution:</strong></p>
     <p>Sorted: 3, 7, 8, 12, 15, 18, 22</p>
     <p>Min = 3, Q‚ÇÅ = 7, Median = 12, Q‚ÇÉ = 18, Max = 22</p>
     <p>The box extends from 7 to 18, with median at 12. Whiskers extend to 3 and 22.</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 2: Box Plot with Outliers</h4>
     <p>Data: 1, 3, 5, 7, 9, 11, 13, 50</p>
     <p><strong>Solution:</strong></p>
     <p>Sorted: 1, 3, 5, 7, 9, 11, 13, 50</p>
     <p>Q‚ÇÅ = 4, Q‚ÇÉ = 12, IQR = 8</p>
     <p>Upper fence = 12 + 1.5√ó8 = 24</p>
     <p>50 > 24, so 50 is an outlier</p>
     <p>Whiskers extend to 13 (not including outlier)</p>
    </div>

    <div class="comparison-section">
     <h4>Comparing Multiple Datasets</h4>
     <div class="dataset-inputs">
      <div class="dataset-group">
       <label for="dataset1">Dataset A:</label>
       <input id="dataset1" placeholder="e.g., 2, 4, 6, 8, 10" value="2, 4, 6, 8, 10">
      </div>
      <div class="dataset-group">
       <label for="dataset2">Dataset B:</label>
       <input id="dataset2" placeholder="e.g., 1, 5, 7, 9, 15" value="1, 5, 7, 9, 15">
      </div>
     </div>
     <button onclick="compareDatasets()" style="padding: 8px 16px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">Compare Datasets</button>
     <div id="comparison-output" style="margin-top: 20px;"></div>
    </div>

    <h3>Practice Problems</h3>

    <div class="practice-problem">
     <strong>Problem 1:</strong> For data: 5, 8, 12, 15, 18, 20, 25, draw a box plot and identify any outliers.
     <br><button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
     <div class="solution" id="solution1">
      <strong>Solution:</strong><br>
      Sorted: 5, 8, 12, 15, 18, 20, 25<br>
      Q‚ÇÅ = (8+12)/2 = 10, Q‚ÇÉ = (18+20)/2 = 19, IQR = 9<br>
      Fences: Lower = 10-13.5 = -3.5, Upper = 19+13.5 = 32.5<br>
      No outliers. Box from 10-19, median at 15, whiskers to 5 and 25.
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 2:</strong> Compare these datasets: A=[2,4,6,8,10], B=[1,3,7,9,15]. Which has greater spread?
     <br><button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
     <div class="solution" id="solution2">
      <strong>Solution:</strong><br>
      Dataset A: Min=2, Q‚ÇÅ=4, Med=6, Q‚ÇÉ=8, Max=10, IQR=4<br>
      Dataset B: Min=1, Q‚ÇÅ=3, Med=7, Q‚ÇÉ=9, Max=15, IQR=6<br>
      Dataset B has greater IQR (6 vs 4) and longer whiskers, indicating greater spread.
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 3:</strong> Data: 1, 2, 3, 4, 100. Is 100 an outlier?
     <br><button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
     <div class="solution" id="solution3">
      <strong>Solution:</strong><br>
      Q‚ÇÅ = 2, Q‚ÇÉ = 4, IQR = 2<br>
      Upper fence = 4 + 1.5√ó2 = 7<br>
      100 > 7, so yes, 100 is an outlier.
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 4:</strong> What does a box plot with median closer to Q‚ÇÅ indicate?
     <br><button class="solution-button" onclick="toggleSolution(4)">Show Solution</button>
     <div class="solution" id="solution4">
      <strong>Solution:</strong><br>
      The data is right-skewed (positively skewed) - the median is closer to Q‚ÇÅ than to Q‚ÇÉ, indicating a longer right tail.
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 5:</strong> Box plot shows Q‚ÇÅ=10, Q‚ÇÉ=20, median=18. What can you conclude?
     <br><button class="solution-button" onclick="toggleSolution(5)">Show Solution</button>
     <div class="solution" id="solution5">
      <strong>Solution:</strong><br>
      The median (18) is closer to Q‚ÇÉ (20) than to Q‚ÇÅ (10), indicating left-skewed (negatively skewed) data with a longer left tail.
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>Advantages of Box Plots:</strong>
     <ul>
      <li>Shows five-number summary at a glance</li>
      <li>Identifies outliers clearly</li>
      <li>Easy comparison of multiple datasets</li>
      <li>Reveals data distribution shape (symmetry/skewness)</li>
      <li>Robust to extreme values</li>
     </ul>
    </div>

    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Five-Number Summary:</strong> Box plots display minimum, Q‚ÇÅ, median, Q‚ÇÉ, and maximum.</li>
      <li><strong>Box Length:</strong> Represents IQR (interquartile range) - spread of middle 50% of data.</li>
      <li><strong>Median Position:</strong> Location within box indicates skewness of distribution.</li>
      <li><strong>Whiskers:</strong> Show data range (excluding outliers); length indicates variability.</li>
      <li><strong>Outliers:</strong> Points beyond 1.5√óIQR from quartiles, plotted individually.</li>
      <li><strong>Comparison:</strong> Side-by-side box plots effectively compare distributions across groups.</li>
      <li><strong>Robustness:</strong> Less affected by extreme values than mean-based statistics.</li>
      <li><strong>Interpretation:</strong> Symmetric box indicates symmetric data; asymmetric box shows skewness.</li>
     </ul>
    </div>

    <script>
     function generateBoxPlot() {
      const input = document.getElementById('data-input').value;
      const values = input.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x));

      if (values.length < 5) {
       alert('Please enter at least 5 values to create a meaningful box plot.');
       return;
      }

      // Sort the values
      const sorted = [...values].sort((a, b) => a - b);
      const n = sorted.length;

      // Calculate quartiles
      const q1 = getQuartileValue(sorted, (n + 1) / 4);
      const median = n % 2 === 1 ? sorted[Math.floor(n / 2)] : (sorted[n / 2 - 1] + sorted[n / 2]) / 2;
      const q3 = getQuartileValue(sorted, 3 * (n + 1) / 4);
      const min = sorted[0];
      const max = sorted[sorted.length - 1];
      const iqr = q3 - q1;

      // Calculate outlier boundaries
      const lowerFence = q1 - 1.5 * iqr;
      const upperFence = q3 + 1.5 * iqr;

      // Find actual whiskers (excluding outliers)
      const lowerWhisker = Math.max(min, lowerFence);
      const upperWhisker = Math.min(max, upperFence);

      // Find outliers
      const outliers = sorted.filter(x => x < lowerFence || x > upperFence);

      // Update statistics display
      const output = document.getElementById('demo-output');
      output.innerHTML = `<strong>Current Data:</strong> [${values.join(', ')}]<br>
      <strong>Sorted Data:</strong> [${sorted.join(', ')}]<br>
      <div class="statistics-summary">
       <div class="stat-item">
        <div class="value">${min}</div>
        <div class="label">Min</div>
       </div>
       <div class="stat-item">
        <div class="value">${q1.toFixed(1)}</div>
        <div class="label">Q‚ÇÅ</div>
       </div>
       <div class="stat-item">
        <div class="value">${median.toFixed(1)}</div>
        <div class="label">Median</div>
       </div>
       <div class="stat-item">
        <div class="value">${q3.toFixed(1)}</div>
        <div class="label">Q‚ÇÉ</div>
       </div>
       <div class="stat-item">
        <div class="value">${max}</div>
        <div class="label">Max</div>
       </div>
       <div class="stat-item">
        <div class="value">${iqr.toFixed(1)}</div>
        <div class="label">IQR</div>
       </div>
      </div>
      ${outliers.length > 0 ? `<strong>Outliers:</strong> [${outliers.join(', ')}]<br>` : '<strong>No outliers detected</strong><br>'}
      <div id="boxplot-viz" style="text-align: center; margin: 20px 0;">
       ${createBoxPlotSVG(min, q1, median, q3, max, lowerWhisker, upperWhisker, outliers)}
      </div>`;

      // Re-render MathJax
      if (window.MathJax) {
       MathJax.typesetPromise([output]).catch(function(err) {
        console.log('MathJax re-render error:', err);
       });
      }
     }

     function getQuartileValue(sorted, position) {
      const n = sorted.length;
      const lowerIndex = Math.floor(position) - 1;
      const upperIndex = Math.ceil(position) - 1;

      if (lowerIndex === upperIndex) {
       return sorted[lowerIndex];
      } else {
       const lowerValue = sorted[lowerIndex];
       const upperValue = sorted[upperIndex];
       const fraction = position - Math.floor(position);
       return lowerValue + fraction * (upperValue - lowerValue);
      }
     }

     function createBoxPlotSVG(min, q1, median, q3, max, lowerWhisker, upperWhisker, outliers) {
      // Scale values to SVG coordinates (assuming data range fits in 400 units)
      const dataRange = max - min;
      const scale = dataRange > 0 ? 400 / dataRange : 1;
      const offset = 50;

      const scaleX = (value) => offset + (value - min) * scale;

      const q1X = scaleX(q1);
      const medianX = scaleX(median);
      const q3X = scaleX(q3);
      const lowerWhiskerX = scaleX(lowerWhisker);
      const upperWhiskerX = scaleX(upperWhisker);

      let svg = `<svg width="500" height="120" viewBox="0 0 500 120">
       <!-- Whiskers -->
       <line stroke="#222" stroke-width="2" x1="${lowerWhiskerX}" y1="60" x2="${q1X}" y2="60"></line>
       <line stroke="#222" stroke-width="2" x1="${q3X}" y1="60" x2="${upperWhiskerX}" y2="60"></line>

       <!-- Whisker caps -->
       <line stroke="#222" stroke-width="2" x1="${lowerWhiskerX}" y1="45" x2="${lowerWhiskerX}" y2="75"></line>
       <line stroke="#222" stroke-width="2" x1="${upperWhiskerX}" y1="45" x2="${upperWhiskerX}" y2="75"></line>

       <!-- Box -->
       <rect fill="#fff" stroke="#222" stroke-width="2" x="${q1X}" y="30" width="${q3X - q1X}" height="60"></rect>

       <!-- Median line -->
       <line stroke="#ff7043" stroke-width="3" x1="${medianX}" y1="30" x2="${medianX}" y2="90"></line>

       <!-- Outliers -->
       ${outliers.map(outlier => {
        const outlierX = scaleX(outlier);
        return `<circle cx="${outlierX}" cy="60" r="4" fill="#e74c3c" stroke="#222" stroke-width="1"></circle>`;
       }).join('')}

       <!-- Labels -->
       <text x="${lowerWhiskerX}" y="105" text-anchor="middle" font-size="12">${lowerWhisker.toFixed(1)}</text>
       <text x="${q1X}" y="105" text-anchor="middle" font-size="12">${q1.toFixed(1)}</text>
       <text x="${medianX}" y="105" text-anchor="middle" font-size="12">${median.toFixed(1)}</text>
       <text x="${q3X}" y="105" text-anchor="middle" font-size="12">${q3.toFixed(1)}</text>
       <text x="${upperWhiskerX}" y="105" text-anchor="middle" font-size="12">${upperWhisker.toFixed(1)}</text>
      </svg>`;

      return svg;
     }

     function compareDatasets() {
      const input1 = document.getElementById('dataset1').value;
      const input2 = document.getElementById('dataset2').value;

      const values1 = input1.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x));
      const values2 = input2.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x));

      if (values1.length < 3 || values2.length < 3) {
       alert('Please enter at least 3 values for each dataset.');
       return;
      }

      // Calculate statistics for both datasets
      const stats1 = calculateStats(values1);
      const stats2 = calculateStats(values2);

      const output = document.getElementById('comparison-output');
      output.innerHTML = `
       <h4>Dataset Comparison</h4>
       <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div>
         <h5>Dataset A</h5>
         <div class="statistics-summary">
          <div class="stat-item"><div class="value">${stats1.min}</div><div class="label">Min</div></div>
          <div class="stat-item"><div class="value">${stats1.q1.toFixed(1)}</div><div class="label">Q‚ÇÅ</div></div>
          <div class="stat-item"><div class="value">${stats1.median.toFixed(1)}</div><div class="label">Median</div></div>
          <div class="stat-item"><div class="value">${stats1.q3.toFixed(1)}</div><div class="label">Q‚ÇÉ</div></div>
          <div class="stat-item"><div class="value">${stats1.max}</div><div class="label">Max</div></div>
          <div class="stat-item"><div class="value">${stats1.iqr.toFixed(1)}</div><div class="label">IQR</div></div>
         </div>
        </div>
        <div>
         <h5>Dataset B</h5>
         <div class="statistics-summary">
          <div class="stat-item"><div class="value">${stats2.min}</div><div class="label">Min</div></div>
          <div class="stat-item"><div class="value">${stats2.q1.toFixed(1)}</div><div class="label">Q‚ÇÅ</div></div>
          <div class="stat-item"><div class="value">${stats2.median.toFixed(1)}</div><div class="label">Median</div></div>
          <div class="stat-item"><div class="value">${stats2.q3.toFixed(1)}</div><div class="label">Q‚ÇÉ</div></div>
          <div class="stat-item"><div class="value">${stats2.max}</div><div class="label">Max</div></div>
          <div class="stat-item"><div class="value">${stats2.iqr.toFixed(1)}</div><div class="label">IQR</div></div>
         </div>
        </div>
       </div>
      `;
     }

     function calculateStats(values) {
      const sorted = [...values].sort((a, b) => a - b);
      const n = sorted.length;
      const q1 = getQuartileValue(sorted, (n + 1) / 4);
      const median = n % 2 === 1 ? sorted[Math.floor(n / 2)] : (sorted[n / 2 - 1] + sorted[n / 2]) / 2;
      const q3 = getQuartileValue(sorted, 3 * (n + 1) / 4);
      const min = sorted[0];
      const max = sorted[sorted.length - 1];
      const iqr = q3 - q1;

      return { min, q1, median, q3, max, iqr };
     }

     function toggleSolution(num) {
      const solution = document.getElementById('solution' + num);
      if (solution.style.display === 'none' || solution.style.display === '') {
       solution.style.display = 'block';
      } else {
       solution.style.display = 'none';
      }
     }

     // Initialize with default data
     generateBoxPlot();
    </script>
   </div>
  </div>
 </body>
</html>
