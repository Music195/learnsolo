<!DOCTYPE html>
<!-- tags: Data Analysis -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Mode (最頻値, モード)
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .interactive-demo {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border: 2px solid #3498db;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
   }
   .demo-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    margin-bottom: 20px;
   }
   .control-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
   }
   .control-group label {
    font-weight: bold;
    color: #2c3e50;
   }
   .control-group input, .control-group textarea {
    padding: 8px;
    border: 1px solid #bdc3c7;
    border-radius: 5px;
    font-size: 14px;
   }
   .control-group textarea {
    min-height: 60px;
    resize: vertical;
   }
   .demo-output {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    border: 1px solid #ecf0f1;
   }
   .formula-block {
    background: #ecf0f1;
    border-left: 4px solid #3498db;
    padding: 15px;
    margin: 15px 0;
    font-family: 'Times New Roman', serif;
   }
   .practice-problem {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .solution {
    background: #d4edda;
    border: 1px solid #c3e6cb;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    display: none;
   }
   .solution-button {
    background: #007bff;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
   }
   .solution-button:hover {
    background: #0056b3;
   }
   .key-takeaways {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .key-takeaways h3 {
    margin-top: 0;
    color: white;
   }
   .key-takeaways ul {
    margin: 10px 0 0 0;
    padding-left: 20px;
   }
   .key-takeaways li {
    margin: 8px 0;
   }
   .worked-example {
    background: #e8f4f8;
    border: 1px solid #bee5eb;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .worked-example h4 {
    margin-top: 0;
    color: #0c5460;
   }
   .math-foundation {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .math-foundation h3 {
    margin-top: 0;
    color: #2c3e50;
   }
   .frequency-table {
    background: white;
    border: 1px solid #ecf0f1;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
    overflow-x: auto;
   }
   .frequency-table table {
    width: 100%;
    border-collapse: collapse;
   }
   .frequency-table th, .frequency-table td {
    border: 1px solid #bdc3c7;
    padding: 8px 12px;
    text-align: center;
   }
   .frequency-table th {
    background: #f8f9fa;
    font-weight: bold;
   }
   .frequency-table .mode-row {
    background: #fff3cd;
    font-weight: bold;
   }
   .mode-types {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin: 20px 0;
   }
   .mode-type {
    background: white;
    border: 1px solid #ecf0f1;
    border-radius: 8px;
    padding: 15px;
    text-align: center;
   }
   .mode-type h4 {
    margin-top: 0;
    color: #2c3e50;
   }
   .mode-type .example {
    font-size: 14px;
    color: #666;
    margin-top: 10px;
   }
   .data-frequency {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 15px 0;
    justify-content: center;
   }
   .data-item {
    background: #3498db;
    color: white;
    padding: 8px 12px;
    border-radius: 5px;
    font-weight: bold;
    position: relative;
   }
   .data-item.mode {
    background: #e74c3c !important;
    transform: scale(1.1);
   }
   .frequency-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background: #f39c12;
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
   }
   .mode-summary {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 20px 0;
    flex-wrap: wrap;
   }
   .mode-stat {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    min-width: 120px;
   }
   .mode-stat .value {
    font-size: 1.5em;
    font-weight: bold;
    color: #e74c3c;
   }
   .mode-stat .label {
    font-size: 0.9em;
    color: #666;
    margin-top: 5px;
   }
   @media (max-width: 768px) {
    .demo-controls {
     flex-direction: column;
     align-items: stretch;
    }
    .control-group {
     width: 100%;
    }
    .mode-summary {
     flex-direction: column;
     align-items: center;
    }
    .mode-stat {
     width: 100%;
     max-width: 200px;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Data Analysis">
   Mode (最頻値, モード)
  </div>
  <div class="container">
   <div class="main-content">

    <div class="math-foundation">
     <h3>Mathematical Foundation</h3>
     <p>The mode is the value that appears most frequently in a dataset. It represents the most common or typical value in the data distribution. Unlike mean and median, the mode can be used with both numerical and categorical data. A dataset may have no mode, one mode (unimodal), two modes (bimodal), or multiple modes (multimodal).</p>

     <div class="formula-block">
      <strong>Mode Definition:</strong>
      <ul>
       <li>The value(s) with the highest frequency in a dataset</li>
       <li>For grouped data: The class interval with the highest frequency</li>
       <li>Can be calculated for any data type (nominal, ordinal, interval, ratio)</li>
      </ul>
      <strong>Types of Mode:</strong>
      <ul>
       <li><strong>Unimodal:</strong> One value appears most frequently</li>
       <li><strong>Bimodal:</strong> Two values appear most frequently (with same highest frequency)</li>
       <li><strong>Multimodal:</strong> Three or more values appear most frequently</li>
       <li><strong>No mode:</strong> All values appear with equal frequency</li>
      </ul>
     </div>
    </div>

    <div class="mode-types">
     <div class="mode-type">
      <h4>Unimodal</h4>
      <div class="example">Data: 2, 3, 3, 4, 5<br>Mode: 3</div>
     </div>
     <div class="mode-type">
      <h4>Bimodal</h4>
      <div class="example">Data: 2, 2, 3, 3, 4<br>Mode: 2 and 3</div>
     </div>
     <div class="mode-type">
      <h4>Multimodal</h4>
      <div class="example">Data: 1, 1, 2, 2, 3, 3<br>Mode: 1, 2, and 3</div>
     </div>
     <div class="mode-type">
      <h4>No Mode</h4>
      <div class="example">Data: 1, 2, 3, 4, 5<br>Mode: None</div>
     </div>
    </div>

    <div class="diagram-row">
     <div class="diagram">
      <div class="diagram-title">
       Example: Frequency Bar Chart
      </div>
      <div class="bars">
       <div class="bar" style="height: 22px;">
       </div>
       <div class="bar" style="height: 38px;">
       </div>
       <div class="bar mode" style="height: 56px;">
       </div>
       <div class="bar" style="height: 30px;">
       </div>
       <div class="bar" style="height: 18px;">
       </div>
      </div>
      <div style="display:flex; justify-content:center; gap:12px;">
       <div class="bar-label">
        A
       </div>
       <div class="bar-label">
        B
       </div>
       <div class="bar-label" style="color:#ff7043;font-weight:bold;">
        C
       </div>
       <div class="bar-label">
        D
       </div>
       <div class="bar-label">
        E
       </div>
      </div>
      <div style="margin-top:8px; color:#ff7043; font-weight:bold;">
       Mode = C
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <h3>Interactive Mode Calculator</h3>
     <div class="demo-controls">
      <div class="control-group">
       <label for="data-input">Data Values (comma-separated):</label>
       <textarea id="data-input" placeholder="e.g., 2, 3, 3, 4, 5, 3, 6">2, 3, 3, 4, 5, 3, 6</textarea>
      </div>
      <button onclick="calculateMode()" style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; align-self: flex-end;">Calculate Mode</button>
     </div>

     <div class="data-visualization" id="data-viz">
      <h4>Data Frequency Visualization</h4>
      <div id="data-frequency" class="data-frequency"></div>
     </div>

     <div class="demo-output" id="demo-output">
      <strong>Current Data:</strong> [2, 3, 3, 4, 5, 3, 6]<br>
      <strong>Frequency Table:</strong><br>
      <div class="frequency-table" style="margin: 10px 0;">
       <table>
        <tr><th>Value</th><th>Frequency</th></tr>
        <tr><td>2</td><td>1</td></tr>
        <tr class="mode-row"><td>3</td><td>3</td></tr>
        <tr><td>4</td><td>1</td></tr>
        <tr><td>5</td><td>1</td></tr>
        <tr><td>6</td><td>1</td></tr>
       </table>
      </div>
      <strong>Mode:</strong> 3 (appears 3 times)<br>
      <strong>Mode Type:</strong> Unimodal
     </div>
    </div>

    <div class="worked-example">
     <h4>Worked Example 1: Finding Mode in Raw Data</h4>
     <p>Find the mode of: 12, 15, 18, 15, 20, 15, 22</p>
     <p><strong>Solution:</strong></p>
     <p>Values: 12, 15, 18, 15, 20, 15, 22</p>
     <p>Frequency: 12(1), 15(3), 18(1), 20(1), 22(1)</p>
     <p>Mode = 15 (appears most frequently)</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 2: Bimodal Data</h4>
     <p>Find the mode of: 5, 7, 5, 8, 7, 9, 5, 7</p>
     <p><strong>Solution:</strong></p>
     <p>Values: 5, 7, 5, 8, 7, 9, 5, 7</p>
     <p>Frequency: 5(3), 7(3), 8(1), 9(1)</p>
     <p>Modes = 5 and 7 (both appear 3 times)</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 3: No Mode</h4>
     <p>Find the mode of: 2, 3, 4, 5, 6</p>
     <p><strong>Solution:</strong></p>
     <p>All values appear exactly once with equal frequency.</p>
     <p>No mode exists.</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 4: Mode in Grouped Data</h4>
     <p>Find the modal class for the following frequency distribution:</p>
     <table style="border-collapse: collapse; margin: 10px auto;">
      <tr><th style="border: 1px solid #000; padding: 5px;">Class</th><th style="border: 1px solid #000; padding: 5px;">Frequency</th></tr>
      <tr><td style="border: 1px solid #000; padding: 5px;">10-20</td><td style="border: 1px solid #000; padding: 5px;">5</td></tr>
      <tr><td style="border: 1px solid #000; padding: 5px;">20-30</td><td style="border: 1px solid #000; padding: 5px;">12</td></tr>
      <tr><td style="border: 1px solid #000; padding: 5px;">30-40</td><td style="border: 1px solid #000; padding: 5px;">8</td></tr>
      <tr><td style="border: 1px solid #000; padding: 5px;">40-50</td><td style="border: 1px solid #000; padding: 5px;">6</td></tr>
     </table>
     <p><strong>Solution:</strong></p>
     <p>The class 20-30 has the highest frequency (12).</p>
     <p>Modal class = 20-30</p>
    </div>

    <h3>Practice Problems</h3>

    <div class="practice-problem">
     <strong>Problem 1:</strong> Find the mode of: 8, 12, 8, 15, 8, 20, 12
     <br><button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
     <div class="solution" id="solution1">
      <strong>Solution:</strong><br>
      Frequency: 8(3), 12(2), 15(1), 20(1)<br>
      Mode = 8
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 2:</strong> Find the mode of: 3, 6, 9, 3, 6, 12, 3, 6
     <br><button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
     <div class="solution" id="solution2">
      <strong>Solution:</strong><br>
      Frequency: 3(3), 6(3), 9(1), 12(1)<br>
      Modes = 3 and 6 (bimodal)
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 3:</strong> Find the mode of: 1, 2, 3, 4
     <br><button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
     <div class="solution" id="solution3">
      <strong>Solution:</strong><br>
      All values appear once with equal frequency.<br>
      No mode
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 4:</strong> In a class of 25 students, the modes of test scores are 85 and 90. What does this indicate?
     <br><button class="solution-button" onclick="toggleSolution(4)">Show Solution</button>
     <div class="solution" id="solution4">
      <strong>Solution:</strong><br>
      The data is bimodal - both 85 and 90 appear with the highest frequency (same number of students got each score).
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 5:</strong> Find the modal class for scores: 0-10(2), 10-20(5), 20-30(8), 30-40(12), 40-50(6), 50-60(3)
     <br><button class="solution-button" onclick="toggleSolution(5)">Show Solution</button>
     <div class="solution" id="solution5">
      <strong>Solution:</strong><br>
      The class 30-40 has the highest frequency (12 students).<br>
      Modal class = 30-40
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>Advantages of Mode:</strong>
     <ul>
      <li>Can be used for all data types (nominal, ordinal, interval, ratio)</li>
      <li>Not affected by extreme values (outliers)</li>
      <li>Easy to understand and calculate</li>
      <li>Useful for categorical data where mean/median don't apply</li>
     </ul>
    </div>

    <div style="margin: 30px 0;">
     <strong>Limitations of Mode:</strong>
     <ul>
      <li>May not exist (no mode) or may have multiple modes</li>
      <li>Doesn't use all data values in calculation</li>
      <li>Can be misleading with small datasets</li>
      <li>Not suitable for mathematical operations</li>
     </ul>
    </div>

    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Definition:</strong> Mode is the value that appears most frequently in a dataset.</li>
      <li><strong>Types:</strong> Unimodal (one mode), bimodal (two modes), multimodal (multiple modes), or no mode.</li>
      <li><strong>Calculation:</strong> Count frequency of each value; mode(s) have the highest frequency.</li>
      <li><strong>Grouped Data:</strong> Modal class is the class interval with highest frequency.</li>
      <li><strong>Robustness:</strong> Unlike mean, mode is not affected by extreme values or outliers.</li>
      <li><strong>Applications:</strong> Best for categorical data, finding most common values, market research, quality control.</li>
      <li><strong>Limitations:</strong> May not exist, doesn't utilize all data, can be unstable with small samples.</li>
      <li><strong>Comparison:</strong> Mode shows central tendency based on frequency, complementing mean (balance point) and median (middle value).</li>
     </ul>
    </div>

    <script>
     function calculateMode() {
      const input = document.getElementById('data-input').value;
      const values = input.split(',').map(x => parseFloat(x.trim())).filter(x => !isNaN(x));

      if (values.length === 0) {
       alert('Please enter valid numerical data.');
       return;
      }

      // Calculate frequency
      const frequency = {};
      values.forEach(value => {
       frequency[value] = (frequency[value] || 0) + 1;
      });

      // Find maximum frequency
      const maxFreq = Math.max(...Object.values(frequency));

      // Find all values with maximum frequency
      const modes = Object.keys(frequency)
       .filter(key => frequency[key] === maxFreq)
       .map(key => parseFloat(key))
       .sort((a, b) => a - b);

      // Determine mode type
      let modeType = '';
      if (modes.length === 1 && maxFreq > 1) {
       modeType = 'Unimodal';
      } else if (modes.length === 2) {
       modeType = 'Bimodal';
      } else if (modes.length > 2) {
       modeType = 'Multimodal';
      } else {
       modeType = 'No mode';
       modes.length = 0; // Clear modes if no mode exists
      }

      // Update visualization
      updateVisualization(values, frequency, modes);

      // Create frequency table HTML
      let tableHTML = '<table><tr><th>Value</th><th>Frequency</th></tr>';
      Object.keys(frequency).sort((a, b) => parseFloat(a) - parseFloat(b)).forEach(value => {
       const isMode = modes.includes(parseFloat(value));
       const rowClass = isMode ? 'mode-row' : '';
       tableHTML += `<tr class="${rowClass}"><td>${value}</td><td>${frequency[value]}</td></tr>`;
      });
      tableHTML += '</table>';

      // Update output
      const output = document.getElementById('demo-output');
      output.innerHTML = `<strong>Current Data:</strong> [${values.join(', ')}]<br>
      <strong>Frequency Table:</strong><br>
      <div class="frequency-table" style="margin: 10px 0;">${tableHTML}</div>
      <strong>Mode:</strong> ${modes.length > 0 ? modes.join(', ') + ` (appears ${maxFreq} time${maxFreq > 1 ? 's' : ''})` : 'No mode'}<br>
      <strong>Mode Type:</strong> ${modeType}`;

      // Re-render MathJax
      if (window.MathJax) {
       MathJax.typesetPromise([output]).catch(function(err) {
        console.log('MathJax re-render error:', err);
       });
      }
     }

     function updateVisualization(values, frequency, modes) {
      const container = document.getElementById('data-frequency');

      // Clear previous content
      container.innerHTML = '';

      // Get unique values and sort them
      const uniqueValues = [...new Set(values)].sort((a, b) => a - b);

      // Create data items
      uniqueValues.forEach(value => {
       const item = document.createElement('div');
       item.className = 'data-item';
       if (modes.includes(value)) {
        item.classList.add('mode');
       }
       item.textContent = value;

       // Add frequency count
       const count = document.createElement('div');
       count.className = 'frequency-count';
       count.textContent = frequency[value];
       item.appendChild(count);

       container.appendChild(item);
      });
     }

     function toggleSolution(num) {
      const solution = document.getElementById('solution' + num);
      if (solution.style.display === 'none' || solution.style.display === '') {
       solution.style.display = 'block';
      } else {
       solution.style.display = 'none';
      }
     }

     // Initialize with default data
     calculateMode();
    </script>
   </div>
  </div>
 </body>
</html>
