<!DOCTYPE html>
<!-- tags: Integration -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Indefinite Integral of Power Functions
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .diagram-block {
    flex: 1;
    min-width: 300px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    display: flex;
    justify-content: center;
    align-items: center;
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
   }

   .integral-canvas {
    border: 2px solid #ddd;
    border-radius: 10px;
    background: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .power-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .power-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .power-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .power-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .power-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Integration">
   Indefinite Integral of Power Functions
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     The power rule for integration is the fundamental rule for finding antiderivatives of power functions, extending the power rule for differentiation in reverse.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Power Rule:</strong> $$\int x^n\,dx = \frac{1}{n+1}x^{n+1} + C$$
      </div>
      <div class="formula-item">
       <strong>Special Cases:</strong> $$\int x\,dx = \frac{1}{2}x^2 + C,\quad \int 1\,dx = x + C$$
      </div>
      <div class="formula-item">
       <strong>Constant Rule:</strong> $$\int k\,dx = kx + C$$
      </div>
     </div>

     <div class="diagram-block">
      <svg viewbox="0 0 250 200" xmlns="http://www.w3.org/2000/svg">
       <!-- Integration visualization -->
       <text fill="#333" font-size="14" x="125" y="20" text-anchor="middle">Integration: ∫x²dx = (1/3)x³ + C</text>
       <!-- Function curve -->
       <path d="M50 150 Q75 125 100 100 Q125 75 150 50 Q175 25 200 0" fill="none" stroke="#e74c3c" stroke-width="3"></path>
       <!-- Area under curve -->
       <path d="M100 100 L125 75 L150 50 L175 25 L200 0 L200 150 L100 150 Z" fill="rgba(231, 76, 60, 0.3)" stroke="#e74c3c" stroke-width="2"></path>
       <!-- Antiderivative -->
       <path d="M50 150 Q100 100 150 50 Q200 0 200 0" fill="none" stroke="#27ae60" stroke-width="3" stroke-dasharray="5,5"></path>
       <text fill="#27ae60" font-size="12" x="180" y="40">Antiderivative</text>
       <text fill="#e74c3c" font-size="12" x="150" y="120">f(x) = x²</text>
       <!-- Arrow -->
       <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
         <polygon fill="#27ae60" points="0 0, 10 3.5, 0 7"></polygon>
        </marker>
       </defs>
      </svg>
     </div>
    </div>

    <div class="power-grid">
     <div class="power-card">
      <h3>Power Rule</h3>
      <div class="formula">$$\int x^n\,dx = \frac{1}{n+1}x^{n+1} + C$$</div>
      <div class="description">
       For any real number n ≠ -1, the indefinite integral of x raised to the power n is x raised to n+1 divided by n+1, plus the constant of integration C.
       <br><br>
       This is the reverse of the power rule for differentiation.
      </div>
     </div>

     <div class="power-card">
      <h3>Constant of Integration</h3>
      <div class="formula">∫f(x)dx = F(x) + C</div>
      <div class="description">
       The constant C represents the family of all antiderivatives. Different values of C give different antiderivatives that differ by a constant.
       <br><br>
       This accounts for the fact that derivatives of constants are zero.
      </div>
     </div>

     <div class="power-card">
      <h3>Fundamental Theorem</h3>
      <div class="formula">$$\frac{d}{dx}\left[\int f(x)\,dx\right] = f(x)$$</div>
      <div class="description">
       Integration and differentiation are inverse operations. The derivative of an indefinite integral returns the original function.
       <br><br>
       This confirms the power rule is correct.
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Power Rule Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="powerInput">Power n:</label>
       <input id="powerInput" step="any" type="number" value="2"/>
      </div>
      <div class="input-field">
       <label for="constantInput">Constant C:</label>
       <input id="constantInput" step="any" type="number" value="0"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="calculateIntegral()">Calculate Integral</button>
      <button class="btn" onclick="verifyFundamentalTheorem()">Verify Theorem</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="functionDisplay">
       Function: <strong id="functionText">∫x²dx</strong>
      </div>
      <div class="result-text" id="integralDisplay">
       Integral: <strong id="integralText">∫x²dx = (1/3)x³ + C</strong>
      </div>
      <div class="result-text" id="verificationDisplay">
       Verification: <strong id="verificationText">d/dx[(1/3)x³ + C] = x² ✓</strong>
      </div>
     </div>

     <div class="canvas-container">
      <canvas class="integral-canvas" height="400" id="integralCanvas" width="500"></canvas>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>The power rule for integration is derived from the power rule for differentiation:</p>
     <div class="formula-block" style="margin: 20px 0;">
      $$\frac{d}{dx}[x^{n+1}] = (n+1)x^n$$
     </div>
     <p>Therefore:</p>
     <div class="formula-block" style="margin: 20px 0;">
      $$\int x^n\,dx = \frac{1}{n+1}x^{n+1} + C$$
     </div>
     <p>This can be verified by differentiating the result:</p>
     <div class="formula-block" style="margin: 20px 0;">
      $$\frac{d}{dx}\left[\frac{1}{n+1}x^{n+1} + C\right] = \frac{1}{n+1} \cdot (n+1)x^n + 0 = x^n$$
     </div>
     <p>The constant of integration C is necessary because the derivative of any constant is zero.</p>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Basic Power Rule</h4>
       <p>Find ∫x³dx</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Negative Powers</h4>
       <p>Find ∫x⁻²dx</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Fractional Powers</h4>
       <p>Find ∫x^(1/2)dx</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Applications</div>
     <ul>
      <li><strong>Antiderivatives:</strong> Finding functions whose derivatives are known</li>
      <li><strong>Physics:</strong> Position from velocity, velocity from acceleration</li>
      <li><strong>Economics:</strong> Total cost from marginal cost</li>
      <li><strong>Engineering:</strong> Work done, center of mass calculations</li>
      <li><strong>Probability:</strong> Cumulative distribution functions</li>
     </ul>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Find ∫x⁴dx.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>∫x⁴dx = (1/5)x⁵ + C</p>
        <p>Using the power rule: ∫xⁿdx = (1/(n+1))x^(n+1) + C</p>
        <p>Here n = 4, so (1/5)x⁵ + C</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Find ∫√x dx.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>∫x^(1/2)dx = (1/(3/2))x^(3/2) + C = (2/3)x^(3/2) + C</p>
        <p>Or: ∫√x dx = (2/3)x^(3/2) + C</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Find ∫(x² + 3x + 1)dx.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>∫(x² + 3x + 1)dx = ∫x²dx + 3∫x dx + ∫1 dx</p>
        <p>= (1/3)x³ + 3×(1/2)x² + x + C</p>
        <p>= (1/3)x³ + (3/2)x² + x + C</p>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Power rule: ∫xⁿdx = (1/(n+1))x^(n+1) + C for n ≠ -1</li>
      <li class="takeaway-item">Constant of integration C must always be included</li>
      <li class="takeaway-item">Integration and differentiation are inverse operations</li>
      <li class="takeaway-item">Power rule applies to polynomials, fractional powers, and negative powers</li>
      <li class="takeaway-item">Special case: ∫x dx = (1/2)x² + C</li>
      <li class="takeaway-item">Foundation for all integration techniques</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function calculateIntegral() {
    try {
     const n = parseFloat(document.getElementById('powerInput').value) || 0;
     const C = parseFloat(document.getElementById('constantInput').value) || 0;

     if (n === -1) {
      document.getElementById('errorMessage').textContent = 'n cannot be -1. The integral of x^(-1) is ln|x| + C.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     let integralStr = '';
     if (n === 0) {
      integralStr = 'x + C';
     } else if (n === 1) {
      integralStr = '(1/2)x² + C';
     } else {
      const coeff = 1 / (n + 1);
      const coeffStr = coeff === 1 ? '' : (coeff === 0.5 ? '1/2' : coeff.toString());
      const power = n + 1;
      const powerStr = power === 1 ? 'x' : `x^${power}`;
      integralStr = `${coeffStr}${powerStr} + C`;
     }

     if (C !== 0) {
      integralStr = integralStr.replace('+ C', `+ ${C}`);
     }

     const functionStr = `∫x${n === 0 ? '' : `^${n}`}dx`;
     const verificationStr = `d/dx[${integralStr.replace('+ C', '')}] = x${n === 0 ? '' : `^${n}`} ✓`;

     document.getElementById('functionText').textContent = functionStr;
     document.getElementById('integralText').textContent = `${functionStr} = ${integralStr}`;
     document.getElementById('verificationText').textContent = verificationStr;
     document.getElementById('errorMessage').style.display = 'none';

     drawIntegralVisualization(n, C);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error calculating integral. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function verifyFundamentalTheorem() {
    try {
     const n = parseFloat(document.getElementById('powerInput').value) || 0;
     const C = parseFloat(document.getElementById('constantInput').value) || 0;

     if (n === -1) {
      document.getElementById('verificationText').textContent = 'Cannot verify for n = -1';
      return;
     }

     const verificationStr = `d/dx[${n === 0 ? 'x' : `(1/${n+1})x^${n+1}`}${C !== 0 ? ` + ${C}` : ''}] = x${n === 0 ? '' : `^${n}`} ✓`;
     document.getElementById('verificationText').textContent = verificationStr;
     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error verifying theorem.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function drawIntegralVisualization(n, C) {
    const canvas = document.getElementById('integralCanvas');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Calculate bounds
    const minX = -3;
    const maxX = 3;
    const centerY = canvas.height / 2;

    const scaleX = canvas.width / (maxX - minX);
    const scaleY = canvas.height / 8; // Rough scale

    // Transform functions
    const transformX = xi => (xi - minX) * scaleX;
    const transformY = yi => centerY - yi * scaleY;

    // Draw axes
    ctx.strokeStyle = '#666';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, centerY);
    ctx.lineTo(canvas.width, centerY);
    ctx.moveTo(transformX(0), 0);
    ctx.lineTo(transformX(0), canvas.height);
    ctx.stroke();

    // Draw original function
    ctx.strokeStyle = '#e74c3c';
    ctx.lineWidth = 3;
    ctx.beginPath();
    let firstPoint = true;
    for (let xi = minX; xi <= maxX; xi += 0.05) {
     if (xi === 0 && n < 0) continue; // Avoid undefined points
     const yi = Math.pow(xi, n);
     if (!isNaN(yi) && isFinite(yi)) {
      const canvasX = transformX(xi);
      const canvasY = transformY(yi);
      if (firstPoint) {
       ctx.moveTo(canvasX, canvasY);
       firstPoint = false;
      } else {
       ctx.lineTo(canvasX, canvasY);
      }
     }
    }
    ctx.stroke();

    // Draw antiderivative
    ctx.strokeStyle = '#27ae60';
    ctx.lineWidth = 3;
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    firstPoint = true;
    for (let xi = minX; xi <= maxX; xi += 0.05) {
     if (xi === 0 && n + 1 <= 0) continue; // Avoid undefined points
     const yi = Math.pow(xi, n + 1) / (n + 1) + C;
     if (!isNaN(yi) && isFinite(yi)) {
      const canvasX = transformX(xi);
      const canvasY = transformY(yi);
      if (firstPoint) {
       ctx.moveTo(canvasX, canvasY);
       firstPoint = false;
      } else {
       ctx.lineTo(canvasX, canvasY);
      }
     }
    }
    ctx.stroke();
    ctx.setLineDash([]);

    // Labels
    ctx.fillStyle = '#333';
    ctx.font = '12px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(`f(x) = x^${n}`, canvas.width / 2, 20);
    ctx.fillText(`F(x) = (1/${n+1})x^${n+1} + C`, canvas.width / 2, canvas.height - 20);
    ctx.fillText(`C = ${C}`, canvas.width / 2, canvas.height - 5);

    // Legend
    ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
    ctx.fillRect(10, 10, 120, 60);
    ctx.strokeStyle = '#333';
    ctx.strokeRect(10, 10, 120, 60);

    ctx.fillStyle = '#333';
    ctx.font = '10px Arial';
    ctx.textAlign = 'left';
    ctx.fillText('Legend:', 15, 25);
    ctx.fillText('● Function', 15, 40);
    ctx.fillText('● Antiderivative', 15, 55);
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Basic Power Rule</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: ∫x³dx</div>
        <div class="calculation-step">Apply power rule: ∫xⁿdx = (1/(n+1))x^(n+1) + C</div>
        <div class="calculation-step">Here n = 3, so (1/(3+1))x^(3+1) + C = (1/4)x⁴ + C</div>
        <div class="calculation-step">Verification: d/dx[(1/4)x⁴ + C] = (1/4)×4x³ + 0 = x³ ✓</div>
        <div class="calculation-step">The constant C represents the family of all antiderivatives</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Negative Powers</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: ∫x⁻²dx</div>
        <div class="calculation-step">Apply power rule: ∫xⁿdx = (1/(n+1))x^(n+1) + C</div>
        <div class="calculation-step">Here n = -2, so (1/(-2+1))x^(-2+1) + C = (1/-1)x^(-1) + C = -1/x + C</div>
        <div class="calculation-step">Alternative form: ∫x⁻²dx = -x^(-1) + C</div>
        <div class="calculation-step">Verification: d/dx[-1/x + C] = -(-1/x²) + 0 = 1/x² = x⁻² ✓</div>
        <div class="calculation-step">Domain: x ≠ 0 (since original function is undefined at x = 0)</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Fractional Powers</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: ∫x^(1/2)dx = ∫√x dx</div>
        <div class="calculation-step">Apply power rule: ∫xⁿdx = (1/(n+1))x^(n+1) + C</div>
        <div class="calculation-step">Here n = 1/2, so (1/(1/2 + 1))x^(1/2 + 1) + C = (1/(3/2))x^(3/2) + C = (2/3)x^(3/2) + C</div>
        <div class="calculation-step">Alternative form: ∫√x dx = (2/3)x√x + C</div>
        <div class="calculation-step">Verification: d/dx[(2/3)x^(3/2) + C] = (2/3)×(3/2)x^(1/2) + 0 = x^(1/2) = √x ✓</div>
        <div class="calculation-step">Domain: x ≥ 0 (since square root requires non-negative values)</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   function resetDemo() {
    document.getElementById('powerInput').value = '2';
    document.getElementById('constantInput').value = '0';
    document.getElementById('functionText').textContent = '∫x²dx';
    document.getElementById('integralText').textContent = '∫x²dx = (1/3)x³ + C';
    document.getElementById('verificationText').textContent = 'd/dx[(1/3)x³ + C] = x² ✓';
    document.getElementById('errorMessage').style.display = 'none';
    calculateIntegral();
   }

   // Initialize with default values
   document.addEventListener('DOMContentLoaded', function() {
    calculateIntegral();
   });
  </script>
 </body>
</html>
