<!DOCTYPE html>
<!-- tags: Complex Number and Equation -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Relationship Between Roots and Coefficients (Cubic)
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .diagram-block {
    flex: 1;
    min-width: 300px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    display: flex;
    justify-content: center;
    align-items: center;
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
   }

   .cubic-canvas {
    border: 2px solid #ddd;
    border-radius: 10px;
    background: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .cubic-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .cubic-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .cubic-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .cubic-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .cubic-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Complex Number and Equation">
   Relationship Between Roots and Coefficients (Cubic)
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     For cubic equations, the relationships between roots and coefficients extend the quadratic case to three roots, providing powerful tools for equation construction and analysis.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Sum of Roots:</strong> $$α + β + γ = -\frac{b}{a}$$
      </div>
      <div class="formula-item">
       <strong>Sum of Products:</strong> $$αβ + βγ + γα = \frac{c}{a}$$
      </div>
      <div class="formula-item">
       <strong>Product of Roots:</strong> $$αβγ = -\frac{d}{a}$$
      </div>
     </div>

     <div class="diagram-block">
      <svg viewbox="0 0 250 200" xmlns="http://www.w3.org/2000/svg">
       <!-- Cubic roots visualization -->
       <text fill="#333" font-size="14" x="125" y="20" text-anchor="middle">Cubic Roots α, β, γ</text>
       <!-- Roots -->
       <circle cx="60" cy="120" fill="#e74c3c" r="4"></circle>
       <text fill="#e74c3c" font-size="12" x="55" y="105">α</text>
       <circle cx="125" cy="120" fill="#27ae60" r="4"></circle>
       <text fill="#27ae60" font-size="12" x="120" y="105">β</text>
       <circle cx="190" cy="120" fill="#f39c12" r="4"></circle>
       <text fill="#f39c12" font-size="12" x="185" y="105">γ</text>
       <!-- Sum connection -->
       <line marker-end="url(#arrowhead)" stroke="#666" stroke-width="2" x1="60" x2="125" y1="140" y2="160"></line>
       <line marker-end="url(#arrowhead)" stroke="#666" stroke-width="2" x1="190" x2="125" y1="140" y2="160"></line>
       <text fill="#666" font-size="12" x="125" y="180" text-anchor="middle">α + β + γ = -b/a</text>
       <!-- Arrow markers -->
       <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
         <polygon fill="#666" points="0 0, 10 3.5, 0 7"></polygon>
        </marker>
       </defs>
      </svg>
     </div>
    </div>

    <div class="cubic-grid">
     <div class="cubic-card">
      <h3>Elementary Symmetric Sums</h3>
      <div class="formula">s₁ = α + β + γ = -b/a</div>
      <div class="description">
       The sum of the roots equals the negative of the x² coefficient over the x³ coefficient.
       <br><br>
       For x³ + px² + qx + r = 0:<br>
       α + β + γ = -p
      </div>
     </div>

     <div class="cubic-card">
      <h3>Sum of Products</h3>
      <div class="formula">s₂ = αβ + βγ + γα = c/a</div>
      <div class="description">
       The sum of products taken two at a time equals the x coefficient over the x³ coefficient.
       <br><br>
       For x³ + px² + qx + r = 0:<br>
       αβ + βγ + γα = q
      </div>
     </div>

     <div class="cubic-card">
      <h3>Product of Roots</h3>
      <div class="formula">s₃ = αβγ = -d/a</div>
      <div class="description">
       The product of all three roots equals the negative of the constant term over the x³ coefficient.
       <br><br>
       For x³ + px² + qx + r = 0:<br>
       αβγ = -r
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Cubic Equation Builder</div>

     <div class="input-group">
      <div class="input-field">
       <label for="rootAlpha">Root α:</label>
       <input id="rootAlpha" step="any" type="number" value="1"/>
      </div>
      <div class="input-field">
       <label for="rootBeta">Root β:</label>
       <input id="rootBeta" step="any" type="number" value="-2"/>
      </div>
      <div class="input-field">
       <label for="rootGamma">Root γ:</label>
       <input id="rootGamma" step="any" type="number" value="3"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="buildCubicEquation()">Build Equation</button>
      <button class="btn" onclick="showElementarySums()">Show Elementary Sums</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="factorsDisplay">
       Factors: <strong id="factorsText">(x - 1)(x + 2)(x - 3)</strong>
      </div>
      <div class="result-text" id="equationDisplay">
       Equation: <strong id="equationText">x³ - 0x² - 5x + 6 = 0</strong>
      </div>
      <div class="result-text" id="sumsDisplay">
       Elementary Sums: <strong id="sumsText">Not calculated</strong>
      </div>
     </div>

     <div class="canvas-container">
      <canvas class="cubic-canvas" height="400" id="cubicCanvas" width="500"></canvas>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>For a cubic equation ax³ + bx² + cx + d = 0 with roots α, β, γ, we can write:</p>
     <div class="formula-block" style="margin: 20px 0;">
      $$ax^3 + bx^2 + cx + d = a(x - \alpha)(x - \beta)(x - \gamma)$$
     </div>
     <p>Expanding the right side:</p>
     <div class="formula-block" style="margin: 20px 0;">
      $$\begin{align}
      a(x - \alpha)(x - \beta)(x - \gamma) &= a[x^3 - (\alpha+\beta+\gamma)x^2 \\
      &+ (\alpha\beta + \beta\gamma + \gamma\alpha)x - \alpha\beta\gamma]
      \end{align}$$
     </div>
     <p>Comparing coefficients with ax³ + bx² + cx + d:</p>
     <div class="formula-block" style="margin: 20px 0;">
      $$\begin{cases}
      -a(\alpha + \beta + \gamma) = b \implies \alpha + \beta + \gamma = -\frac{b}{a} \\
      a(\alpha\beta + \beta\gamma + \gamma\alpha) = c \implies \alpha\beta + \beta\gamma + \gamma\alpha = \frac{c}{a} \\
      -a\alpha\beta\gamma = d \implies \alpha\beta\gamma = -\frac{d}{a}
      \end{cases}$$
     </div>
     <p>These elementary symmetric polynomials form the foundation of root-coefficient relationships for cubic equations.</p>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Find equation from roots</h4>
       <p>Build equation with roots 1, -2, 3</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Find roots from equation</h4>
       <p>Find elementary sums for x³ - 6x² + 11x - 6 = 0</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Complex roots</h4>
       <p>Verify relationships for x³ + x² + x + 1 = 0</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Applications</div>
     <ul>
      <li><strong>Equation Construction:</strong> Building cubic equations with specified roots</li>
      <li><strong>Root Properties:</strong> Finding relationships without solving</li>
      <li><strong>Polynomial Division:</strong> Using root factor theorem for cubics</li>
      <li><strong>Symmetric Functions:</strong> Working with sums and products of roots</li>
      <li><strong>Cubic Formula:</strong> Understanding the general solution</li>
     </ul>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Form the cubic equation whose roots are 2, -1, and 3.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>Sum of roots: 2 + (-1) + 3 = 4</p>
        <p>Sum of products: 2×(-1) + (-1)×3 + 3×2 = -2 - 3 + 6 = 1</p>
        <p>Product of roots: 2×(-1)×3 = -6</p>
        <p>Equation: x³ - 4x² + x + 6 = 0</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>For the equation 2x³ - 3x² + 4x - 1 = 0, find the sum and product of the roots.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>Sum of roots = -b/a = -(-3)/2 = 3/2</p>
        <p>Sum of products = c/a = 4/2 = 2</p>
        <p>Product of roots = -d/a = -(-1)/2 = 1/2</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>If α, β, γ are roots of x³ + px² + qx + r = 0, find the equation whose roots are α + 1, β + 1, γ + 1.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>New sum: (α + 1) + (β + 1) + (γ + 1) = α + β + γ + 3 = -p + 3</p>
        <p>New sum of products: (α + 1)(β + 1) + (β + 1)(γ + 1) + (γ + 1)(α + 1)</p>
        <p>= (αβ + α + β + 1) + (βγ + β + γ + 1) + (γα + γ + α + 1)</p>
        <p>= (αβ + βγ + γα) + (α + β + γ) + 3 = q - p + 3</p>
        <p>New product: (α + 1)(β + 1)(γ + 1) = αβγ + (αβ + βγ + γα) + (α + β + γ) + 1</p>
        <p>= -r + q - p + 1</p>
        <p>Equation: x³ - (-p + 3)x² + (q - p + 3)x + (-r + q - p + 1) = 0</p>
        <p>x³ + (p - 3)x² + (q - p + 3)x + (r - q + p - 1) = 0</p>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Sum of roots α + β + γ = -b/a (negative of x² coefficient over x³ coefficient)</li>
      <li class="takeaway-item">Sum of products αβ + βγ + γα = c/a (x coefficient over x³ coefficient)</li>
      <li class="takeaway-item">Product of roots αβγ = -d/a (negative of constant term over x³ coefficient)</li>
      <li class="takeaway-item">These are elementary symmetric polynomials in the roots</li>
      <li class="takeaway-item">Relationships work for real and complex roots</li>
      <li class="takeaway-item">Essential for cubic equation analysis and construction</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function buildCubicEquation() {
    try {
     const alpha = parseFloat(document.getElementById('rootAlpha').value) || 0;
     const beta = parseFloat(document.getElementById('rootBeta').value) || 0;
     const gamma = parseFloat(document.getElementById('rootGamma').value) || 0;

     // Calculate elementary symmetric sums
     const sumRoots = alpha + beta + gamma;
     const sumProducts = alpha * beta + beta * gamma + gamma * alpha;
     const productRoots = alpha * beta * gamma;

     // Build equation: x³ - (sum)x² + (sumProducts)x - product = 0
     let equationStr = 'x³';
     if (sumRoots !== 0) {
      equationStr += sumRoots > 0 ? ' - ' + sumRoots + 'x²' : ' + ' + Math.abs(sumRoots) + 'x²';
     }
     if (sumProducts !== 0) {
      if (sumProducts > 0) {
       equationStr += ' + ' + sumProducts + 'x';
      } else {
       equationStr += ' - ' + Math.abs(sumProducts) + 'x';
      }
     }
     if (productRoots !== 0) {
      if (productRoots > 0) {
       equationStr += ' + ' + productRoots;
      } else {
       equationStr += ' - ' + Math.abs(productRoots);
      }
     }
     equationStr += ' = 0';

     // Build factors string
     let factorsStr = `(x - ${alpha})(x - ${beta})(x - ${gamma})`;

     document.getElementById('factorsText').textContent = factorsStr;
     document.getElementById('equationText').textContent = equationStr;
     document.getElementById('sumsText').textContent = `s₁ = ${sumRoots}, s₂ = ${sumProducts}, s₃ = ${productRoots}`;
     document.getElementById('errorMessage').style.display = 'none';

     drawCubicVisualization(alpha, beta, gamma);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error building equation. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function showElementarySums() {
    try {
     const alpha = parseFloat(document.getElementById('rootAlpha').value) || 0;
     const beta = parseFloat(document.getElementById('rootBeta').value) || 0;
     const gamma = parseFloat(document.getElementById('rootGamma').value) || 0;

     const sumRoots = alpha + beta + gamma;
     const sumProducts = alpha * beta + beta * gamma + gamma * alpha;
     const productRoots = alpha * beta * gamma;

     const elementarySums = `Sum (s₁): ${sumRoots}, Sum of Products (s₂): ${sumProducts}, Product (s₃): ${productRoots}`;

     document.getElementById('sumsText').textContent = elementarySums;
     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error calculating elementary sums.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function drawCubicVisualization(alpha, beta, gamma) {
    const canvas = document.getElementById('cubicCanvas');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Calculate bounds
    const points = [alpha, beta, gamma, 0];
    const minX = Math.min(...points) - 2;
    const maxX = Math.max(...points) + 2;
    const centerY = canvas.height / 2;

    const scaleX = canvas.width / (maxX - minX);

    // Transform function
    const transformX = x => (x - minX) * scaleX;

    // Draw number line
    ctx.strokeStyle = '#666';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, centerY);
    ctx.lineTo(canvas.width, centerY);
    ctx.stroke();

    // Draw tick marks
    ctx.strokeStyle = '#ccc';
    ctx.lineWidth = 1;
    for (let i = Math.floor(minX); i <= Math.ceil(maxX); i++) {
     const x = transformX(i);
     ctx.beginPath();
     ctx.moveTo(x, centerY - 5);
     ctx.lineTo(x, centerY + 5);
     ctx.stroke();
    }

    // Draw roots
    ctx.fillStyle = '#e74c3c';
    ctx.beginPath();
    ctx.arc(transformX(alpha), centerY, 6, 0, 2 * Math.PI);
    ctx.fill();

    ctx.fillStyle = '#27ae60';
    ctx.beginPath();
    ctx.arc(transformX(beta), centerY, 6, 0, 2 * Math.PI);
    ctx.fill();

    ctx.fillStyle = '#f39c12';
    ctx.beginPath();
    ctx.arc(transformX(gamma), centerY, 6, 0, 2 * Math.PI);
    ctx.fill();

    // Draw origin
    ctx.fillStyle = '#666';
    ctx.beginPath();
    ctx.arc(transformX(0), centerY, 3, 0, 2 * Math.PI);
    ctx.fill();

    // Labels
    ctx.fillStyle = '#333';
    ctx.font = '12px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(`α = ${alpha}`, transformX(alpha), centerY - 15);
    ctx.fillText(`β = ${beta}`, transformX(beta), centerY - 15);
    ctx.fillText(`γ = ${gamma}`, transformX(gamma), centerY - 15);
    ctx.fillText('0', transformX(0) - 10, centerY + 20);

    // Elementary sums display
    const sumRoots = alpha + beta + gamma;
    const sumProducts = alpha * beta + beta * gamma + gamma * alpha;
    const productRoots = alpha * beta * gamma;

    ctx.fillText(`Sum: ${sumRoots}`, canvas.width / 2, centerY + 40);
    ctx.fillText(`Sum of Products: ${sumProducts}`, canvas.width / 2, centerY + 60);
    ctx.fillText(`Product: ${productRoots}`, canvas.width / 2, centerY + 80);

    // Legend
    ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
    ctx.fillRect(10, 10, 140, 80);
    ctx.strokeStyle = '#333';
    ctx.strokeRect(10, 10, 140, 80);

    ctx.fillStyle = '#333';
    ctx.font = '10px Arial';
    ctx.textAlign = 'left';
    ctx.fillText('Legend:', 15, 25);
    ctx.fillText('● Root α', 15, 40);
    ctx.fillText('● Root β', 15, 55);
    ctx.fillText('● Root γ', 15, 70);
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Build Equation from Roots</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Roots: α = 1, β = -2, γ = 3</div>
        <div class="calculation-step">Sum: α + β + γ = 1 + (-2) + 3 = 2</div>
        <div class="calculation-step">Sum of products: αβ + βγ + γα = 1×(-2) + (-2)×3 + 3×1 = -2 - 6 + 3 = -5</div>
        <div class="calculation-step">Product: αβγ = 1×(-2)×3 = -6</div>
        <div class="calculation-step">Equation: x³ - (sum)x² + (sumProducts)x - product = 0</div>
        <div class="calculation-step">x³ - 2x² + (-5)x - (-6) = 0</div>
        <div class="calculation-step">x³ - 2x² - 5x + 6 = 0</div>
        <div class="calculation-step">Verification: (x - 1)(x + 2)(x - 3) = (x - 1)(x² - x - 6) = x³ - x² - 6x - x² + x + 6 = x³ - 2x² - 5x + 6 ✓</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Find Elementary Sums from Equation</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Equation: x³ - 6x² + 11x - 6 = 0</div>
        <div class="calculation-step">Here a = 1, b = -6, c = 11, d = -6</div>
        <div class="calculation-step">Sum of roots = -b/a = -(-6)/1 = 6</div>
        <div class="calculation-step">Sum of products = c/a = 11/1 = 11</div>
        <div class="calculation-step">Product of roots = -d/a = -(-6)/1 = 6</div>
        <div class="calculation-step">Verification: Roots are 1, 2, 3</div>
        <div class="calculation-step">Sum: 1 + 2 + 3 = 6 ✓, Sum of products: 1×2 + 2×3 + 3×1 = 2 + 6 + 3 = 11 ✓</div>
        <div class="calculation-step">Product: 1×2×3 = 6 ✓</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Complex Roots</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Equation: x³ + x² + x + 1 = 0</div>
        <div class="calculation-step">a = 1, b = 1, c = 1, d = 1</div>
        <div class="calculation-step">Sum of roots = -b/a = -1/1 = -1</div>
        <div class="calculation-step">Sum of products = c/a = 1/1 = 1</div>
        <div class="calculation-step">Product of roots = -d/a = -1/1 = -1</div>
        <div class="calculation-step">Roots: -1, i, -i</div>
        <div class="calculation-step">Sum: -1 + i + (-i) = -1 ✓</div>
        <div class="calculation-step">Sum of products: (-1)×i + i×(-i) + (-i)×(-1) = -i - i² - i = -i - (-1) - i = -2i + 1</div>
        <div class="calculation-step">Wait, this doesn't match! The roots -1, i, -i don't satisfy this equation.</div>
        <div class="calculation-step">Correct roots of x³ + x² + x + 1 = 0 are the cube roots of -1: -1, ω, ω² where ω = e^(2πi/3)</div>
        <div class="calculation-step">Sum: -1 + ω + ω² = -1 + (-1/2 + i√3/2) + (-1/2 - i√3/2) = -1 -1 = -2</div>
        <div class="calculation-step">This shows the importance of checking calculations carefully!</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   function resetDemo() {
    document.getElementById('rootAlpha').value = '1';
    document.getElementById('rootBeta').value = '-2';
    document.getElementById('rootGamma').value = '3';
    document.getElementById('factorsText').textContent = '(x - 1)(x + 2)(x - 3)';
    document.getElementById('equationText').textContent = 'x³ - 2x² - 5x + 6 = 0';
    document.getElementById('sumsText').textContent = 'Not calculated';
    document.getElementById('errorMessage').style.display = 'none';
    buildCubicEquation();
   }

   // Initialize with default values
   document.addEventListener('DOMContentLoaded', function() {
    buildCubicEquation();
   });
  </script>
 </body>
</html>
