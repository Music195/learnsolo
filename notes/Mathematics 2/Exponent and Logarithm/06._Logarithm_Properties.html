<!DOCTYPE html>
<!-- tags: Exponent and Logarithm -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Properties of Logarithms
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .law-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 30px 0;
   }

   .law-card {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    text-align: center;
   }

   .law-number {
    font-size: 2em;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 10px;
   }

   .law-formula {
    font-size: 1.4em;
    color: #2c3e50;
    margin: 15px 0;
   }

   .law-description {
    color: #555;
    line-height: 1.5;
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
   }

   .log-canvas {
    border: 2px solid #ddd;
    border-radius: 10px;
    background: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .property-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .property-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .property-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .property-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .property-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Exponent and Logarithm">
   Properties of Logarithms
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     Logarithm properties allow us to simplify complex logarithmic expressions and solve equations more efficiently. These properties are derived from the corresponding properties of exponents.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Product Rule:</strong> $$\log_a (MN) = \log_a M + \log_a N$$
      </div>
      <div class="formula-item">
       <strong>Quotient Rule:</strong> $$\log_a \left(\frac{M}{N}\right) = \log_a M - \log_a N$$
      </div>
      <div class="formula-item">
       <strong>Power Rule:</strong> $$\log_a M^k = k \log_a M$$
      </div>
     </div>

     <div class="law-grid">
      <div class="law-card">
       <div class="law-number">1</div>
       <div class="law-formula">$$\log_a (MN) = \log_a M + \log_a N$$</div>
       <div class="law-description">
        Log of a product equals sum of logs. This comes from: a^(log M + log N) = a^log M × a^log N = M × N
       </div>
      </div>

      <div class="law-card">
       <div class="law-number">2</div>
       <div class="law-formula">$$\log_a \left(\frac{M}{N}\right) = \log_a M - \log_a N$$</div>
       <div class="law-description">
        Log of a quotient equals difference of logs. This comes from: a^(log M - log N) = a^log M ÷ a^log N = M ÷ N
       </div>
      </div>

      <div class="law-card">
       <div class="law-number">3</div>
       <div class="law-formula">$$\log_a M^k = k \log_a M$$</div>
       <div class="law-description">
        Log of a power equals the exponent times log of the base. This comes from: a^(k log M) = (a^log M)^k = M^k
       </div>
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Logarithm Properties Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="baseA">Base (a):</label>
       <input id="baseA" max="10" min="0.1" step="0.1" type="number" value="10"/>
      </div>
      <div class="input-field">
       <label for="valueM">M:</label>
       <input id="valueM" min="0.1" step="0.1" type="number" value="8"/>
      </div>
      <div class="input-field">
       <label for="valueN">N:</label>
       <input id="valueN" min="0.1" step="0.1" type="number" value="2"/>
      </div>
      <div class="input-field">
       <label for="powerK">k:</label>
       <input id="powerK" step="0.1" type="number" value="3"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="applyProductRule()">Product Rule</button>
      <button class="btn" onclick="applyQuotientRule()">Quotient Rule</button>
      <button class="btn" onclick="applyPowerRule()">Power Rule</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="originalDisplay">
       <strong>Original:</strong> log₁₀(8) + log₁₀(2) = ?
      </div>
      <div class="result-text" id="propertyDisplay">
       <strong>Using Product Rule:</strong> log₁₀(8×2) = log₁₀(16)
      </div>
      <div class="result-text" id="resultDisplay">
       <strong>Result:</strong> 1.204
      </div>
     </div>

     <div class="canvas-container">
      <canvas class="log-canvas" height="350" id="propertiesCanvas" width="600"></canvas>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>Logarithm properties are derived directly from the corresponding properties of exponents:</p>
     <ul>
      <li><strong>Product Rule:</strong> Since a^(log_a M + log_a N) = a^log_a M × a^log_a N = M × N</li>
      <li><strong>Quotient Rule:</strong> Since a^(log_a M - log_a N) = a^log_a M ÷ a^log_a N = M ÷ N</li>
      <li><strong>Power Rule:</strong> Since a^(k log_a M) = (a^log_a M)^k = M^k</li>
     </ul>
     <p>These properties hold for any base a > 0, a ≠ 1, and positive real numbers M and N.</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{cases}
      \log_a (MN) = \log_a M + \log_a N \\
      \log_a \left(\dfrac{M}{N}\right) = \log_a M - \log_a N \\
      \log_a M^k = k \log_a M
      \end{cases}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Additional Properties</div>
     <div class="property-grid">
      <div class="property-card">
       <h3>Change of Base</h3>
       <div class="formula">$$\log_a M = \frac{\log_b M}{\log_b a}$$</div>
       <div class="description">
        Convert logarithms between different bases using this formula.
       </div>
      </div>

      <div class="property-card">
       <h3>Log of 1</h3>
       <div class="formula">$$\log_a 1 = 0$$</div>
       <div class="description">
        Since a^0 = 1 for any base a > 0.
       </div>
      </div>

      <div class="property-card">
       <h3>Log of Base</h3>
       <div class="formula">$$\log_a a = 1$$</div>
       <div class="description">
        Since a^1 = a for any base a > 0.
       </div>
      </div>

      <div class="property-card">
       <h3>Zero Exponent</h3>
       <div class="formula">$$\log_a (a^0) = 0$$</div>
       <div class="description">
        Since a^0 = 1, and log_a 1 = 0.
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Product Rule</h4>
       <p>Simplify log₂(8) + log₂(4) using logarithm properties.</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Quotient Rule</h4>
       <p>Simplify log₃(27) - log₃(9) using logarithm properties.</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Power Rule</h4>
       <p>Simplify 2 log₅(10) using logarithm properties.</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Use the product rule to simplify: log₄(8) + log₄(2)</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>Using the product rule: log₄(8) + log₄(2) = log₄(8 × 2) = log₄(16)</p>
        <p>Since 4² = 16, we can write: log₄(16) = 2</p>
        <p><strong>Verification:</strong> log₄(8) + log₄(2) = log₄(4²) + log₄(2) = 2 log₄(4) + log₄(2) = 2×1 + log₄(2) = 2 + 0.5 = 2.5</p>
        <p>log₄(16) = log₄(4²) = 2, so the equation holds.</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Use the quotient rule to simplify: log₁₀(100) - log₁₀(10)</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>Using the quotient rule: log₁₀(100) - log₁₀(10) = log₁₀(100 ÷ 10) = log₁₀(10) = 1</p>
        <p><strong>Verification:</strong> log₁₀(100) = 2, log₁₀(10) = 1, so 2 - 1 = 1 ✓</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Use the power rule to simplify: log₂(8³)</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>Using the power rule: log₂(8³) = 3 log₂(8)</p>
        <p>Since 2³ = 8, log₂(8) = 3, so 3 × 3 = 9</p>
        <p><strong>Verification:</strong> 8³ = 512, log₂(512) = 9 ✓</p>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Product Rule: log_a(MN) = log_a M + log_a N</li>
      <li class="takeaway-item">Quotient Rule: log_a(M/N) = log_a M - log_a N</li>
      <li class="takeaway-item">Power Rule: log_a(M^k) = k log_a M</li>
      <li class="takeaway-item">Properties apply to any base a > 0, a ≠ 1, with M, N > 0</li>
      <li class="takeaway-item">Properties are derived from corresponding exponent properties</li>
      <li class="takeaway-item">Can combine multiple properties to simplify complex expressions</li>
      <li class="takeaway-item">Essential for solving logarithmic equations and simplifying expressions</li>
      <li class="takeaway-item">Change of base formula allows conversion between different bases</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   // Initialize canvas when page loads
   window.addEventListener('load', function() {
    drawPropertiesVisualization();
    updateDisplays();
   });

   function applyProductRule() {
    try {
     const a = parseFloat(document.getElementById('baseA').value);
     const M = parseFloat(document.getElementById('valueM').value);
     const N = parseFloat(document.getElementById('valueN').value);

     if (a <= 0 || a === 1) {
      document.getElementById('errorMessage').textContent = 'Base must be positive and not equal to 1.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     if (M <= 0 || N <= 0) {
      document.getElementById('errorMessage').textContent = 'M and N must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const logM = Math.log(M) / Math.log(a);
     const logN = Math.log(N) / Math.log(a);
     const product = M * N;
     const logProduct = Math.log(product) / Math.log(a);

     document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${M}) + log<sub>${a}</sub>(${N})`;
     document.getElementById('propertyDisplay').innerHTML = `<strong>Using Product Rule:</strong> log<sub>${a}</sub>(${M}×${N}) = log<sub>${a}</sub>(${product})`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${logM.toFixed(3)} + ${logN.toFixed(3)} = ${logProduct.toFixed(3)} ✓`;

     document.getElementById('errorMessage').style.display = 'none';
     drawPropertiesVisualization(a, M, N, 'product');
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error applying product rule. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function applyQuotientRule() {
    try {
     const a = parseFloat(document.getElementById('baseA').value);
     const M = parseFloat(document.getElementById('valueM').value);
     const N = parseFloat(document.getElementById('valueN').value);

     if (a <= 0 || a === 1) {
      document.getElementById('errorMessage').textContent = 'Base must be positive and not equal to 1.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     if (M <= 0 || N <= 0) {
      document.getElementById('errorMessage').textContent = 'M and N must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const logM = Math.log(M) / Math.log(a);
     const logN = Math.log(N) / Math.log(a);
     const quotient = M / N;
     const logQuotient = Math.log(quotient) / Math.log(a);

     document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${M}) - log<sub>${a}</sub>(${N})`;
     document.getElementById('propertyDisplay').innerHTML = `<strong>Using Quotient Rule:</strong> log<sub>${a}</sub>(${M}÷${N}) = log<sub>${a}</sub>(${quotient.toFixed(3)})`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${logM.toFixed(3)} - ${logN.toFixed(3)} = ${logQuotient.toFixed(3)} ✓`;

     document.getElementById('errorMessage').style.display = 'none';
     drawPropertiesVisualization(a, M, N, 'quotient');
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error applying quotient rule. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function applyPowerRule() {
    try {
     const a = parseFloat(document.getElementById('baseA').value);
     const M = parseFloat(document.getElementById('valueM').value);
     const k = parseFloat(document.getElementById('powerK').value);

     if (a <= 0 || a === 1) {
      document.getElementById('errorMessage').textContent = 'Base must be positive and not equal to 1.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     if (M <= 0) {
      document.getElementById('errorMessage').textContent = 'M must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const logM = Math.log(M) / Math.log(a);
     const power = Math.pow(M, k);
     const logPower = Math.log(power) / Math.log(a);

     document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${M}<sup>${k}</sup>)`;
     document.getElementById('propertyDisplay').innerHTML = `<strong>Using Power Rule:</strong> ${k} × log<sub>${a}</sub>(${M})`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${k} × ${logM.toFixed(3)} = ${logPower.toFixed(3)} ✓`;

     document.getElementById('errorMessage').style.display = 'none';
     drawPropertiesVisualization(a, M, k, 'power');
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error applying power rule. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function drawPropertiesVisualization(a = 10, M = 8, N = 2, rule = 'product') {
    const canvas = document.getElementById('propertiesCanvas');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const w = canvas.width, h = canvas.height;
    const centerX = w / 2;
    const centerY = h / 2;

    // Draw visualization based on the rule
    ctx.strokeStyle = '#667eea';
    ctx.lineWidth = 3;
    ctx.font = '16px Arial';
    ctx.textAlign = 'center';

    if (rule === 'product') {
     // Draw M and N boxes
     ctx.fillStyle = '#e8f4f8';
     ctx.fillRect(50, centerY - 40, 80, 80);
     ctx.strokeRect(50, centerY - 40, 80, 80);

     ctx.fillStyle = '#f8e8f4';
     ctx.fillRect(150, centerY - 40, 80, 80);
     ctx.strokeRect(150, centerY - 40, 80, 80);

     // Draw product box
     ctx.fillStyle = '#e8f8e8';
     ctx.fillRect(300, centerY - 40, 120, 80);
     ctx.strokeRect(300, centerY - 40, 120, 80);

     // Labels
     ctx.fillStyle = '#2c3e50';
     ctx.fillText('M', 90, centerY - 45);
     ctx.fillText(M.toString(), 90, centerY + 10);
     ctx.fillText('N', 190, centerY - 45);
     ctx.fillText(N.toString(), 190, centerY + 10);
     ctx.fillText('M×N', 360, centerY - 45);
     ctx.fillText((M*N).toString(), 360, centerY + 10);

     // Arrows
     ctx.strokeStyle = '#667eea';
     ctx.beginPath();
     ctx.moveTo(130, centerY);
     ctx.lineTo(150, centerY);
     ctx.moveTo(230, centerY);
     ctx.lineTo(300, centerY);
     ctx.stroke();

     // Plus sign
     ctx.fillText('+', 140, centerY + 5);

    } else if (rule === 'quotient') {
     // Draw M and N boxes
     ctx.fillStyle = '#e8f4f8';
     ctx.fillRect(50, centerY - 40, 80, 80);
     ctx.strokeRect(50, centerY - 40, 80, 80);

     ctx.fillStyle = '#f8e8f4';
     ctx.fillRect(150, centerY - 40, 80, 80);
     ctx.strokeRect(150, centerY - 40, 80, 80);

     // Draw quotient box
     ctx.fillStyle = '#e8f8e8';
     ctx.fillRect(320, centerY - 40, 120, 80);
     ctx.strokeRect(320, centerY - 40, 120, 80);

     // Labels
     ctx.fillStyle = '#2c3e50';
     ctx.fillText('M', 90, centerY - 45);
     ctx.fillText(M.toString(), 90, centerY + 10);
     ctx.fillText('N', 190, centerY - 45);
     ctx.fillText(N.toString(), 190, centerY + 10);
     ctx.fillText('M÷N', 380, centerY - 45);
     ctx.fillText((M/N).toFixed(2), 380, centerY + 10);

     // Arrows
     ctx.strokeStyle = '#667eea';
     ctx.beginPath();
     ctx.moveTo(130, centerY);
     ctx.lineTo(150, centerY);
     ctx.moveTo(230, centerY);
     ctx.lineTo(320, centerY);
     ctx.stroke();

     // Minus sign
     ctx.fillText('−', 140, centerY + 5);

    } else if (rule === 'power') {
     // Draw M box
     ctx.fillStyle = '#e8f4f8';
     ctx.fillRect(100, centerY - 40, 80, 80);
     ctx.strokeRect(100, centerY - 40, 80, 80);

     // Draw power box
     ctx.fillStyle = '#e8f8e8';
     ctx.fillRect(300, centerY - 40, 120, 80);
     ctx.strokeRect(300, centerY - 40, 120, 80);

     // Labels
     ctx.fillStyle = '#2c3e50';
     ctx.fillText('M', 140, centerY - 45);
     ctx.fillText(M.toString(), 140, centerY + 10);
     ctx.fillText(`M^${N}`, 360, centerY - 45);
     ctx.fillText(Math.pow(M, N).toString(), 360, centerY + 10);

     // Arrow
     ctx.strokeStyle = '#667eea';
     ctx.beginPath();
     ctx.moveTo(180, centerY);
     ctx.lineTo(300, centerY);
     ctx.stroke();

     // Power notation
     ctx.fillText('^', 200, centerY - 15);
     ctx.fillText(N.toString(), 210, centerY - 20);
    }

    // Title
    ctx.font = 'bold 18px Arial';
    ctx.fillStyle = '#2c3e50';
    ctx.fillText(`Logarithm ${rule.charAt(0).toUpperCase() + rule.slice(1)} Rule Visualization`, centerX, 30);
   }

   function updateDisplays() {
    const a = parseFloat(document.getElementById('baseA').value) || 10;
    const M = parseFloat(document.getElementById('valueM').value) || 8;
    const N = parseFloat(document.getElementById('valueN').value) || 2;

    document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${M}) + log<sub>${a}</sub>(${N})`;
    document.getElementById('propertyDisplay').innerHTML = `<strong>Using Product Rule:</strong> log<sub>${a}</sub>(${M}×${N})`;
    document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${(Math.log(M)/Math.log(a) + Math.log(N)/Math.log(a)).toFixed(3)}`;

    drawPropertiesVisualization(a, M, N, 'product');
   }

   function resetDemo() {
    document.getElementById('baseA').value = '10';
    document.getElementById('valueM').value = '8';
    document.getElementById('valueN').value = '2';
    document.getElementById('powerK').value = '3';
    updateDisplays();
    document.getElementById('errorMessage').style.display = 'none';
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Product Rule</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Given: log₂(8) + log₂(4)</div>
        <div class="calculation-step">Apply product rule: log₂(8×4) = log₂(32)</div>
        <div class="calculation-step">Calculate: 8×4 = 32</div>
        <div class="calculation-step">Since 2^5 = 32, log₂(32) = 5</div>
        <div class="calculation-step">Verification: log₂(8) = 3, log₂(4) = 2, so 3 + 2 = 5 ✓</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Quotient Rule</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Given: log₃(27) - log₃(9)</div>
        <div class="calculation-step">Apply quotient rule: log₃(27÷9) = log₃(3)</div>
        <div class="calculation-step">Calculate: 27÷9 = 3</div>
        <div class="calculation-step">Since 3^1 = 3, log₃(3) = 1</div>
        <div class="calculation-step">Verification: log₃(27) = 3, log₃(9) = 2, so 3 - 2 = 1 ✓</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Power Rule</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Given: 2 log₅(10)</div>
        <div class="calculation-step">Apply power rule: log₅((10)^2) = log₅(100)</div>
        <div class="calculation-step">Calculate: 10² = 100</div>
        <div class="calculation-step">Since 5^2 = 25, 5^3 = 125, so log₅(100) ≈ 2.861</div>
        <div class="calculation-step">Verification: 2 × log₅(10) ≈ 2 × 1.4307 = 2.8614 ✓</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }
  </script>
 </body>
</html>