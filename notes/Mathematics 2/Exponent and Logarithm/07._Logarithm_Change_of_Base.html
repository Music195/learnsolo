<!DOCTYPE html>
<!-- tags: Exponent and Logarithm -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Logarithm Change of Base Formula
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .derivation-section {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 30px 0;
   }

   .derivation-box {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    text-align: center;
    margin: 0 20px;
   }

   .derivation-arrow {
    font-size: 2em;
    color: #667eea;
    margin: 0 20px;
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
   }

   .base-canvas {
    border: 2px solid #ddd;
    border-radius: 10px;
    background: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .base-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .base-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .base-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .base-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .base-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Exponent and Logarithm">
   Logarithm Change of Base Formula
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     The change of base formula allows us to evaluate logarithms with any base using logarithms with a different base. This is particularly useful for calculators that only support common logarithms or natural logarithms.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Change of Base Formula:</strong> $$\log_a b = \frac{\log_c b}{\log_c a}$$
      </div>
      <div class="formula-item">
       <strong>Common Logarithm:</strong> $$\log_a b = \frac{\log_{10} b}{\log_{10} a}$$
      </div>
      <div class="formula-item">
       <strong>Natural Logarithm:</strong> $$\log_a b = \frac{\ln b}{\ln a}$$
      </div>
     </div>

     <div class="derivation-section">
      <div class="derivation-box">
       <h3>Given</h3>
       <div class="formula">$$\log_a b = x$$</div>
       <p>So b = a^x</p>
      </div>
      <div class="derivation-arrow">⇒</div>
      <div class="derivation-box">
       <h3>Take log base c</h3>
       <div class="formula">$$\log_c b = \log_c (a^x)$$</div>
       <div class="formula">$$\log_c b = x \log_c a$$</div>
      </div>
      <div class="derivation-arrow">⇒</div>
      <div class="derivation-box">
       <h3>Solve for x</h3>
       <div class="formula">$$x = \frac{\log_c b}{\log_c a}$$</div>
       <div class="formula">$$\log_a b = \frac{\log_c b}{\log_c a}$$</div>
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Change of Base Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="originalBase">Original Base (a):</label>
       <input id="originalBase" max="10" min="0.1" step="0.1" type="number" value="2"/>
      </div>
      <div class="input-field">
       <label for="argument">Argument (b):</label>
       <input id="argument" min="0.1" step="0.1" type="number" value="8"/>
      </div>
      <div class="input-field">
       <label for="newBase">New Base (c):</label>
       <input id="newBase" max="10" min="0.1" step="0.1" type="number" value="10"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="changeBase()">Change Base</button>
      <button class="btn" onclick="useCommonLog()">Use Common Log</button>
      <button class="btn" onclick="useNaturalLog()">Use Natural Log</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="originalDisplay">
       <strong>Original:</strong> log₂(8) = ?
      </div>
      <div class="result-text" id="conversionDisplay">
       <strong>Using base 10:</strong> log₂(8) = log₁₀(8) ÷ log₁₀(2)
      </div>
      <div class="result-text" id="resultDisplay">
       <strong>Result:</strong> 0.903 ÷ 0.301 = 3.000 ✓
      </div>
     </div>

     <div class="canvas-container">
      <canvas class="base-canvas" height="350" id="baseCanvas" width="600"></canvas>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>The change of base formula is derived from the fundamental properties of logarithms:</p>
     <ul>
      <li><strong>Starting Point:</strong> If log_a b = x, then b = a^x</li>
      <li><strong>Take logarithm of both sides:</strong> log_c b = log_c (a^x)</li>
      <li><strong>Apply power rule:</strong> log_c b = x × log_c a</li>
      <li><strong>Solve for x:</strong> x = log_c b ÷ log_c a</li>
      <li><strong>Substitute back:</strong> log_a b = (log_c b) / (log_c a)</li>
     </ul>
     <p>This formula allows us to compute logarithms with any base using logarithms with a known base.</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{cases}
      \log_a b = \dfrac{\log_{10} b}{\log_{10} a} & \text{(common logarithm)} \\
      \log_a b = \dfrac{\ln b}{\ln a} & \text{(natural logarithm)}
      \end{cases}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Common Applications</div>
     <div class="base-grid">
      <div class="base-card">
       <h3>Calculator Evaluation</h3>
       <div class="formula">log₂(16) = ?</div>
       <div class="description">
        Most calculators only have log (base 10) and ln (base e). Use change of base to evaluate log₂(16).
       </div>
      </div>

      <div class="base-card">
       <h3>Complex Expressions</h3>
       <div class="formula">log₅(0.2) = ?</div>
       <div class="description">
        Change to common log: log₅(0.2) = log₁₀(0.2) ÷ log₁₀(5)
       </div>
      </div>

      <div class="base-card">
       <h3>Equation Solving</h3>
       <div class="formula">log₃(x) = 2.5</div>
       <div class="description">
        Convert to exponential form using change of base for verification.
       </div>
      </div>

      <div class="base-card">
       <h3>Scientific Calculations</h3>
       <div class="formula">pH = -log₁₀[H⁺]</div>
       <div class="description">
        pH calculations use common logarithms directly.
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Basic Change of Base</h4>
       <p>Evaluate log₂(8) using common logarithms.</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Using Natural Logarithms</h4>
       <p>Evaluate log₅(25) using natural logarithms.</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Decimal Result</h4>
       <p>Evaluate log₃(7) using common logarithms.</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Use the change of base formula to evaluate log₄(16) using common logarithms.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>Using change of base formula: log₄(16) = log₁₀(16) ÷ log₁₀(4)</p>
        <p>Calculate: log₁₀(16) ≈ 1.2041, log₁₀(4) ≈ 0.6021</p>
        <p>Result: 1.2041 ÷ 0.6021 ≈ 2.000</p>
        <p><strong>Verification:</strong> Since 4² = 16, log₄(16) = 2 ✓</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Use natural logarithms to evaluate log₆(36).</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>Using change of base with natural log: log₆(36) = ln(36) ÷ ln(6)</p>
        <p>Calculate: ln(36) ≈ 3.5835, ln(6) ≈ 1.7918</p>
        <p>Result: 3.5835 ÷ 1.7918 ≈ 2.000</p>
        <p><strong>Verification:</strong> Since 6² = 36, log₆(36) = 2 ✓</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Evaluate log₂(10) using common logarithms.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>Using change of base formula: log₂(10) = log₁₀(10) ÷ log₁₀(2)</p>
        <p>Calculate: log₁₀(10) = 1, log₁₀(2) ≈ 0.3010</p>
        <p>Result: 1 ÷ 0.3010 ≈ 3.322</p>
        <p><strong>Verification:</strong> 2^3 = 8, 2^4 = 16, so log₂(10) ≈ 3.322 ✓</p>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Change of base formula: log_a b = (log_c b) / (log_c a)</li>
      <li class="takeaway-item">Common application: log_a b = log₁₀ b / log₁₀ a</li>
      <li class="takeaway-item">Natural log version: log_a b = ln b / ln a</li>
      <li class="takeaway-item">Derived from logarithm properties and exponent rules</li>
      <li class="takeaway-item">Essential for calculators that don't have arbitrary base logarithms</li>
      <li class="takeaway-item">Works for any positive bases a, c ≠ 1 and positive argument b</li>
      <li class="takeaway-item">Common bases: 10 (common log), e (natural log)</li>
      <li class="takeaway-item">Applications: scientific calculations, pH, engineering, computer science</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   // Initialize canvas when page loads
   window.addEventListener('load', function() {
    drawBaseVisualization();
    updateDisplays();
   });

   function changeBase() {
    try {
     const a = parseFloat(document.getElementById('originalBase').value);
     const b = parseFloat(document.getElementById('argument').value);
     const c = parseFloat(document.getElementById('newBase').value);

     if (a <= 0 || a === 1) {
      document.getElementById('errorMessage').textContent = 'Original base must be positive and not equal to 1.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     if (c <= 0 || c === 1) {
      document.getElementById('errorMessage').textContent = 'New base must be positive and not equal to 1.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     if (b <= 0) {
      document.getElementById('errorMessage').textContent = 'Argument must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const logCB = Math.log(b) / Math.log(c);
     const logCA = Math.log(a) / Math.log(c);
     const result = logCB / logCA;

     document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${b}) = ?`;
     document.getElementById('conversionDisplay').innerHTML = `<strong>Using base ${c}:</strong> log<sub>${a}</sub>(${b}) = log<sub>${c}</sub>(${b}) ÷ log<sub>${c}</sub>(${a})`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${logCB.toFixed(3)} ÷ ${logCA.toFixed(3)} = ${result.toFixed(3)} ✓`;

     document.getElementById('errorMessage').style.display = 'none';
     drawBaseVisualization(a, b, c);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error changing base. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function useCommonLog() {
    try {
     const a = parseFloat(document.getElementById('originalBase').value);
     const b = parseFloat(document.getElementById('argument').value);

     if (a <= 0 || a === 1) {
      document.getElementById('errorMessage').textContent = 'Base must be positive and not equal to 1.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     if (b <= 0) {
      document.getElementById('errorMessage').textContent = 'Argument must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const log10B = Math.log10(b);
     const log10A = Math.log10(a);
     const result = log10B / log10A;

     document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${b}) = ?`;
     document.getElementById('conversionDisplay').innerHTML = `<strong>Using common log:</strong> log<sub>${a}</sub>(${b}) = log₁₀(${b}) ÷ log₁₀(${a})`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${log10B.toFixed(3)} ÷ ${log10A.toFixed(3)} = ${result.toFixed(3)} ✓`;

     document.getElementById('errorMessage').style.display = 'none';
     drawBaseVisualization(a, b, 10);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error using common logarithm. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function useNaturalLog() {
    try {
     const a = parseFloat(document.getElementById('originalBase').value);
     const b = parseFloat(document.getElementById('argument').value);

     if (a <= 0 || a === 1) {
      document.getElementById('errorMessage').textContent = 'Base must be positive and not equal to 1.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     if (b <= 0) {
      document.getElementById('errorMessage').textContent = 'Argument must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const lnB = Math.log(b);
     const lnA = Math.log(a);
     const result = lnB / lnA;

     document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${b}) = ?`;
     document.getElementById('conversionDisplay').innerHTML = `<strong>Using natural log:</strong> log<sub>${a}</sub>(${b}) = ln(${b}) ÷ ln(${a})`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${lnB.toFixed(3)} ÷ ${lnA.toFixed(3)} = ${result.toFixed(3)} ✓`;

     document.getElementById('errorMessage').style.display = 'none';
     drawBaseVisualization(a, b, Math.E);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error using natural logarithm. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function drawBaseVisualization(a = 2, b = 8, c = 10) {
    const canvas = document.getElementById('baseCanvas');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const w = canvas.width, h = canvas.height;
    const centerX = w / 2;
    const centerY = h / 2;

    // Draw the change of base relationship
    ctx.strokeStyle = '#667eea';
    ctx.lineWidth = 3;
    ctx.font = '16px Arial';
    ctx.textAlign = 'center';

    // Original logarithm box
    ctx.fillStyle = '#e8f4f8';
    ctx.fillRect(50, centerY - 40, 150, 80);
    ctx.strokeRect(50, centerY - 40, 150, 80);

    // Change of base box
    ctx.fillStyle = '#f8e8f4';
    ctx.fillRect(w - 200, centerY - 40, 150, 80);
    ctx.strokeRect(w - 200, centerY - 40, 150, 80);

    // Labels
    ctx.fillStyle = '#2c3e50';
    ctx.fillText(`log_${a}(${b})`, 125, centerY - 45);
    ctx.fillText('?', 125, centerY + 10);

    const result = (Math.log(b) / Math.log(c)) / (Math.log(a) / Math.log(c));
    ctx.fillText(`log_${c}(${b})`, w - 125, centerY - 45);
    ctx.fillText(`log_${c}(${a})`, w - 125, centerY - 10);
    ctx.fillText(`÷`, w - 125, centerY + 10);

    // Arrow
    ctx.strokeStyle = '#667eea';
    ctx.beginPath();
    ctx.moveTo(200, centerY);
    ctx.lineTo(w - 200, centerY);
    ctx.stroke();

    // Arrowhead
    ctx.beginPath();
    ctx.moveTo(w - 210, centerY - 5);
    ctx.lineTo(w - 200, centerY);
    ctx.lineTo(w - 210, centerY + 5);
    ctx.fillStyle = '#667eea';
    ctx.fill();

    // Equals sign
    ctx.fillStyle = '#e74c3c';
    ctx.font = 'bold 24px Arial';
    ctx.fillText('=', 220, centerY + 5);

    // Title
    ctx.fillStyle = '#2c3e50';
    ctx.font = 'bold 18px Arial';
    ctx.fillText(`Change of Base: log_${a}(${b}) = log_${c}(${b}) ÷ log_${c}(${a})`, centerX, 30);

    // Result
    ctx.font = '16px Arial';
    ctx.fillText(`Result: ${result.toFixed(3)}`, centerX, h - 30);
   }

   function updateDisplays() {
    const a = parseFloat(document.getElementById('originalBase').value) || 2;
    const b = parseFloat(document.getElementById('argument').value) || 8;
    const c = parseFloat(document.getElementById('newBase').value) || 10;

    document.getElementById('originalDisplay').innerHTML = `<strong>Original:</strong> log<sub>${a}</sub>(${b}) = ?`;
    document.getElementById('conversionDisplay').innerHTML = `<strong>Using base ${c}:</strong> log<sub>${a}</sub>(${b}) = log<sub>${c}</sub>(${b}) ÷ log<sub>${c}</sub>(${a})`;
    const result = (Math.log(b) / Math.log(c)) / (Math.log(a) / Math.log(c));
    document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${(Math.log(b)/Math.log(c)).toFixed(3)} ÷ ${(Math.log(a)/Math.log(c)).toFixed(3)} = ${result.toFixed(3)} ✓`;

    drawBaseVisualization(a, b, c);
   }

   function resetDemo() {
    document.getElementById('originalBase').value = '2';
    document.getElementById('argument').value = '8';
    document.getElementById('newBase').value = '10';
    updateDisplays();
    document.getElementById('errorMessage').style.display = 'none';
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Basic Change of Base</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Evaluate: log₂(8) using common logarithms</div>
        <div class="calculation-step">Apply change of base: log₂(8) = log₁₀(8) ÷ log₁₀(2)</div>
        <div class="calculation-step">Calculate numerator: log₁₀(8) ≈ 0.903</div>
        <div class="calculation-step">Calculate denominator: log₁₀(2) ≈ 0.301</div>
        <div class="calculation-step">Divide: 0.903 ÷ 0.301 ≈ 3.000</div>
        <div class="calculation-step">Verification: Since 2³ = 8, log₂(8) = 3 ✓</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Using Natural Logarithms</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Evaluate: log₅(25) using natural logarithms</div>
        <div class="calculation-step">Apply change of base: log₅(25) = ln(25) ÷ ln(5)</div>
        <div class="calculation-step">Calculate numerator: ln(25) ≈ 3.219</div>
        <div class="calculation-step">Calculate denominator: ln(5) ≈ 1.609</div>
        <div class="calculation-step">Divide: 3.219 ÷ 1.609 ≈ 2.000</div>
        <div class="calculation-step">Verification: Since 5² = 25, log₅(25) = 2 ✓</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Decimal Result</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Evaluate: log₃(7) using common logarithms</div>
        <div class="calculation-step">Apply change of base: log₃(7) = log₁₀(7) ÷ log₁₀(3)</div>
        <div class="calculation-step">Calculate numerator: log₁₀(7) ≈ 0.845</div>
        <div class="calculation-step">Calculate denominator: log₁₀(3) ≈ 0.477</div>
        <div class="calculation-step">Divide: 0.845 ÷ 0.477 ≈ 1.771</div>
        <div class="calculation-step">Verification: 3^1.771 ≈ 7 ✓</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }
  </script>
 </body>
</html>