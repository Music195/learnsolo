<!DOCTYPE html>
<!-- tags: Exponent and Logarithm -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Graph of Exponential Functions
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graph-section {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    margin: 30px 0;
   }

   .graph-box {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    text-align: center;
   }

   .graph-label {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 15px;
    color: #2c3e50;
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
   }

   .exp-canvas {
    border: 2px solid #ddd;
    border-radius: 10px;
    background: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .behavior-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .behavior-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .behavior-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .behavior-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .behavior-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Exponent and Logarithm">
   Graph of Exponential Functions
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     Exponential functions have distinctive graphs that show rapid growth or decay. Understanding their behavior is crucial for modeling real-world phenomena like population growth, radioactive decay, and compound interest.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>General Form:</strong> $$y = a^x \quad (a > 0, a \neq 1)$$
      </div>
      <div class="formula-item">
       <strong>Key Points:</strong> $$(0, 1), (1, a)$$
      </div>
      <div class="formula-item">
       <strong>Horizontal Asymptote:</strong> $$y = 0 \quad (x\text{-axis})$$
      </div>
      <div class="formula-item">
       <strong>Domain:</strong> $$\mathbb{R} \quad \text{Range: } (0, \infty)$$
      </div>
     </div>

     <div class="graph-section">
      <div class="graph-box">
       <div class="graph-label">
        When <strong>a > 1</strong>:
        <span style="color:#1976d2;">Increasing exponential growth</span>
       </div>
       <canvas class="exp-canvas" height="220" id="expUp" width="300"></canvas>
      </div>
      <div class="graph-box">
       <div class="graph-label">
        When <strong>0 < a < 1</strong>:
        <span style="color:#f57c00;">Decreasing exponential decay</span>
       </div>
       <canvas class="exp-canvas" height="220" id="expDown" width="300"></canvas>
      </div>
     </div>
    </div>

    <div class="behavior-grid">
     <div class="behavior-card">
      <h3>Growth (a > 1)</h3>
      <div class="formula">y = a^x, a > 1</div>
      <div class="description">
       Function increases rapidly as x increases. Passes through (0,1) and (1,a). Approaches y=0 as x approaches negative infinity.
      </div>
     </div>

     <div class="behavior-card">
      <h3>Decay (0 < a < 1)</h3>
      <div class="formula">y = a^x, 0 < a < 1</div>
      <div class="description">
       Function decreases rapidly as x increases. Passes through (0,1) and (1,a). Approaches y=0 as x approaches positive infinity.
      </div>
     </div>

     <div class="behavior-card">
      <h3>Special Cases</h3>
      <div class="formula">y = 1^x = 1</div>
      <div class="description">
       Constant function. Any number to the power of zero is 1, so this is the horizontal line y=1.
      </div>
     </div>

     <div class="behavior-card">
      <h3>Transformations</h3>
      <div class="formula">y = ab^x + c</div>
      <div class="description">
       Vertical stretch/compress by |a|, horizontal shift, vertical shift by c. Maintains exponential behavior.
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Exponential Graph Explorer</div>

     <div class="input-group">
      <div class="input-field">
       <label for="baseA">Base (a):</label>
       <input id="baseA" max="5" min="0.1" step="0.1" type="number" value="2"/>
      </div>
      <div class="input-field">
       <label for="verticalScale">Vertical Scale (b):</label>
       <input id="verticalScale" step="0.1" type="number" value="1"/>
      </div>
      <div class="input-field">
       <label for="horizontalShift">Horizontal Shift (h):</label>
       <input id="horizontalShift" step="0.1" type="number" value="0"/>
      </div>
      <div class="input-field">
       <label for="verticalShift">Vertical Shift (k):</label>
       <input id="verticalShift" step="0.1" type="number" value="0"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="updateGraph()">Update Graph</button>
      <button class="btn" onclick="resetGraph()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="functionDisplay">
       <strong>Current Function:</strong> y = 1 × 2^x + 0
      </div>
      <div class="result-text" id="behaviorDisplay">
       <strong>Behavior:</strong> Exponential growth (base > 1)
      </div>
     </div>

     <div class="canvas-container">
      <canvas class="exp-canvas" height="350" id="interactiveCanvas" width="500"></canvas>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>The graph of y = a^x has several important characteristics:</p>
     <ul>
      <li><strong>Domain and Range:</strong> Domain is all real numbers ℝ, range is positive real numbers (0, ∞)</li>
      <li><strong>Intercepts:</strong> y-intercept at (0, 1), no x-intercept</li>
      <li><strong>Asymptotes:</strong> Horizontal asymptote y = 0 (x-axis)</li>
      <li><strong>Symmetry:</strong> No symmetry about y-axis or origin</li>
      <li><strong>Continuity:</strong> Continuous and smooth for all real x</li>
     </ul>
     <p>The behavior depends on the base a:</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{cases}
      a > 1 & \text{exponential growth (increasing)} \\
      0 < a < 1 & \text{exponential decay (decreasing)} \\
      a = 1 & \text{constant function y = 1} \\
      a ≤ 0 & \text{not defined for real exponents}
      \end{cases}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Transformations of Exponential Functions</div>
     <p>Exponential functions can be transformed using parameters:</p>
     <div class="formula-block" style="margin: 20px 0;">
      $$y = ab^{x-h} + k$$
     </div>
     <ul>
      <li><strong>a (vertical stretch/compress):</strong> Multiplies y-values by |a|, reflects if a < 0</li>
      <li><strong>b (base):</strong> Determines growth/decay rate and direction</li>
      <li><strong>h (horizontal shift):</strong> Shifts graph left/right by h units</li>
      <li><strong>k (vertical shift):</strong> Shifts graph up/down by k units</li>
     </ul>
     <p>Example: y = 2×3^(x-1) + 4 shifts the graph of y=3^x right by 1, stretches vertically by 2, and shifts up by 4.</p>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Graph Analysis</h4>
       <p>Analyze the graph of y = 2^x and identify key features</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Transformations</h4>
       <p>Graph y = 3×(0.5)^x and describe the transformations</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Real-World Application</h4>
       <p>A population grows according to P(t) = 1000×(1.05)^t. Graph and interpret.</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Sketch the graph of y = (1/2)^x and identify its key features.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>The function y = (0.5)^x is an exponential decay function.</p>
        <p><strong>Key features:</strong></p>
        <ul>
         <li>y-intercept: (0, 1)</li>
         <li>Point (1, 0.5)</li>
         <li>Horizontal asymptote: y = 0</li>
         <li>Domain: all real numbers</li>
         <li>Range: (0, ∞)</li>
         <li>Decreasing function</li>
        </ul>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Describe the transformations applied to y = 2^x to get y = 3×2^(x-1) - 2.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>Starting from y = 2^x:</p>
        <ul>
         <li>Horizontal shift right by 1 unit: y = 2^(x-1)</li>
         <li>Vertical stretch by factor of 3: y = 3×2^(x-1)</li>
         <li>Vertical shift down by 2 units: y = 3×2^(x-1) - 2</li>
        </ul>
        <p>The graph passes through (1, 3×2^(1-1) - 2) = (1, 3×1 - 2) = (1, 1)</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>A radioactive substance decays according to N(t) = 100×(0.8)^t. What is the initial amount? What is the decay factor? When will 50 grams remain?</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <ul>
         <li>Initial amount: N(0) = 100×(0.8)^0 = 100 grams</li>
         <li>Decay factor: 0.8 (80% remains each time period)</li>
         <li>50 grams remain when: 100×(0.8)^t = 50</li>
         <li>(0.8)^t = 0.5 ⇒ t = log(0.5)/log(0.8) ≈ 0.5/0.0969 ≈ 5.15 time periods</li>
        </ul>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Exponential graphs pass through (0,1) and (1,a), with x-axis as horizontal asymptote</li>
      <li class="takeaway-item">a > 1: increasing growth; 0 < a < 1: decreasing decay</li>
      <li class="takeaway-item">Domain: all real numbers; Range: positive real numbers (0, ∞)</li>
      <li class="takeaway-item">Transformations: y = ab^(x-h) + k affects scale, shifts, and base</li>
      <li class="takeaway-item">Continuous and smooth curves, no x-intercepts, one y-intercept</li>
      <li class="takeaway-item">Real-world applications: growth/decay, compound interest, population models</li>
      <li class="takeaway-item">Asymptote behavior: approaches but never reaches y = 0</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   // Original canvas drawing functions
   window.addEventListener('load', function() {
    // Draw y = a^x for a > 1
    drawExponential("expUp", 2.2, "#1976d2");
    // Draw y = a^x for 0 < a < 1
    drawExponential("expDown", 0.5, "#f57c00");
    // Initialize interactive canvas
    updateGraph();
   });

   function drawExponential(canvasId, a, color) {
    const canvas = document.getElementById(canvasId);
    if (!canvas) return;
    const ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const w = canvas.width, h = canvas.height;
    const x0 = w / 2; // y-axis position (centered)
    const y0 = h / 2 + 10; // x-axis position (centered)

    const xScale = 50; // pixels per unit
    const yScale = 40; // pixels per unit

    // Draw grid lines
    ctx.strokeStyle = "#e8e8e8";
    ctx.lineWidth = 0.8;
    for (let i = -3; i <= 5; i++) {
     // Vertical grid lines
     let px = x0 + i * xScale;
     if (px >= 0 && px <= w) {
      ctx.beginPath();
      ctx.moveTo(px, 0);
      ctx.lineTo(px, h);
      ctx.stroke();
     }
     // Horizontal grid lines
     let py = y0 - i * yScale;
     if (py >= 0 && py <= h) {
      ctx.beginPath();
      ctx.moveTo(0, py);
      ctx.lineTo(w, py);
      ctx.stroke();
     }
    }

    // Draw axes
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 2;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(0, y0);
    ctx.lineTo(w, y0);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(x0, 0);
    ctx.lineTo(x0, h);
    ctx.stroke();

    // Axis arrows
    ctx.fillStyle = "#000";
    ctx.beginPath();
    ctx.moveTo(w - 3, y0);
    ctx.lineTo(w - 12, y0 - 5);
    ctx.lineTo(w - 12, y0 + 5);
    ctx.fill();
    ctx.beginPath();
    ctx.moveTo(x0, 3);
    ctx.lineTo(x0 - 5, 12);
    ctx.lineTo(x0 + 5, 12);
    ctx.fill();

    // Draw exponential curve
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let x = -2.5; x <= 3.2; x += 0.008) {
     let y = Math.pow(a, x);
     let px = x0 + x * xScale;
     let py = y0 - y * yScale;
     if (py >= 0 && py <= h && px >= 0 && px <= w) {
      if (!started) {
       ctx.moveTo(px, py);
       started = true;
      } else {
       ctx.lineTo(px, py);
      }
     }
    }
    ctx.stroke();

    // Mark key points
    // Point (0, 1)
    let px0 = x0;
    let py0 = y0 - yScale;
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(px0, py0, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    // Point (1, a)
    let px1 = x0 + xScale;
    let py1 = y0 - a * yScale;
    ctx.fillStyle = color;
    ctx.beginPath();
    ctx.arc(px1, py1, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = "#000";
    ctx.font = "bold 15px Arial";
    ctx.fillText("x", w - 20, y0 + 20);
    ctx.fillText("y", x0 - 20, 15);
    ctx.font = "14px Arial";
    ctx.fillText("O", x0 - 18, y0 + 18);

    // Tick marks and labels
    ctx.font = "12px Arial";
    ctx.fillStyle = "#000";
    for (let i = -2; i <= 3; i++) {
     if (i !== 0) {
      let px = x0 + i * xScale;
      if (px >= 0 && px <= w) {
       ctx.fillText(i.toString(), px - 4, y0 + 16);
      }
     }
    }
    for (let i = 1; i <= 4; i++) {
     let py = y0 - i * yScale;
     if (py >= 15 && py <= h) {
      ctx.fillText(i.toString(), x0 - 18, py + 4);
     }
    }

    // Point labels
    ctx.fillStyle = color;
    ctx.font = "italic 13px Georgia, serif";
    ctx.fillText("(0, 1)", px0 + 15, py0 );
    ctx.fillText(`(1, ${a.toFixed(1)})`, px1 + 8, py1 - 6);

    // Function label - beautiful mathematical notation
    const labelX = a > 1 ? x0 +5 : x0 - 100;
    const labelY = a > 1 ? 20 : y0 - 50;

    ctx.fillStyle = color;
    ctx.font = "italic 17px Georgia, serif";
    ctx.fillText("y", labelX, labelY);

    ctx.font = "16px Arial";
    ctx.fillText(" = ", labelX + 12, labelY);

    ctx.font = "italic 17px Georgia, serif";
    ctx.fillText("a", labelX + 32, labelY);

    // Superscript x
    ctx.font = "italic 13px Georgia, serif";
    ctx.fillText("x", labelX + 43, labelY - 5);
   }

   function updateGraph() {
    try {
     const a = parseFloat(document.getElementById('baseA').value);
     const b = parseFloat(document.getElementById('verticalScale').value);
     const h = parseFloat(document.getElementById('horizontalShift').value);
     const k = parseFloat(document.getElementById('verticalShift').value);

     if (a <= 0) {
      document.getElementById('errorMessage').textContent = 'Base must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     document.getElementById('functionDisplay').innerHTML = `<strong>Current Function:</strong> y = ${b} × ${a}^(x - ${h}) + ${k}`;
     const behavior = a > 1 ? 'Exponential growth (base > 1)' : a < 1 ? 'Exponential decay (base < 1)' : 'Constant function';
     document.getElementById('behaviorDisplay').innerHTML = `<strong>Behavior:</strong> ${behavior}`;
     document.getElementById('errorMessage').style.display = 'none';

     drawInteractiveExponential(a, b, h, k);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error updating graph. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function drawInteractiveExponential(a, b, h, k) {
    const canvas = document.getElementById('interactiveCanvas');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const w = canvas.width, h_canvas = canvas.height;
    const x0 = w / 2;
    const y0 = h_canvas / 2;

    const xScale = 40;
    const yScale = 30;

    // Draw grid
    ctx.strokeStyle = "#e8e8e8";
    ctx.lineWidth = 0.8;
    for (let i = -5; i <= 5; i++) {
     let px = x0 + i * xScale;
     if (px >= 0 && px <= w) {
      ctx.beginPath();
      ctx.moveTo(px, 0);
      ctx.lineTo(px, h_canvas);
      ctx.stroke();
     }
     let py = y0 - i * yScale;
     if (py >= 0 && py <= h_canvas) {
      ctx.beginPath();
      ctx.moveTo(0, py);
      ctx.lineTo(w, py);
      ctx.stroke();
     }
    }

    // Draw axes
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, y0);
    ctx.lineTo(w, y0);
    ctx.moveTo(x0, 0);
    ctx.lineTo(x0, h_canvas);
    ctx.stroke();

    // Draw exponential curve
    ctx.strokeStyle = "#667eea";
    ctx.lineWidth = 3;
    ctx.beginPath();
    let started = false;
    for (let x = -4; x <= 4; x += 0.02) {
     let y = b * Math.pow(a, x - h) + k;
     let px = x0 + x * xScale;
     let py = y0 - y * yScale;
     if (py >= 0 && py <= h_canvas && px >= 0 && px <= w && !isNaN(y) && isFinite(y)) {
      if (!started) {
       ctx.moveTo(px, py);
       started = true;
      } else {
       ctx.lineTo(px, py);
      }
     }
    }
    ctx.stroke();

    // Labels
    ctx.fillStyle = "#000";
    ctx.font = "12px Arial";
    ctx.fillText("x", w - 15, y0 + 15);
    ctx.fillText("y", x0 - 15, 15);
    ctx.fillText("O", x0 - 12, y0 + 15);
   }

   function resetGraph() {
    document.getElementById('baseA').value = '2';
    document.getElementById('verticalScale').value = '1';
    document.getElementById('horizontalShift').value = '0';
    document.getElementById('verticalShift').value = '0';
    updateGraph();
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Graph Analysis of y = 2^x</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: y = 2^x (exponential growth)</div>
        <div class="calculation-step">y-intercept: (0, 2^0) = (0, 1)</div>
        <div class="calculation-step">Point (1, a): (1, 2^1) = (1, 2)</div>
        <div class="calculation-step">Behavior: Increases rapidly as x increases</div>
        <div class="calculation-step">Asymptote: y = 0 (approaches but never reaches)</div>
        <div class="calculation-step">Domain: ℝ (all real numbers)</div>
        <div class="calculation-step">Range: (0, ∞) (positive real numbers)</div>
        <div class="calculation-step">No x-intercepts, one y-intercept</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Transformations</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: y = 3×(0.5)^x</div>
        <div class="calculation-step">Base function: y = (0.5)^x (exponential decay)</div>
        <div class="calculation-step">Vertical stretch: multiplied by 3, so all y-values tripled</div>
        <div class="calculation-step">Key points: (0, 3×1) = (0, 3), (1, 3×0.5) = (1, 1.5)</div>
        <div class="calculation-step">Asymptote: y = 0 (horizontal)</div>
        <div class="calculation-step">Behavior: Still decreasing, but stretched vertically</div>
        <div class="calculation-step">Range: (0, ∞), Domain: ℝ</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Population Growth Model</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: P(t) = 1000×(1.05)^t</div>
        <div class="calculation-step">Initial population: P(0) = 1000×1 = 1000</div>
        <div class="calculation-step">Growth rate: 5% per time period (base = 1.05 > 1)</div>
        <div class="calculation-step">Graph: Exponential growth starting at (0, 1000)</div>
        <div class="calculation-step">After 1 period: P(1) = 1000×1.05 = 1050</div>
        <div class="calculation-step">After 2 periods: P(2) = 1000×1.05² = 1102.50</div>
        <div class="calculation-step">Asymptote: P = 0 (but population can't be negative)</div>
        <div class="calculation-step">Interpretation: Population grows by 5% each period</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }
  </script>
 </body>
</html>