<!DOCTYPE html>
<!-- tags: Exponent and Logarithm -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Properties of Exponential Functions
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graph-section {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    margin: 30px 0;
   }

   .graph-box {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    text-align: center;
   }

   .graph-label {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 15px;
    color: #2c3e50;
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
   }

   .exp-canvas {
    border: 2px solid #ddd;
    border-radius: 10px;
    background: white;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .property-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .property-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .property-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .property-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .property-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Exponent and Logarithm">
   Properties of Exponential Functions
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     Exponential functions have unique properties that make them essential for modeling growth and decay phenomena. Understanding these properties helps in analyzing function behavior and solving equations.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Domain & Range:</strong> $$x \in \mathbb{R}, \quad y \in (0, \infty)$$
      </div>
      <div class="formula-item">
       <strong>Increasing (a > 1):</strong> $$p < q \implies a^p < a^q$$
      </div>
      <div class="formula-item">
       <strong>Decreasing (0 < a < 1):</strong> $$p < q \implies a^p > a^q$$
      </div>
      <div class="formula-item">
       <strong>Horizontal Asymptote:</strong> $$y = 0$$
      </div>
     </div>

     <div class="graph-section">
      <div class="graph-box">
       <div class="graph-label">
        When <strong>a > 1</strong>: Increasing function
       </div>
       <canvas class="exp-canvas" height="220" id="expUp" width="300"></canvas>
      </div>
      <div class="graph-box">
       <div class="graph-label">
        When <strong>0 < a < 1</strong>: Decreasing function
       </div>
       <canvas class="exp-canvas" height="220" id="expDown" width="300"></canvas>
      </div>
     </div>
    </div>

    <div class="property-grid">
     <div class="property-card">
      <h3>Domain & Range</h3>
      <div class="formula">Domain: ℝ</div>
      <div class="formula">Range: (0, ∞)</div>
      <div class="description">
       Exponential functions are defined for all real numbers and always produce positive outputs.
      </div>
     </div>

     <div class="property-card">
      <h3>Monotonicity</h3>
      <div class="formula">a > 1: Increasing</div>
      <div class="formula">0 < a < 1: Decreasing</div>
      <div class="description">
       The function either always increases or always decreases, never both.
      </div>
     </div>

     <div class="property-card">
      <h3>Asymptotes</h3>
      <div class="formula">y = 0 (horizontal)</div>
      <div class="description">
       The x-axis is a horizontal asymptote. The function approaches but never reaches zero.
      </div>
     </div>

     <div class="property-card">
      <h3>Intercepts</h3>
      <div class="formula">y-intercept: (0, 1)</div>
      <div class="description">
       Always passes through (0, 1). No x-intercepts since range is positive reals.
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Exponential Properties Explorer</div>

     <div class="input-group">
      <div class="input-field">
       <label for="baseA">Base (a):</label>
       <input id="baseA" max="5" min="0.1" step="0.1" type="number" value="2"/>
      </div>
      <div class="input-field">
       <label for="pointP">Point p:</label>
       <input id="pointP" step="0.1" type="number" value="-1"/>
      </div>
      <div class="input-field">
       <label for="pointQ">Point q:</label>
       <input id="pointQ" step="0.1" type="number" value="1"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="analyzeProperties()">Analyze Properties</button>
      <button class="btn" onclick="comparePoints()">Compare p and q</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="propertyDisplay">
       <strong>Function:</strong> y = 2^x
      </div>
      <div class="result-text" id="analysisDisplay">
       <strong>Behavior:</strong> Increasing function (base > 1)
      </div>
      <div class="result-text" id="comparisonDisplay">
       <strong>Comparison:</strong> p < q ⇒ a^p < a^q
      </div>
     </div>

     <div class="canvas-container">
      <canvas class="exp-canvas" height="350" id="interactiveCanvas" width="500"></canvas>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>The properties of exponential functions stem from their fundamental definition and the behavior of exponentiation:</p>
     <ul>
      <li><strong>Domain and Range:</strong> a^x is defined for all real x since any number can be raised to any real power. The result is always positive.</li>
      <li><strong>Monotonicity:</strong> For a > 1, larger exponents produce larger results. For 0 < a < 1, larger exponents produce smaller results.</li>
      <li><strong>Asymptotes:</strong> As x → -∞, a^x → 0 for a > 1. As x → ∞, a^x → 0 for 0 < a < 1.</li>
      <li><strong>Continuity:</strong> Exponential functions are continuous everywhere in their domain.</li>
     </ul>
     <p>The monotonicity property is crucial for solving inequalities and understanding function behavior:</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{cases}
      a > 1: & x_1 < x_2 \implies a^{x_1} < a^{x_2} \\
      0 < a < 1: & x_1 < x_2 \implies a^{x_1} > a^{x_2}
      \end{cases}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Key Properties and Theorems</div>
     <div class="property-grid">
      <div class="property-card">
       <h3>One-to-One Property</h3>
       <div class="formula">a^x = a^y ⇒ x = y</div>
       <div class="description">
        Exponential functions are one-to-one, meaning each output corresponds to exactly one input.
       </div>
      </div>

      <div class="property-card">
       <h3>Injectivity</h3>
       <div class="formula">f(x) = f(y) ⇒ x = y</div>
       <div class="description">
        No two different inputs produce the same output, which allows for inverse functions (logarithms).
       </div>
      </div>

      <div class="property-card">
       <h3>Limit Behavior</h3>
       <div class="formula">lim_{x→∞} a^x = ∞ (a > 1)</div>
       <div class="formula">lim_{x→-∞} a^x = 0 (a > 1)</div>
       <div class="description">
        Understanding limits at infinity helps analyze long-term behavior.
       </div>
      </div>

      <div class="property-card">
       <h3>Derivative</h3>
       <div class="formula">(a^x)' = a^x ln(a)</div>
       <div class="description">
        The derivative is proportional to the function itself, explaining the constant relative growth rate.
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Comparing Function Values</h4>
       <p>Compare 3^2 and 3^4. Which is larger? Explain why.</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Solving Inequalities</h4>
       <p>Solve 2^x > 8 and (0.5)^x < 0.125</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Function Analysis</h4>
       <p>Analyze the behavior of y = (1/3)^x</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Determine whether y = 5^x is increasing or decreasing. Compare 5^2 and 5^3.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>Since 5 > 1, y = 5^x is an increasing function.</p>
        <p>Therefore, 5^2 < 5^3 (25 < 125)</p>
        <p>This follows the property: a > 1 and p < q ⇒ a^p < a^q</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Compare (0.2)^1 and (0.2)^3. Which is larger? Explain using properties.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>Since 0.2 < 1, y = (0.2)^x is a decreasing function.</p>
        <p>Therefore, (0.2)^1 > (0.2)^3 (0.2 > 0.008)</p>
        <p>This follows: 0 < a < 1 and p < q ⇒ a^p > a^q</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>State the domain, range, and asymptotes of y = 2^x.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <ul>
         <li><strong>Domain:</strong> All real numbers ℝ</li>
         <li><strong>Range:</strong> Positive real numbers (0, ∞)</li>
         <li><strong>Asymptotes:</strong> Horizontal asymptote y = 0</li>
         <li><strong>Behavior:</strong> Increasing function</li>
         <li><strong>Intercepts:</strong> y-intercept at (0, 1), no x-intercepts</li>
        </ul>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Domain: all real numbers; Range: positive real numbers (0, ∞)</li>
      <li class="takeaway-item">a > 1: increasing function; 0 < a < 1: decreasing function</li>
      <li class="takeaway-item">Monotonicity: p < q ⇒ a^p ≷ a^q depending on whether a > 1 or a < 1</li>
      <li class="takeaway-item">Horizontal asymptote: y = 0 (x-axis)</li>
      <li class="takeaway-item">One-to-one property: different inputs produce different outputs</li>
      <li class="takeaway-item">Continuous and smooth everywhere in domain</li>
      <li class="takeaway-item">y-intercept always at (0, 1); no x-intercepts</li>
      <li class="takeaway-item">Applications: growth/decay modeling, compound interest, population dynamics</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   // Original canvas drawing functions
   window.addEventListener('load', function() {
    // Draw y = a^x for a > 1
    drawExpGraph("expUp", 2.2, "#1976d2", true);
    // Draw y = a^x for 0 < a < 1
    drawExpGraph("expDown", 0.5, "#f57c00", false);
    // Initialize interactive canvas
    analyzeProperties();
   });

   function drawExpGraph(canvasId, a, color, isIncreasing) {
    const canvas = document.getElementById(canvasId);
    if (!canvas) return;
    const ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const w = canvas.width, h = canvas.height;
    const x0 = w / 2; // y-axis position (centered)
    const y0 = h / 2 + 10; // x-axis position (centered)

    const xScale = 50; // pixels per unit
    const yScale = 40; // pixels per unit

    // Draw grid lines
    ctx.strokeStyle = "#e8e8e8";
    ctx.lineWidth = 0.8;
    for (let i = -3; i <= 5; i++) {
     // Vertical grid lines
     let px = x0 + i * xScale;
     if (px >= 0 && px <= w) {
      ctx.beginPath();
      ctx.moveTo(px, 0);
      ctx.lineTo(px, h);
      ctx.stroke();
     }
     // Horizontal grid lines
     let py = y0 - i * yScale;
     if (py >= 0 && py <= h) {
      ctx.beginPath();
      ctx.moveTo(0, py);
      ctx.lineTo(w, py);
      ctx.stroke();
     }
    }

    // Draw axes
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 2;
    // x-axis
    ctx.beginPath();
    ctx.moveTo(0, y0);
    ctx.lineTo(w, y0);
    ctx.stroke();
    // y-axis
    ctx.beginPath();
    ctx.moveTo(x0, 0);
    ctx.lineTo(x0, h);
    ctx.stroke();

    // Axis arrows
    ctx.fillStyle = "#000";
    ctx.beginPath();
    ctx.moveTo(w - 3, y0);
    ctx.lineTo(w - 12, y0 - 5);
    ctx.lineTo(w - 12, y0 + 5);
    ctx.fill();
    ctx.beginPath();
    ctx.moveTo(x0, 3);
    ctx.lineTo(x0 - 5, 12);
    ctx.lineTo(x0 + 5, 12);
    ctx.fill();

    // Draw exponential curve
    ctx.strokeStyle = color;
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    let started = false;
    for (let x = -2.5; x <= 3.2; x += 0.008) {
     let y = Math.pow(a, x);
     let px = x0 + x * xScale;
     let py = y0 - y * yScale;
     if (py >= 0 && py <= h && px >= 0 && px <= w) {
      if (!started) {
       ctx.moveTo(px, py);
       started = true;
      } else {
       ctx.lineTo(px, py);
      }
     }
    }
    ctx.stroke();

    // Mark points p < q
    let p = -0.8, q = 0.8;
    let px_p = x0 + p * xScale;
    let px_q = x0 + q * xScale;
    let py_p = y0 - Math.pow(a, p) * yScale;
    let py_q = y0 - Math.pow(a, q) * yScale;

    ctx.setLineDash([3, 3]);
    ctx.strokeStyle = "#999";
    ctx.lineWidth = 1;
    // Vertical lines for p and q
    ctx.beginPath();
    ctx.moveTo(px_p, y0);
    ctx.lineTo(px_p, py_p);
    ctx.moveTo(px_q, y0);
    ctx.lineTo(px_q, py_q);
    ctx.stroke();
    ctx.setLineDash([]);

    // Dots at (p, a^p) and (q, a^q)
    ctx.fillStyle = "#d32f2f";
    ctx.beginPath();
    ctx.arc(px_p, py_p, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.fillStyle = "#d32f2f";
    ctx.beginPath();
    ctx.arc(px_q, py_q, 5, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    // Axis labels
    ctx.fillStyle = "#000";
    ctx.font = "bold 15px Arial";
    ctx.fillText("x", w - 20, y0 + 20);
    ctx.fillText("y", x0 - 20, 15);
    ctx.font = "14px Arial";
    ctx.fillText("O", x0 - 18, y0 + 18);

    // p, q labels on x-axis
    ctx.font = "italic 13px Georgia, serif";
    ctx.fillStyle = "#000";
    ctx.fillText("p", px_p - 5, y0 + 18);
    ctx.fillText("q", px_q - 5, y0 + 18);

    // a^p, a^q labels (beautiful superscript)
    ctx.fillStyle = "#d32f2f";
    ctx.font = "italic 14px Georgia, serif";
    ctx.fillText("a", px_p + 8, py_p - 8);
    ctx.font = "italic 11px Georgia, serif";
    ctx.fillText("p", px_p + 20, py_p - 13);

    ctx.font = "italic 14px Georgia, serif";
    ctx.fillText("a", px_q + 8, py_q - 8);
    ctx.font = "italic 11px Georgia, serif";
    ctx.fillText("q", px_q + 20, py_q - 13);

    // Function label - beautiful mathematical notation (centered)
    const labelX = w / 2 +5;
    const labelY = a > 1 ? 100 : h - 160;

    ctx.fillStyle = color;
    ctx.font = "italic 17px Georgia, serif";
    ctx.fillText("y", labelX, labelY);

    ctx.font = "16px Arial";
    ctx.fillText(" = ", labelX + 12, labelY);

    ctx.font = "italic 17px Georgia, serif";
    ctx.fillText("a", labelX + 32, labelY);

    // Superscript x
    ctx.font = "italic 13px Georgia, serif";
    ctx.fillText("x", labelX + 43, labelY - 5);
   }

   function analyzeProperties() {
    try {
     const a = parseFloat(document.getElementById('baseA').value);
     const p = parseFloat(document.getElementById('pointP').value);
     const q = parseFloat(document.getElementById('pointQ').value);

     if (a <= 0) {
      document.getElementById('errorMessage').textContent = 'Base must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const behavior = a > 1 ? 'Increasing function (base > 1)' : a < 1 ? 'Decreasing function (base < 1)' : 'Constant function';
     const ap = Math.pow(a, p);
     const aq = Math.pow(a, q);

     document.getElementById('propertyDisplay').innerHTML = `<strong>Function:</strong> y = ${a}^x`;
     document.getElementById('analysisDisplay').innerHTML = `<strong>Behavior:</strong> ${behavior}`;
     document.getElementById('comparisonDisplay').innerHTML = `<strong>Comparison:</strong> ${a}^${p} = ${ap.toFixed(3)}, ${a}^${q} = ${aq.toFixed(3)}`;

     document.getElementById('errorMessage').style.display = 'none';

     drawInteractiveProperties(a, p, q);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error analyzing properties. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function comparePoints() {
    try {
     const a = parseFloat(document.getElementById('baseA').value);
     const p = parseFloat(document.getElementById('pointP').value);
     const q = parseFloat(document.getElementById('pointQ').value);

     if (a <= 0) {
      document.getElementById('errorMessage').textContent = 'Base must be positive.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     const ap = Math.pow(a, p);
     const aq = Math.pow(a, q);
     let comparison = '';

     if (p < q) {
      if (a > 1) {
       comparison = `p < q and a > 1 ⇒ a^p < a^q (${ap.toFixed(3)} < ${aq.toFixed(3)})`;
      } else if (a < 1) {
       comparison = `p < q and a < 1 ⇒ a^p > a^q (${ap.toFixed(3)} > ${aq.toFixed(3)})`;
      } else {
       comparison = `p < q and a = 1 ⇒ a^p = a^q (${ap.toFixed(3)} = ${aq.toFixed(3)})`;
      }
     } else if (p > q) {
      if (a > 1) {
       comparison = `p > q and a > 1 ⇒ a^p > a^q (${ap.toFixed(3)} > ${aq.toFixed(3)})`;
      } else if (a < 1) {
       comparison = `p > q and a < 1 ⇒ a^p < a^q (${ap.toFixed(3)} < ${aq.toFixed(3)})`;
      } else {
       comparison = `p > q and a = 1 ⇒ a^p = a^q (${ap.toFixed(3)} = ${aq.toFixed(3)})`;
      }
     } else {
      comparison = `p = q ⇒ a^p = a^q (${ap.toFixed(3)} = ${aq.toFixed(3)})`;
     }

     document.getElementById('comparisonDisplay').innerHTML = `<strong>Comparison:</strong> ${comparison}`;
     document.getElementById('errorMessage').style.display = 'none';

     drawInteractiveProperties(a, p, q);
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error comparing points. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function drawInteractiveProperties(a, p, q) {
    const canvas = document.getElementById('interactiveCanvas');
    const ctx = canvas.getContext('2d');

    // Clear canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const w = canvas.width, h = canvas.height;
    const x0 = w / 2;
    const y0 = h / 2;

    const xScale = 40;
    const yScale = 30;

    // Draw grid
    ctx.strokeStyle = "#e8e8e8";
    ctx.lineWidth = 0.8;
    for (let i = -5; i <= 5; i++) {
     let px = x0 + i * xScale;
     if (px >= 0 && px <= w) {
      ctx.beginPath();
      ctx.moveTo(px, 0);
      ctx.lineTo(px, h);
      ctx.stroke();
     }
     let py = y0 - i * yScale;
     if (py >= 0 && py <= h) {
      ctx.beginPath();
      ctx.moveTo(0, py);
      ctx.lineTo(w, py);
      ctx.stroke();
     }
    }

    // Draw axes
    ctx.strokeStyle = "#000";
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(0, y0);
    ctx.lineTo(w, y0);
    ctx.moveTo(x0, 0);
    ctx.lineTo(x0, h);
    ctx.stroke();

    // Draw exponential curve
    ctx.strokeStyle = "#667eea";
    ctx.lineWidth = 3;
    ctx.beginPath();
    let started = false;
    for (let x = -4; x <= 4; x += 0.02) {
     let y = Math.pow(a, x);
     let px = x0 + x * xScale;
     let py = y0 - y * yScale;
     if (py >= 0 && py <= h && px >= 0 && px <= w && !isNaN(y) && isFinite(y)) {
      if (!started) {
       ctx.moveTo(px, py);
       started = true;
      } else {
       ctx.lineTo(px, py);
      }
     }
    }
    ctx.stroke();

    // Draw points p and q
    const px_p = x0 + p * xScale;
    const py_p = y0 - Math.pow(a, p) * yScale;
    const px_q = x0 + q * xScale;
    const py_q = y0 - Math.pow(a, q) * yScale;

    // Vertical lines
    ctx.setLineDash([5, 5]);
    ctx.strokeStyle = "#999";
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(px_p, y0);
    ctx.lineTo(px_p, py_p);
    ctx.moveTo(px_q, y0);
    ctx.lineTo(px_q, py_q);
    ctx.stroke();
    ctx.setLineDash([]);

    // Points
    ctx.fillStyle = "#e74c3c";
    ctx.beginPath();
    ctx.arc(px_p, py_p, 6, 0, 2 * Math.PI);
    ctx.fill();
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 2;
    ctx.stroke();

    ctx.fillStyle = "#27ae60";
    ctx.beginPath();
    ctx.arc(px_q, py_q, 6, 0, 2 * Math.PI);
    ctx.fill();
    ctx.stroke();

    // Labels
    ctx.fillStyle = "#000";
    ctx.font = "12px Arial";
    ctx.fillText("x", w - 15, y0 + 15);
    ctx.fillText("y", x0 - 15, 15);
    ctx.fillText("O", x0 - 12, y0 + 15);

    // Point labels
    ctx.fillStyle = "#e74c3c";
    ctx.font = "bold 14px Arial";
    ctx.fillText(`p=${p}`, px_p + 10, py_p - 10);
    ctx.fillStyle = "#27ae60";
    ctx.fillText(`q=${q}`, px_q + 10, py_q - 10);
   }

   function resetDemo() {
    document.getElementById('baseA').value = '2';
    document.getElementById('pointP').value = '-1';
    document.getElementById('pointQ').value = '1';
    analyzeProperties();
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Comparing Function Values</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: y = 3^x (base > 1, increasing)</div>
        <div class="calculation-step">Compare 3^2 and 3^4: since 2 < 4 and 3 > 1</div>
        <div class="calculation-step">Property: p < q and a > 1 ⇒ a^p < a^q</div>
        <div class="calculation-step">Therefore: 3^2 < 3^4</div>
        <div class="calculation-step">Calculate: 9 < 81 ✓</div>
        <div class="calculation-step">The function is increasing, so larger exponents give larger values</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Solving Inequalities</h4>
       <div class="calculation-steps">
        <div class="calculation-step">First inequality: 2^x > 8</div>
        <div class="calculation-step">Write 8 as power of 2: 8 = 2^3</div>
        <div class="calculation-step">So: 2^x > 2^3</div>
        <div class="calculation-step">Since 2 > 1 (increasing), x > 3</div>
        <div class="calculation-step">Solution: x > 3</div>
        <div class="calculation-step">Second inequality: (0.5)^x < 0.125</div>
        <div class="calculation-step">Write 0.125 as power of 0.5: 0.125 = 1/8 = (1/2)^3 = 0.5^3</div>
        <div class="calculation-step">So: (0.5)^x < (0.5)^3</div>
        <div class="calculation-step">Since 0.5 < 1 (decreasing), x > 3</div>
        <div class="calculation-step">Solution: x > 3</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Function Analysis</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: y = (1/3)^x</div>
        <div class="calculation-step">Base a = 1/3 ≈ 0.333 < 1, so decreasing function</div>
        <div class="calculation-step">Domain: all real numbers ℝ</div>
        <div class="calculation-step">Range: positive real numbers (0, ∞)</div>
        <div class="calculation-step">y-intercept: (0, 1)</div>
        <div class="calculation-step">As x → ∞: (1/3)^x → 0</div>
        <div class="calculation-step">As x → -∞: (1/3)^x → ∞</div>
        <div class="calculation-step">Horizontal asymptote: y = 0</div>
        <div class="calculation-step">Monotonicity: p < q ⇒ (1/3)^p > (1/3)^q</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }
  </script>
 </body>
</html>