<!DOCTYPE html>
<!-- tags: Formula -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Cubic Expansion Formulas 2
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graybox {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    color: #2c3e50;
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .factorization-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .factorization-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .factorization-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .factorization-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .factorization-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Formula">
   Cubic Expansion Formulas 2
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     These formulas show the relationship between sum/difference of cubes and their factorization. They are essential for factoring cubic expressions and understanding polynomial identities.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Sum of Cubes:</strong> $$(a + b)(a^2 - ab + b^2) = a^3 + b^3$$
      </div>
      <div class="formula-item">
       <strong>Difference of Cubes:</strong> $$(a - b)(a^2 + ab + b^2) = a^3 - b^3$$
      </div>
     </div>

     <div class="graybox">
      Be careful with the signs when using these formulas. The middle term in the trinomial has alternating signs.
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Sum/Difference of Cubes Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="varA">a:</label>
       <input id="varA" step="0.1" type="number" value="2"/>
      </div>
      <div class="input-field">
       <label for="varB">b:</label>
       <input id="varB" step="0.1" type="number" value="3"/>
      </div>
      <div class="input-field">
       <label for="operation">Operation:</label>
       <select id="operation">
        <option value="sum">Sum of Cubes</option>
        <option value="diff">Difference of Cubes</option>
       </select>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="expandFactorization()">Expand</button>
      <button class="btn" onclick="showFactorization()">Show Factorization</button>
      <button class="btn" onclick="verifyIdentity()">Verify Identity</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="expressionDisplay">
       <strong>Expression:</strong> (2 + 3)(2² - 2×3 + 3²)
      </div>
      <div class="result-text" id="expansionDisplay">
       <strong>Expansion:</strong> (2 + 3)(4 - 6 + 9) = 5 × 7 = 35
      </div>
      <div class="result-text" id="resultDisplay">
       <strong>Result:</strong> 2³ + 3³ = 8 + 27 = 35
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>These identities relate the sum and difference of cubes to their factorized forms:</p>
     <ul>
      <li><strong>Sum of cubes:</strong> a³ + b³ = (a + b)(a² - ab + b²)</li>
      <li><strong>Difference of cubes:</strong> a³ - b³ = (a - b)(a² + ab + b²)</li>
      <li><strong>Pattern:</strong> The trinomial factor has coefficients 1, ∓1, 1</li>
      <li><strong>Signs:</strong> For sum: minus sign in middle; for difference: plus sign in middle</li>
     </ul>
     <p>These can be verified by expanding the right side:</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{cases}
      (a + b)(a^2 - ab + b^2) = a^3 - a^2b + ab^2 + a^2b - ab^2 + b^3 = a^3 + b^3 \\
      (a - b)(a^2 + ab + b^2) = a^3 + a^2b + ab^2 - a^2b - ab^2 - b^3 = a^3 - b^3
      \end{cases}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Detailed Factorization Breakdown</div>
     <div class="factorization-grid">
      <div class="factorization-card">
       <h3>Sum of Cubes: a³ + b³</h3>
       <div class="formula">a³ + b³ = (a + b)(a² - ab + b²)</div>
       <div class="description">
        <strong>Factors:</strong>
        <br/>• (a + b): sum of bases
        <br/>• (a² - ab + b²): quadratic with minus middle term
        <br/><strong>Expansion:</strong> a³ - a²b + ab² + a²b - ab² + b³ = a³ + b³
       </div>
      </div>

      <div class="factorization-card">
       <h3>Difference of Cubes: a³ - b³</h3>
       <div class="formula">a³ - b³ = (a - b)(a² + ab + b²)</div>
       <div class="description">
        <strong>Factors:</strong>
        <br/>• (a - b): difference of bases
        <br/>• (a² + ab + b²): quadratic with plus middle term
        <br/><strong>Expansion:</strong> a³ + a²b + ab² - a²b - ab² - b³ = a³ - b³
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Factoring Sum of Cubes</h4>
       <p>Factor x³ + 8 using the sum of cubes formula.</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Factoring Difference of Cubes</h4>
       <p>Factor 27y³ - 1 using the difference of cubes formula.</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Expanding Factorized Form</h4>
       <p>Expand (2x + 1)(4x² - 2x + 1) and verify it's a sum of cubes.</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Factor x³ + 27 using the sum of cubes formula.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>x³ + 27 = x³ + 3³</p>
        <p>Using a³ + b³ = (a + b)(a² - ab + b²) where a = x, b = 3:</p>
        <ul>
         <li>a + b = x + 3</li>
         <li>a² - ab + b² = x² - 3x + 9</li>
         <li><strong>Result:</strong> (x + 3)(x² - 3x + 9)</li>
        </ul>
        <p>Verification: (x + 3)(x² - 3x + 9) = x³ - 3x² + 9x + 3x² - 9x + 27 = x³ + 27 ✓</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Factor 8a³ - 125 using the difference of cubes formula.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>8a³ - 125 = (2a)³ - 5³</p>
        <p>Using a³ - b³ = (a - b)(a² + ab + b²) where a = 2a, b = 5:</p>
        <ul>
         <li>a - b = 2a - 5</li>
         <li>a² + ab + b² = 4a² + 10a + 25</li>
         <li><strong>Result:</strong> (2a - 5)(4a² + 10a + 25)</li>
        </ul>
        <p>Verification: (2a - 5)(4a² + 10a + 25) = 8a³ + 20a² + 50a - 20a² - 50a - 125 = 8a³ - 125 ✓</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Expand (x - 2)(x² + 2x + 4) and identify what type of cubes identity it represents.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>Expand (x - 2)(x² + 2x + 4):</p>
        <ul>
         <li>x × x² = x³</li>
         <li>x × 2x = 2x²</li>
         <li>x × 4 = 4x</li>
         <li>-2 × x² = -2x²</li>
         <li>-2 × 2x = -4x</li>
         <li>-2 × 4 = -8</li>
         <li><strong>Result:</strong> x³ + (2x² - 2x²) + (4x - 4x) + (-8) = x³ - 8</li>
        </ul>
        <p>This represents the difference of cubes: x³ - 2³ = (x - 2)(x² + 2x + 4)</p>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Sum of cubes: a³ + b³ = (a + b)(a² - ab + b²)</li>
      <li class="takeaway-item">Difference of cubes: a³ - b³ = (a - b)(a² + ab + b²)</li>
      <li class="takeaway-item">Trinomial coefficients: 1, ∓1, 1</li>
      <li class="takeaway-item">For sum: minus sign in middle of trinomial</li>
      <li class="takeaway-item">For difference: plus sign in middle of trinomial</li>
      <li class="takeaway-item">Useful for factoring cubic expressions</li>
      <li class="takeaway-item">Can be used to simplify complex expressions</li>
      <li class="takeaway-item">Essential for solving cubic equations</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function expandFactorization() {
    try {
     const a = parseFloat(document.getElementById('varA').value);
     const b = parseFloat(document.getElementById('varB').value);
     const operation = document.getElementById('operation').value;

     const opSymbol = operation === 'sum' ? '+' : '-';
     const middleSign = operation === 'sum' ? '-' : '+';

     let expression, expansion, result;
     if (operation === 'sum') {
      expression = `( ${a} + ${b} )( ${a}² ${middleSign} ${a}×${b} + ${b}² )`;
      const trinomial = Math.pow(a, 2) - a * b + Math.pow(b, 2);
      expansion = `( ${a} + ${b} )( ${Math.pow(a, 2)} ${middleSign} ${a * b} + ${Math.pow(b, 2)} ) = ${a + b} × ${trinomial}`;
      result = `${Math.pow(a, 3)} + ${Math.pow(b, 3)} = ${(a + b) * trinomial}`;
     } else {
      expression = `( ${a} - ${b} )( ${a}² ${middleSign} ${a}×${b} + ${b}² )`;
      const trinomial = Math.pow(a, 2) + a * b + Math.pow(b, 2);
      expansion = `( ${a} - ${b} )( ${Math.pow(a, 2)} ${middleSign} ${a * b} + ${Math.pow(b, 2)} ) = ${a - b} × ${trinomial}`;
      result = `${Math.pow(a, 3)} - ${Math.pow(b, 3)} = ${(a - b) * trinomial}`;
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Expression:</strong> ${expression}`;
     document.getElementById('expansionDisplay').innerHTML = `<strong>Expansion:</strong> ${expansion}`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${result}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error expanding factorization. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function showFactorization() {
    try {
     const a = parseFloat(document.getElementById('varA').value);
     const b = parseFloat(document.getElementById('varB').value);
     const operation = document.getElementById('operation').value;

     const opSymbol = operation === 'sum' ? '+' : '-';
     const middleSign = operation === 'sum' ? '-' : '+';

     let factorization, steps;
     if (operation === 'sum') {
      factorization = `${a}³ + ${b}³ = ( ${a} + ${b} )( ${a}² ${middleSign} ${a}×${b} + ${b}² )`;
      steps = `
       <strong>Step-by-step factorization of ${a}³ + ${b}³:</strong><br>
       1. Identify: a = ${a}, b = ${b}<br>
       2. First factor: (a + b) = ( ${a} + ${b} )<br>
       3. Second factor: (a² - ab + b²) = ( ${Math.pow(a, 2)} - ${a * b} + ${Math.pow(b, 2)} )<br>
       4. Result: ( ${a} + ${b} )( ${Math.pow(a, 2)} - ${a * b} + ${Math.pow(b, 2)} )<br>
       5. Verification: ${a}³ + ${b}³ = ${Math.pow(a, 3)} + ${Math.pow(b, 3)} = ${(a + b) * (Math.pow(a, 2) - a * b + Math.pow(b, 2))}
      `;
     } else {
      factorization = `${a}³ - ${b}³ = ( ${a} - ${b} )( ${a}² ${middleSign} ${a}×${b} + ${b}² )`;
      steps = `
       <strong>Step-by-step factorization of ${a}³ - ${b}³:</strong><br>
       1. Identify: a = ${a}, b = ${b}<br>
       2. First factor: (a - b) = ( ${a} - ${b} )<br>
       3. Second factor: (a² + ab + b²) = ( ${Math.pow(a, 2)} + ${a * b} + ${Math.pow(b, 2)} )<br>
       4. Result: ( ${a} - ${b} )( ${Math.pow(a, 2)} + ${a * b} + ${Math.pow(b, 2)} )<br>
       5. Verification: ${a}³ - ${b}³ = ${Math.pow(a, 3)} - ${Math.pow(b, 3)} = ${(a - b) * (Math.pow(a, 2) + a * b + Math.pow(b, 2))}
      `;
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Factorization:</strong>`;
     document.getElementById('expansionDisplay').innerHTML = factorization;
     document.getElementById('resultDisplay').innerHTML = steps;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error showing factorization. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function verifyIdentity() {
    try {
     const a = parseFloat(document.getElementById('varA').value);
     const b = parseFloat(document.getElementById('varB').value);
     const operation = document.getElementById('operation').value;

     let leftSide, rightSide, match;
     if (operation === 'sum') {
      leftSide = Math.pow(a, 3) + Math.pow(b, 3);
      const trinomial = Math.pow(a, 2) - a * b + Math.pow(b, 2);
      rightSide = (a + b) * trinomial;
      match = Math.abs(leftSide - rightSide) < 0.0001;
     } else {
      leftSide = Math.pow(a, 3) - Math.pow(b, 3);
      const trinomial = Math.pow(a, 2) + a * b + Math.pow(b, 2);
      rightSide = (a - b) * trinomial;
      match = Math.abs(leftSide - rightSide) < 0.0001;
     }

     const identity = operation === 'sum' ? 'a³ + b³ = (a + b)(a² - ab + b²)' : 'a³ - b³ = (a - b)(a² + ab + b²)';

     document.getElementById('expressionDisplay').innerHTML = `<strong>Identity:</strong> ${identity}`;
     document.getElementById('expansionDisplay').innerHTML = `<strong>Left Side:</strong> ${leftSide}`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Right Side:</strong> ${rightSide} ${match ? '✓ Identity Verified!' : '✗ No match'}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error verifying identity. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function resetDemo() {
    document.getElementById('varA').value = '2';
    document.getElementById('varB').value = '3';
    document.getElementById('operation').value = 'sum';
    expandFactorization();
    document.getElementById('errorMessage').style.display = 'none';
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Factoring Sum of Cubes</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Factor x³ + 8 using the sum of cubes formula</div>
        <div class="calculation-step">x³ + 8 = x³ + 2³</div>
        <div class="calculation-step">Formula: a³ + b³ = (a + b)(a² - ab + b²)</div>
        <div class="calculation-step">Here: a = x, b = 2</div>
        <div class="calculation-step">First factor: a + b = x + 2</div>
        <div class="calculation-step">Second factor: a² - ab + b² = x² - 2x + 4</div>
        <div class="calculation-step">Result: (x + 2)(x² - 2x + 4)</div>
        <div class="calculation-step">Verification: (x + 2)(x² - 2x + 4) = x³ - 2x² + 4x + 2x² - 4x + 8 = x³ + 8 ✓</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Factoring Difference of Cubes</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Factor 27y³ - 1 using the difference of cubes formula</div>
        <div class="calculation-step">27y³ - 1 = (3y)³ - 1³</div>
        <div class="calculation-step">Formula: a³ - b³ = (a - b)(a² + ab + b²)</div>
        <div class="calculation-step">Here: a = 3y, b = 1</div>
        <div class="calculation-step">First factor: a - b = 3y - 1</div>
        <div class="calculation-step">Second factor: a² + ab + b² = 9y² + 3y + 1</div>
        <div class="calculation-step">Result: (3y - 1)(9y² + 3y + 1)</div>
        <div class="calculation-step">Verification: (3y - 1)(9y² + 3y + 1) = 27y³ + 9y² + 3y - 9y² - 3y - 1 = 27y³ - 1 ✓</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Expanding Factorized Form</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Expand (2x + 1)(4x² - 2x + 1)</div>
        <div class="calculation-step">First term: 2x × 4x² = 8x³</div>
        <div class="calculation-step">Second term: 2x × (-2x) = -4x²</div>
        <div class="calculation-step">Third term: 2x × 1 = 2x</div>
        <div class="calculation-step">Fourth term: 1 × 4x² = 4x²</div>
        <div class="calculation-step">Fifth term: 1 × (-2x) = -2x</div>
        <div class="calculation-step">Sixth term: 1 × 1 = 1</div>
        <div class="calculation-step">Combine: 8x³ + (-4x² + 4x²) + (2x - 2x) + 1 = 8x³ + 1</div>
        <div class="calculation-step">This represents: (2x)³ + 1³, which is a sum of cubes</div>
        <div class="calculation-step">Verification: a = 2x, b = 1; (a + b)(a² - ab + b²) = (2x + 1)(4x² - 2x + 1) ✓</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   // Initialize on page load
   window.addEventListener('load', function() {
    expandFactorization();
   });
  </script>
 </body>
</html>