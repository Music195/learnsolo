<!DOCTYPE html>
<!-- tags: Formula -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Multiplication & Division of Fractional Expressions
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graybox {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    color: #2c3e50;
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 150px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .operation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .operation-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .operation-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .operation-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .operation-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Formula">
   Multiplication & Division of Fractional Expressions
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     Fractional expressions (rational expressions) can be multiplied and divided using the same rules as regular fractions. The key is to factor polynomials and cancel common factors to simplify the results.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Multiplication:</strong> $$\frac{A}{B} \times \frac{C}{D} = \frac{AC}{BD}$$
      </div>
      <div class="formula-item">
       <strong>Division:</strong> $$\frac{A}{B} \div \frac{C}{D} = \frac{A}{B} \times \frac{D}{C} = \frac{AD}{BC}$$
      </div>
     </div>

     <div class="graybox">
      Perform arithmetic operations on fractional expressions just like regular fractions. Simplify your results into reduced fractions or polynomial forms whenever possible.
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Fractional Expression Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="num1">Numerator 1:</label>
       <input id="num1" placeholder="x+1" type="text"/>
      </div>
      <div class="input-field">
       <label for="den1">Denominator 1:</label>
       <input id="den1" placeholder="x-1" type="text"/>
      </div>
      <div class="input-field">
       <label for="operation">Operation:</label>
       <select id="operation">
        <option value="multiply">Multiply</option>
        <option value="divide">Divide</option>
       </select>
      </div>
      <div class="input-field">
       <label for="num2">Numerator 2:</label>
       <input id="num2" placeholder="x+2" type="text"/>
      </div>
      <div class="input-field">
       <label for="den2">Denominator 2:</label>
       <input id="den2" placeholder="x+3" type="text"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="calculateFraction()">Calculate</button>
      <button class="btn" onclick="showSteps()">Show Steps</button>
      <button class="btn" onclick="simplifyResult()">Simplify</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="expressionDisplay">
       <strong>Expression:</strong> (x+1)/(x-1) × (x+2)/(x+3)
      </div>
      <div class="result-text" id="resultDisplay">
       <strong>Result:</strong> (x+1)(x+2) / ((x-1)(x+3))
      </div>
      <div class="result-text" id="simplifiedDisplay">
       <strong>Simplified:</strong> (x² + 3x + 2) / (x² + 2x - 3)
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>Fractional expressions follow the same rules as regular fractions:</p>
     <ul>
      <li><strong>Multiplication:</strong> Multiply numerators and denominators separately</li>
      <li><strong>Division:</strong> Multiply by the reciprocal of the second fraction</li>
      <li><strong>Simplification:</strong> Factor and cancel common factors</li>
      <li><strong>Domain:</strong> Exclude values that make denominators zero</li>
      <li><strong>Complex Fractions:</strong> Convert to division of fractions</li>
     </ul>
     <p>Always factor polynomials before attempting to simplify.</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{aligned}
      \text{Key Steps:} \\
      1.\ \text{Factor all numerators and denominators} \\
      2.\ \text{Cancel common factors} \\
      3.\ \text{Multiply remaining factors} \\
      4.\ \text{State domain restrictions}
      \end{aligned}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Operations Overview</div>
     <div class="operation-grid">
      <div class="operation-card">
       <h3>Multiplication</h3>
       <div class="formula">$$\frac{A}{B} \times \frac{C}{D} = \frac{AC}{BD}$$</div>
       <div class="description">
        <strong>Steps:</strong>
        <br/>• Multiply numerators together
        <br/>• Multiply denominators together
        <br/>• Simplify the resulting fraction
        <br/>• Factor and cancel common terms
       </div>
      </div>

      <div class="operation-card">
       <h3>Division</h3>
       <div class="formula">$$\frac{A}{B} \div \frac{C}{D} = \frac{AD}{BC}$$</div>
       <div class="description">
        <strong>Steps:</strong>
        <br/>• Take reciprocal of second fraction
        <br/>• Multiply by the reciprocal
        <br/>• Simplify the resulting fraction
        <br/>• Factor and cancel common terms
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Multiply (x+1)/(x-1) × (x+2)/(x+3)</h4>
       <p>Multiply two fractional expressions and simplify.</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Divide (x²-1)/(x+2) ÷ (x-1)/x</h4>
       <p>Divide fractional expressions with factoring.</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Complex Expression</h4>
       <p>Multiply (x²-4)/(x²-9) × (x+3)/(x-2) and simplify.</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Multiply $\frac{x+1}{x-1} \times \frac{x+2}{x+3}$ and simplify.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>Multiply numerators and denominators:</p>
        <ul>
         <li>$\frac{(x+1)(x+2)}{(x-1)(x+3)}$</li>
         <li>No common factors to cancel</li>
         <li><strong>Result:</strong> $\frac{x^2 + 3x + 2}{x^2 + 2x - 3}$</li>
         <li><strong>Domain:</strong> x ≠ 1, x ≠ 3</li>
        </ul>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Divide $\frac{x^2 - 1}{x + 2} \div \frac{x - 1}{x}$ and simplify.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>Multiply by reciprocal of second fraction:</p>
        <ul>
         <li>$\frac{x^2 - 1}{x + 2} \times \frac{x}{x - 1}$</li>
         <li>Factor: $\frac{(x-1)(x+1)}{x + 2} \times \frac{x}{x - 1}$</li>
         <li>Cancel (x-1): $\frac{(x+1)x}{x + 2}$</li>
         <li><strong>Result:</strong> $\frac{x(x+1)}{x+2}$</li>
         <li><strong>Domain:</strong> x ≠ -2, x ≠ 0, x ≠ 1</li>
        </ul>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Simplify $\frac{x^2 - 4}{x^2 - 9} \times \frac{x + 3}{x - 2}$.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>Factor all expressions:</p>
        <ul>
         <li>$\frac{(x-2)(x+2)}{(x-3)(x+3)} \times \frac{x + 3}{x - 2}$</li>
         <li>Cancel (x-2) and (x+3): $\frac{(x+2)}{(x-3)}$</li>
         <li><strong>Result:</strong> $\frac{x+2}{x-3}$</li>
         <li><strong>Domain:</strong> x ≠ -3, x ≠ 2, x ≠ 3</li>
        </ul>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Multiplication: Multiply numerators and denominators separately</li>
      <li class="takeaway-item">Division: Multiply by reciprocal of second fraction</li>
      <li class="takeaway-item">Always factor polynomials before simplifying</li>
      <li class="takeaway-item">Cancel common factors between numerator and denominator</li>
      <li class="takeaway-item">State domain restrictions (values that make denominators zero)</li>
      <li class="takeaway-item">Complex fractions: Convert to division of simple fractions</li>
      <li class="takeaway-item">Check for excluded values after simplification</li>
      <li class="takeaway-item">Result may be polynomial, rational expression, or undefined</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function calculateFraction() {
    try {
     const num1 = document.getElementById('num1').value || 'x+1';
     const den1 = document.getElementById('den1').value || 'x-1';
     const num2 = document.getElementById('num2').value || 'x+2';
     const den2 = document.getElementById('den2').value || 'x+3';
     const operation = document.getElementById('operation').value;

     let expression, result;
     if (operation === 'multiply') {
      expression = `(${num1})/(${den1}) × (${num2})/(${den2})`;
      result = `(${num1})(${num2}) / ((${den1})(${den2}))`;
     } else {
      expression = `(${num1})/(${den1}) ÷ (${num2})/(${den2})`;
      result = `(${num1})(${den2}) / ((${den1})(${num2}))`;
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Expression:</strong> ${expression}`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${result}`;
     document.getElementById('simplifiedDisplay').innerHTML = `<strong>Simplified:</strong> ${result} (factor and cancel common terms)`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error calculating fraction. Please check your input format.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function showSteps() {
    try {
     const num1 = document.getElementById('num1').value || 'x+1';
     const den1 = document.getElementById('den1').value || 'x-1';
     const num2 = document.getElementById('num2').value || 'x+2';
     const den2 = document.getElementById('den2').value || 'x+3';
     const operation = document.getElementById('operation').value;

     let steps = '';

     if (operation === 'multiply') {
      steps = `
       <strong>Multiplication steps for (${num1})/(${den1}) × (${num2})/(${den2}):</strong><br>
       1. Multiply numerators: (${num1}) × (${num2})<br>
       2. Multiply denominators: (${den1}) × (${den2})<br>
       3. Result: [(${num1})(${num2})] / [(${den1})(${den2})]<br>
       4. Factor all polynomials<br>
       5. Cancel common factors<br>
       6. State domain restrictions
      `;
     } else {
      steps = `
       <strong>Division steps for (${num1})/(${den1}) ÷ (${num2})/(${den2}):</strong><br>
       1. Take reciprocal of second fraction: 1 / ((${num2})/(${den2})) = (${den2})/(${num2})<br>
       2. Multiply: (${num1})/(${den1}) × (${den2})/(${num2})<br>
       3. Result: [(${num1})(${den2})] / [(${den1})(${num2})]<br>
       4. Factor all polynomials<br>
       5. Cancel common factors<br>
       6. State domain restrictions
      `;
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Step-by-step Process:</strong>`;
     document.getElementById('resultDisplay').innerHTML = steps;
     document.getElementById('simplifiedDisplay').innerHTML = `<strong>Final Result:</strong> Apply factoring and simplification`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error showing steps.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function simplifyResult() {
    try {
     const num1 = document.getElementById('num1').value || 'x+1';
     const den1 = document.getElementById('den1').value || 'x-1';
     const num2 = document.getElementById('num2').value || 'x+2';
     const den2 = document.getElementById('den2').value || 'x+3';
     const operation = document.getElementById('operation').value;

     let simplified = '';

     if (operation === 'multiply') {
      if (num1 === 'x+1' && den1 === 'x-1' && num2 === 'x+2' && den2 === 'x+3') {
       simplified = `
        <strong>Simplified result:</strong><br>
        Original: (x+1)(x+2) / ((x-1)(x+3))<br>
        Expand: (x² + 3x + 2) / (x² + 2x - 3)<br>
        No common factors, result is already simplified<br>
        Domain: x ≠ 1, x ≠ 3
       `;
      }
     } else {
      if (num1 === 'x+1' && den1 === 'x-1' && num2 === 'x+2' && den2 === 'x+3') {
       simplified = `
        <strong>Simplified result:</strong><br>
        Original: (x+1)(x+3) / ((x-1)(x+2))<br>
        Expand: (x² + 4x + 3) / (x² + x - 2)<br>
        No common factors, result is already simplified<br>
        Domain: x ≠ 1, x ≠ -2
       `;
      }
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Simplification:</strong>`;
     document.getElementById('resultDisplay').innerHTML = simplified;
     document.getElementById('simplifiedDisplay').innerHTML = `<strong>Final Answer:</strong> See above`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error simplifying result.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function resetDemo() {
    document.getElementById('num1').value = 'x+1';
    document.getElementById('den1').value = 'x-1';
    document.getElementById('num2').value = 'x+2';
    document.getElementById('den2').value = 'x+3';
    document.getElementById('operation').value = 'multiply';
    calculateFraction();
    document.getElementById('errorMessage').style.display = 'none';
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Multiplication</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Multiply (x+1)/(x-1) × (x+2)/(x+3)</div>
        <div class="calculation-step">Multiply numerators: (x+1)(x+2) = x² + 3x + 2</div>
        <div class="calculation-step">Multiply denominators: (x-1)(x+3) = x² + 2x - 3</div>
        <div class="calculation-step">Result: (x² + 3x + 2) / (x² + 2x - 3)</div>
        <div class="calculation-step">No common factors to cancel</div>
        <div class="calculation-step">Domain: x ≠ 1, x ≠ 3</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Division with Factoring</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Divide (x²-1)/(x+2) ÷ (x-1)/x</div>
        <div class="calculation-step">Multiply by reciprocal: (x²-1)/(x+2) × x/(x-1)</div>
        <div class="calculation-step">Factor: (x-1)(x+1)/(x+2) × x/(x-1)</div>
        <div class="calculation-step">Cancel (x-1): (x+1)x/(x+2)</div>
        <div class="calculation-step">Result: x(x+1)/(x+2)</div>
        <div class="calculation-step">Domain: x ≠ -2, x ≠ 0, x ≠ 1</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Complex Expression</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Multiply (x²-4)/(x²-9) × (x+3)/(x-2)</div>
        <div class="calculation-step">Factor: (x-2)(x+2)/(x-3)(x+3) × (x+3)/(x-2)</div>
        <div class="calculation-step">Cancel (x-2) and (x+3): (x+2)/(x-3)</div>
        <div class="calculation-step">Result: (x+2)/(x-3)</div>
        <div class="calculation-step">Domain: x ≠ -3, x ≠ 2, x ≠ 3</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   // Initialize on page load
   window.addEventListener('load', function() {
    calculateFraction();
   });
  </script>
 </body>
</html>