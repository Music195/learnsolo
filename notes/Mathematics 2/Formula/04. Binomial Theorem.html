<!DOCTYPE html>
<!-- tags: Formula -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Binomial Theorem
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graybox {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    color: #2c3e50;
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .binomial-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .binomial-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .binomial-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .binomial-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .binomial-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Formula">
   Binomial Theorem
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     The Binomial Theorem provides a way to expand expressions of the form (a + b)^n into a sum of terms involving binomial coefficients. This theorem is fundamental in algebra and has applications in probability, calculus, and combinatorics.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Binomial Theorem:</strong> $$(a + b)^n = \sum_{k=0}^{n} \binom{n}{k} a^{n-k} b^k$$
      </div>
      <div class="formula-item">
       <strong>Expanded Form:</strong> $$(a + b)^n = \binom{n}{0} a^n + \binom{n}{1} a^{n-1}b + \binom{n}{2} a^{n-2}b^2 + \cdots + \binom{n}{n} b^n$$
      </div>
     </div>

     <div class="graybox">
      The term $\binom{n}{r} a^{n-r} b^r$ is called the <strong>general term</strong> of the expansion, and $\binom{n}{r}$ is the <strong>binomial coefficient</strong>.
      <br/>
      <br/>
      <div style="margin-top:18px; background:#e3f2fd; border-radius:10px; box-shadow:0 2px 8px #039be522; padding:14px 20px 10px 20px; min-width:180px; text-align:center; display:inline-block;">
       <div style="color:#607d8b; font-size:0.97em; margin-bottom:6px;">
        In the general term:
       </div>
       <div style="font-size:1.13em; margin-bottom:4px;">
        $\binom{n}{r} a^{n-r} b^r$
       </div>
       <div style="font-size:1.02em;">
        $(n-r) + r = n$
       </div>
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Binomial Expansion Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="varA">a:</label>
       <input id="varA" step="0.1" type="number" value="2"/>
      </div>
      <div class="input-field">
       <label for="varB">b:</label>
       <input id="varB" step="0.1" type="number" value="3"/>
      </div>
      <div class="input-field">
       <label for="powerN">n:</label>
       <input id="powerN" max="10" min="1" type="number" value="3"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="expandBinomial()">Expand</button>
      <button class="btn" onclick="showGeneralTerm()">General Term</button>
      <button class="btn" onclick="showCoefficients()">Coefficients</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="expressionDisplay">
       <strong>Expression:</strong> (2 + 3)³
      </div>
      <div class="result-text" id="expansionDisplay">
       <strong>Expansion:</strong> 8 + 36 + 54 + 27
      </div>
      <div class="result-text" id="resultDisplay">
       <strong>Result:</strong> 125
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>The Binomial Theorem states that for any positive integer n:</p>
     <ul>
      <li><strong>Expansion:</strong> (a + b)^n expands into n+1 terms</li>
      <li><strong>Coefficients:</strong> Each term has binomial coefficient C(n,k)</li>
      <li><strong>Powers:</strong> a has power (n-k), b has power k</li>
      <li><strong>Symmetry:</strong> Coefficients are symmetric: C(n,k) = C(n,n-k)</li>
      <li><strong>Pascal's Triangle:</strong> Coefficients form Pascal's triangle</li>
     </ul>
     <p>The theorem can be proven using mathematical induction or by expanding (a+b)^n = (a+b)(a+b)^{n-1}.</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{aligned}
      (a + b)^n &= \sum_{k=0}^{n} \binom{n}{k} a^{n-k} b^k \\
      \binom{n}{k} &= \frac{n!}{k!(n-k)!}
      \end{aligned}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Binomial Coefficients and Pascal's Triangle</div>
     <div class="binomial-grid">
      <div class="binomial-card">
       <h3>Binomial Coefficient</h3>
       <div class="formula">$\binom{n}{k} = \frac{n!}{k!(n-k)!}$</div>
       <div class="description">
        <strong>Properties:</strong>
        <br/>• $\binom{n}{0} = 1$
        <br/>• $\binom{n}{n} = 1$
        <br/>• $\binom{n}{k} = \binom{n}{n-k}$
        <br/>• $\binom{n}{k} + \binom{n}{k+1} = \binom{n+1}{k+1}$
       </div>
      </div>

      <div class="binomial-card">
       <h3>Pascal's Triangle</h3>
       <div class="formula">
        Row n: $\binom{n}{0}, \binom{n}{1}, \binom{n}{2}, \dots, \binom{n}{n}$
       </div>
       <div class="description">
        <strong>Pattern:</strong>
        <br/>• Each entry is sum of two above
        <br/>• Row n has n+1 entries
        <br/>• Diagonal sums are Fibonacci numbers
        <br/>• Hockey-stick identity applies
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: (x + 1)³</h4>
       <p>Expand (x + 1)³ using the binomial theorem.</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: (2x - 3)⁴</h4>
       <p>Expand (2x - 3)⁴ using the binomial theorem.</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Finding Specific Terms</h4>
       <p>Find the 4th term in the expansion of (x + 2y)⁷.</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Expand (x + 2)⁴ using the binomial theorem.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>Using (a + b)^n = Σ C(n,k) a^(n-k) b^k where a = x, b = 2, n = 4:</p>
        <ul>
         <li>k=0: C(4,0) x^4 2^0 = 1 × x^4 × 1 = x^4</li>
         <li>k=1: C(4,1) x^3 2^1 = 4 × x^3 × 2 = 8x^3</li>
         <li>k=2: C(4,2) x^2 2^2 = 6 × x^2 × 4 = 24x^2</li>
         <li>k=3: C(4,3) x^1 2^3 = 4 × x × 8 = 32x</li>
         <li>k=4: C(4,4) x^0 2^4 = 1 × 1 × 16 = 16</li>
         <li><strong>Result:</strong> x^4 + 8x^3 + 24x^2 + 32x + 16</li>
        </ul>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Find the coefficient of x² in the expansion of (3x - 2)⁵.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>General term: T_{k+1} = C(5,k) (3x)^{5-k} (-2)^k</p>
        <p>For x² term: 5-k = 2 ⇒ k = 3</p>
        <ul>
         <li>T_4 = C(5,3) (3x)^2 (-2)^3 = 10 × 9x² × (-8) = 10 × 9 × (-8) × x²</li>
         <li>Coefficient: 10 × 9 × (-8) = -720</li>
         <li><strong>Result:</strong> -720x²</li>
        </ul>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Use binomial theorem to expand (1 + x)^6.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>Using (a + b)^n where a = 1, b = x, n = 6:</p>
        <ul>
         <li>k=0: C(6,0) 1^6 x^0 = 1</li>
         <li>k=1: C(6,1) 1^5 x^1 = 6x</li>
         <li>k=2: C(6,2) 1^4 x^2 = 15x²</li>
         <li>k=3: C(6,3) 1^3 x^3 = 20x³</li>
         <li>k=4: C(6,4) 1^2 x^4 = 15x⁴</li>
         <li>k=5: C(6,5) 1^1 x^5 = 6x⁵</li>
         <li>k=6: C(6,6) 1^0 x^6 = x^6</li>
         <li><strong>Result:</strong> 1 + 6x + 15x² + 20x³ + 15x⁴ + 6x⁵ + x^6</li>
        </ul>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Binomial theorem: (a + b)^n = Σ C(n,k) a^(n-k) b^k</li>
      <li class="takeaway-item">Binomial coefficient: C(n,k) = n! / (k!(n-k)!)</li>
      <li class="takeaway-item">General term: T_{k+1} = C(n,k) a^(n-k) b^k</li>
      <li class="takeaway-item">Coefficients are symmetric: C(n,k) = C(n,n-k)</li>
      <li class="takeaway-item">Pascal's triangle gives binomial coefficients</li>
      <li class="takeaway-item">Expansion has n+1 terms for integer n</li>
      <li class="takeaway-item">Used for finding specific terms and coefficients</li>
      <li class="takeaway-item">Fundamental in probability and combinatorics</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function binomialCoefficient(n, k) {
    if (k < 0 || k > n) return 0;
    if (k === 0 || k === n) return 1;

    let result = 1;
    for (let i = 1; i <= k; i++) {
     result = result * (n - k + i) / i;
    }
    return Math.round(result);
   }

   function expandBinomial() {
    try {
     const a = parseFloat(document.getElementById('varA').value);
     const b = parseFloat(document.getElementById('varB').value);
     const n = parseInt(document.getElementById('powerN').value);

     if (n < 1 || n > 10) {
      document.getElementById('errorMessage').textContent = 'Please enter n between 1 and 10.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     let expansion = '';
     let result = 0;
     let terms = [];

     for (let k = 0; k <= n; k++) {
      const coeff = binomialCoefficient(n, k);
      const aPower = Math.pow(a, n - k);
      const bPower = Math.pow(b, k);
      const termValue = coeff * aPower * bPower;
      result += termValue;

      let termStr = '';
      if (coeff !== 1 || (n-k === 0 && k === 0)) termStr += coeff;
      if (n - k > 0) {
       termStr += a;
       if (n - k > 1) termStr += '^' + (n - k);
      }
      if (k > 0) {
       if (b < 0 && k === 1) termStr += b;
       else if (b < 0) termStr += '(' + b + ')';
       else termStr += b;
       if (k > 1) termStr += '^' + k;
      }
      if (termStr === '') termStr = '1';

      terms.push(termStr);
      expansion += (k > 0 ? ' + ' : '') + termStr;
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Expression:</strong> (${a} + ${b})^${n}`;
     document.getElementById('expansionDisplay').innerHTML = `<strong>Expansion:</strong> ${expansion}`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${result}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error expanding binomial. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function showGeneralTerm() {
    try {
     const a = parseFloat(document.getElementById('varA').value);
     const b = parseFloat(document.getElementById('varB').value);
     const n = parseInt(document.getElementById('powerN').value);

     if (n < 1 || n > 10) {
      document.getElementById('errorMessage').textContent = 'Please enter n between 1 and 10.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     let generalTerms = 'General terms:<br>';
     for (let k = 0; k <= n; k++) {
      const coeff = binomialCoefficient(n, k);
      generalTerms += `T_${k+1} = ${coeff} × ${a}^${n-k} × ${b}^${k} = ${coeff * Math.pow(a, n-k) * Math.pow(b, k)}<br>`;
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>General Term Formula:</strong> T_{k+1} = \\binom{${n}}{k} ${a}^{${n}-k} ${b}^k`;
     document.getElementById('expansionDisplay').innerHTML = generalTerms;
     document.getElementById('resultDisplay').innerHTML = `<strong>Number of terms:</strong> ${n+1}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error showing general terms.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function showCoefficients() {
    try {
     const n = parseInt(document.getElementById('powerN').value);

     if (n < 1 || n > 10) {
      document.getElementById('errorMessage').textContent = 'Please enter n between 1 and 10.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     let coefficients = 'Binomial coefficients for n=' + n + ':<br>';
     let coeffArray = [];
     for (let k = 0; k <= n; k++) {
      const coeff = binomialCoefficient(n, k);
      coeffArray.push(coeff);
      coefficients += `\\binom{${n}}{${k}} = ${coeff}<br>`;
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Row ${n} of Pascal's Triangle:</strong> ${coeffArray.join(' , ')}`;
     document.getElementById('expansionDisplay').innerHTML = coefficients;
     document.getElementById('resultDisplay').innerHTML = `<strong>Sum of coefficients:</strong> ${(Math.pow(2, n))}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error showing coefficients.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function resetDemo() {
    document.getElementById('varA').value = '2';
    document.getElementById('varB').value = '3';
    document.getElementById('powerN').value = '3';
    expandBinomial();
    document.getElementById('errorMessage').style.display = 'none';
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Expanding (x + 1)³</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Expand (x + 1)³ using binomial theorem</div>
        <div class="calculation-step">Formula: (a + b)^n = Σ C(n,k) a^(n-k) b^k</div>
        <div class="calculation-step">Here: a = x, b = 1, n = 3</div>
        <div class="calculation-step">k=0: C(3,0) x^3 1^0 = 1 × x^3 × 1 = x^3</div>
        <div class="calculation-step">k=1: C(3,1) x^2 1^1 = 3 × x^2 × 1 = 3x^2</div>
        <div class="calculation-step">k=2: C(3,2) x^1 1^2 = 3 × x × 1 = 3x</div>
        <div class="calculation-step">k=3: C(3,3) x^0 1^3 = 1 × 1 × 1 = 1</div>
        <div class="calculation-step">Result: x^3 + 3x^2 + 3x + 1</div>
        <div class="calculation-step">Verification: (x + 1)^3 = x^3 + 3x^2 + 3x + 1 ✓</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Expanding (2x - 3)⁴</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Expand (2x - 3)⁴ using binomial theorem</div>
        <div class="calculation-step">Formula: (a + b)^n = Σ C(n,k) a^(n-k) b^k</div>
        <div class="calculation-step">Here: a = 2x, b = -3, n = 4</div>
        <div class="calculation-step">k=0: C(4,0) (2x)^4 (-3)^0 = 1 × 16x^4 × 1 = 16x^4</div>
        <div class="calculation-step">k=1: C(4,1) (2x)^3 (-3)^1 = 4 × 8x^3 × (-3) = -96x^3</div>
        <div class="calculation-step">k=2: C(4,2) (2x)^2 (-3)^2 = 6 × 4x^2 × 9 = 216x^2</div>
        <div class="calculation-step">k=3: C(4,3) (2x)^1 (-3)^3 = 4 × 2x × (-27) = -216x</div>
        <div class="calculation-step">k=4: C(4,4) (2x)^0 (-3)^4 = 1 × 1 × 81 = 81</div>
        <div class="calculation-step">Result: 16x^4 - 96x^3 + 216x^2 - 216x + 81</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Finding 4th Term of (x + 2y)⁷</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Find 4th term in (x + 2y)^7</div>
        <div class="calculation-step">General term: T_{k+1} = C(7,k) x^(7-k) (2y)^k</div>
        <div class="calculation-step">4th term: k+1 = 4 ⇒ k = 3</div>
        <div class="calculation-step">T_4 = C(7,3) x^(7-3) (2y)^3</div>
        <div class="calculation-step">C(7,3) = 35</div>
        <div class="calculation-step">x^4 × (2y)^3 = x^4 × 8y^3 = 8x^4 y^3</div>
        <div class="calculation-step">Result: 35 × 8x^4 y^3 = 280x^4 y^3</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   // Initialize on page load
   window.addEventListener('load', function() {
    expandBinomial();
   });
  </script>
 </body>
</html>