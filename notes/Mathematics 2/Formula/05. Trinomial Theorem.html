<!DOCTYPE html>
<!-- tags: Formula -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   (a+b+c)^n Expansion
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graybox {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    color: #2c3e50;
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 100px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .trinomial-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .trinomial-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .trinomial-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .trinomial-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .trinomial-card .description {
    color: #555;
    line-height: 1.5;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Formula">
   $(a+b+c)^n$ Expansion
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     The trinomial theorem provides a way to expand expressions of the form (a + b + c)^n. The coefficient of each term a^p b^q c^r is given by the multinomial coefficient, which depends on the exponents p, q, and r where p + q + r = n.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Trinomial Theorem:</strong> $$(a + b + c)^n = \sum \frac{n!}{p!q!r!} a^p b^q c^r$$
      </div>
      <div class="formula-item">
       <strong>Where:</strong> $$p + q + r = n$$
      </div>
     </div>

     <div class="graybox">
      In the expansion of (a+b+c)^n, the coefficient of a^p b^q c^r is $\frac{n!}{p!q!r!}$ where p+q+r=n.
      <br/>
      <br/>
      This is a generalization of the binomial theorem to three variables.
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Interactive Trinomial Expansion Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="varA">a:</label>
       <input id="varA" step="0.1" type="number" value="1"/>
      </div>
      <div class="input-field">
       <label for="varB">b:</label>
       <input id="varB" step="0.1" type="number" value="1"/>
      </div>
      <div class="input-field">
       <label for="varC">c:</label>
       <input id="varC" step="0.1" type="number" value="1"/>
      </div>
      <div class="input-field">
       <label for="powerN">n:</label>
       <input id="powerN" max="5" min="1" type="number" value="2"/>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="expandTrinomial()">Expand</button>
      <button class="btn" onclick="showGeneralTerm()">General Term</button>
      <button class="btn" onclick="findCoefficient()">Find Coefficient</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="expressionDisplay">
       <strong>Expression:</strong> (1 + 1 + 1)²
      </div>
      <div class="result-text" id="expansionDisplay">
       <strong>Expansion:</strong> 1 + 2a + 2b + 2c + a² + b² + c² + 2ab + 2ac + 2bc
      </div>
      <div class="result-text" id="resultDisplay">
       <strong>Result:</strong> 9
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>The trinomial theorem is a generalization of the binomial theorem:</p>
     <ul>
      <li><strong>Expansion:</strong> (a + b + c)^n expands into terms with three variables</li>
      <li><strong>Multinomial Coefficient:</strong> Coefficient of a^p b^q c^r is n!/(p!q!r!)</li>
      <li><strong>Condition:</strong> The exponents must satisfy p + q + r = n</li>
      <li><strong>Number of Terms:</strong> For small n, number of terms is (n+1)(n+2)/2</li>
      <li><strong>Generalization:</strong> Extends to k variables with multinomial coefficients</li>
     </ul>
     <p>The expansion can be derived by considering the multinomial theorem:</p>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{aligned}
      (a_1 + a_2 + \cdots + a_k)^n &= \sum \frac{n!}{n_1!n_2!\cdots n_k!} a_1^{n_1} a_2^{n_2} \cdots a_k^{n_k} \\
      \text{where } n_1 + n_2 + \cdots + n_k &= n
      \end{aligned}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Multinomial Coefficients and Properties</div>
     <div class="trinomial-grid">
      <div class="trinomial-card">
       <h3>Multinomial Coefficient</h3>
       <div class="formula">$\frac{n!}{p!q!r!}$</div>
       <div class="description">
        <strong>Properties:</strong>
        <br/>• Generalizes binomial coefficients
        <br/>• Symmetric in p, q, r
        <br/>• Equals 1 when p=q=r=n/3 (if integer)
        <br/>• Related to permutations of multisets
       </div>
      </div>

      <div class="trinomial-card">
       <h3>Number of Terms</h3>
       <div class="formula">$\frac{(n+1)(n+2)}{2}$</div>
       <div class="description">
        <strong>For n=1:</strong> 3 terms
        <br/><strong>For n=2:</strong> 6 terms
        <br/><strong>For n=3:</strong> 10 terms
        <br/><strong>Pattern:</strong> Triangular numbers
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: (x + y + z)²</h4>
       <p>Expand (x + y + z)² using the trinomial theorem.</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Coefficient of xyz in (x + y + z)³</h4>
       <p>Find the coefficient of xyz in the expansion of (x + y + z)³.</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: (1 + x + x²)³</h4>
       <p>Expand (1 + x + x²)³ and simplify.</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Expand (a + b + c)³ using the trinomial theorem.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>Using multinomial coefficients for n=3:</p>
        <ul>
         <li>a³: coefficient = 3!/(3!0!0!) = 1</li>
         <li>a²b: coefficient = 3!/(2!1!0!) = 3</li>
         <li>a²c: coefficient = 3!/(2!0!1!) = 3</li>
         <li>ab²: coefficient = 3!/(1!2!0!) = 3</li>
         <li>b²c: coefficient = 3!/(0!2!1!) = 3</li>
         <li>ac²: coefficient = 3!/(1!0!2!) = 3</li>
         <li>bc²: coefficient = 3!/(0!1!2!) = 3</li>
         <li>abc: coefficient = 3!/(1!1!1!) = 6</li>
         <li>b³: coefficient = 3!/(0!3!0!) = 1</li>
         <li>c³: coefficient = 3!/(0!0!3!) = 1</li>
         <li><strong>Result:</strong> a³ + 3a²b + 3a²c + 3ab² + 6abc + 3b²c + 3ac² + 3bc² + b³ + c³</li>
        </ul>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Find the coefficient of x²y² in the expansion of (x + y + 1)⁴.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>For term x²y² × 1^k where k = 4-2-2 = 0:</p>
        <ul>
         <li>Coefficient = 4!/(2!2!0!) = 24/(2×2×1) = 6</li>
         <li><strong>Result:</strong> 6x²y²</li>
        </ul>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Expand (2a + b + c)².</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>Using (2a + b + c)² = (2a)² + b² + c² + 2×2a×b + 2×2a×c + 2×b×c:</p>
        <ul>
         <li>(2a)² = 4a²</li>
         <li>b² = b²</li>
         <li>c² = c²</li>
         <li>2×2a×b = 4ab</li>
         <li>2×2a×c = 4ac</li>
         <li>2×b×c = 2bc</li>
         <li><strong>Result:</strong> 4a² + b² + c² + 4ab + 4ac + 2bc</li>
        </ul>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Trinomial theorem: (a+b+c)^n = Σ n!/(p!q!r!) a^p b^q c^r where p+q+r=n</li>
      <li class="takeaway-item">Multinomial coefficient generalizes binomial coefficient to three variables</li>
      <li class="takeaway-item">Number of terms for (a+b+c)^n is (n+1)(n+2)/2</li>
      <li class="takeaway-item">Coefficients are symmetric in the exponents</li>
      <li class="takeaway-item">Extends to k variables with multinomial coefficients</li>
      <li class="takeaway-item">Useful for finding specific terms in expansions</li>
      <li class="takeaway-item">Applications in probability and combinatorics</li>
      <li class="takeaway-item">Special case when variables have coefficients</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function multinomialCoefficient(n, p, q, r) {
    if (p + q + r !== n) return 0;
    return factorial(n) / (factorial(p) * factorial(q) * factorial(r));
   }

   function factorial(n) {
    if (n <= 1) return 1;
    return n * factorial(n - 1);
   }

   function expandTrinomial() {
    try {
     const a = parseFloat(document.getElementById('varA').value);
     const b = parseFloat(document.getElementById('varB').value);
     const c = parseFloat(document.getElementById('varC').value);
     const n = parseInt(document.getElementById('powerN').value);

     if (n < 1 || n > 5) {
      document.getElementById('errorMessage').textContent = 'Please enter n between 1 and 5.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     let terms = [];
     let result = 0;

     // Generate all combinations of p,q,r where p+q+r=n
     for (let p = 0; p <= n; p++) {
      for (let q = 0; q <= n - p; q++) {
       const r = n - p - q;
       const coeff = multinomialCoefficient(n, p, q, r);
       const termValue = coeff * Math.pow(a, p) * Math.pow(b, q) * Math.pow(c, r);
       result += termValue;

       let termStr = '';
       if (coeff !== 1) termStr += coeff;
       if (p > 0) {
        termStr += a;
        if (p > 1) termStr += '^' + p;
       }
       if (q > 0) {
        termStr += b;
        if (q > 1) termStr += '^' + q;
       }
       if (r > 0) {
        termStr += c;
        if (r > 1) termStr += '^' + r;
       }
       if (termStr === '') termStr = '1';

       terms.push(termStr);
      }
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Expression:</strong> (${a} + ${b} + ${c})^${n}`;
     document.getElementById('expansionDisplay').innerHTML = `<strong>Expansion:</strong> ${terms.join(' + ')}`;
     document.getElementById('resultDisplay').innerHTML = `<strong>Result:</strong> ${result}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error expanding trinomial. Please check your input values.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function showGeneralTerm() {
    try {
     const n = parseInt(document.getElementById('powerN').value);

     if (n < 1 || n > 5) {
      document.getElementById('errorMessage').textContent = 'Please enter n between 1 and 5.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     let generalTerms = 'General terms for n=' + n + ':<br>';
     let count = 0;

     for (let p = 0; p <= n; p++) {
      for (let q = 0; q <= n - p; q++) {
       const r = n - p - q;
       const coeff = multinomialCoefficient(n, p, q, r);
       generalTerms += `T_${++count}: ${coeff} a^${p} b^${q} c^${r}<br>`;
      }
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>General Term Formula:</strong> \\frac{${n}!}{p!q!r!} a^p b^q c^r`;
     document.getElementById('expansionDisplay').innerHTML = generalTerms;
     document.getElementById('resultDisplay').innerHTML = `<strong>Number of terms:</strong> ${(n+1)*(n+2)/2}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error showing general terms.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function findCoefficient() {
    try {
     const n = parseInt(document.getElementById('powerN').value);

     if (n < 1 || n > 5) {
      document.getElementById('errorMessage').textContent = 'Please enter n between 1 and 5.';
      document.getElementById('errorMessage').style.display = 'block';
      return;
     }

     let coefficients = 'Coefficients for n=' + n + ':<br>';
     let totalTerms = 0;

     for (let p = 0; p <= n; p++) {
      for (let q = 0; q <= n - p; q++) {
       const r = n - p - q;
       const coeff = multinomialCoefficient(n, p, q, r);
       coefficients += `a^${p} b^${q} c^${r}: ${coeff}<br>`;
       totalTerms++;
      }
     }

     document.getElementById('expressionDisplay').innerHTML = `<strong>Coefficient Formula:</strong> \\frac{${n}!}{p!q!r!}`;
     document.getElementById('expansionDisplay').innerHTML = coefficients;
     document.getElementById('resultDisplay').innerHTML = `<strong>Total terms:</strong> ${totalTerms}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = 'Error finding coefficients.';
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function resetDemo() {
    document.getElementById('varA').value = '1';
    document.getElementById('varB').value = '1';
    document.getElementById('varC').value = '1';
    document.getElementById('powerN').value = '2';
    expandTrinomial();
    document.getElementById('errorMessage').style.display = 'none';
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Expanding (x + y + z)²</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Expand (x + y + z)² using trinomial theorem</div>
        <div class="calculation-step">Formula: (a+b+c)^2 = a² + b² + c² + 2ab + 2ac + 2bc</div>
        <div class="calculation-step">Here: a = x, b = y, c = z</div>
        <div class="calculation-step">x² + y² + z² + 2xy + 2xz + 2yz</div>
        <div class="calculation-step">Result: x² + y² + z² + 2xy + 2xz + 2yz</div>
        <div class="calculation-step">Verification: (x+y+z)² = x² + y² + z² + 2xy + 2xz + 2yz ✓</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Coefficient of xyz in (x + y + z)³</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Find coefficient of xyz in (x + y + z)³</div>
        <div class="calculation-step">For term x^1 y^1 z^1, we need p=1, q=1, r=1</div>
        <div class="calculation-step">Coefficient = 3!/(1!1!1!) = 6</div>
        <div class="calculation-step">Result: 6xyz</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Expanding (1 + x + x²)³</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Expand (1 + x + x²)³ using trinomial theorem</div>
        <div class="calculation-step">Let a=1, b=x, c=x², n=3</div>
        <div class="calculation-step">Terms with coefficients:</div>
        <div class="calculation-step">1³: 1</div>
        <div class="calculation-step">3×1²×x: 3x</div>
        <div class="calculation-step">3×1²×x²: 3x²</div>
        <div class="calculation-step">3×x²×1: 3x²</div>
        <div class="calculation-step">6×1×x×x²: 6x³</div>
        <div class="calculation-step">3×x²×x: 3x³</div>
        <div class="calculation-step">3×x²×x²: 3x⁴</div>
        <div class="calculation-step">x³: x³</div>
        <div class="calculation-step">3×x²×x²: 3x⁴</div>
        <div class="calculation-step">(x²)³: x^6</div>
        <div class="calculation-step">Combine like terms: 1 + 3x + (3x² + 3x²) + (6x³ + x³) + (3x⁴ + 3x⁴) + x^6</div>
        <div class="calculation-step">Result: 1 + 3x + 6x² + 7x³ + 6x⁴ + x^6</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   // Initialize on page load
   window.addEventListener('load', function() {
    expandTrinomial();
   });
  </script>
 </body>
</html>