<!DOCTYPE html>
<!-- tags: Trigonometry -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Trigonometric Identities
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graybox {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    color: #2c3e50;
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 120px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .select-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .select-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .select-field select {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 180px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .select-field select:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .canvas-title {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 15px;
    color: #2c3e50;
   }

   .formula-display {
    text-align: center;
    margin: 15px 0;
    font-size: 1.3em;
    font-weight: bold;
    color: #e74c3c;
   }

   .identity-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .identity-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .identity-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .identity-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .identity-card .explanation {
    color: #555;
    line-height: 1.5;
    font-size: 0.95em;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   .verification-result {
    margin: 10px 0;
    padding: 10px;
    border-radius: 5px;
    text-align: center;
    font-weight: bold;
   }

   .verification-result.correct {
    background: #e8f5e8;
    color: #2e7d32;
   }

   .verification-result.incorrect {
    background: #ffebee;
    color: #c62828;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Trigonometry">
   Trigonometric Identities
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     Trigonometric identities are equations that are true for all values of the variable where both sides are defined. They form the foundation of trigonometry and are essential for solving trigonometric equations and simplifying expressions.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Pythagorean Identity:</strong><br/>
       sin²θ + cos²θ = 1
      </div>
      <div class="formula-item">
       <strong>Tangent Identity:</strong><br/>
       tanθ = sinθ / cosθ
      </div>
      <div class="formula-item">
       <strong>Tangent-Secant:</strong><br/>
       1 + tan²θ = sec²θ
      </div>
     </div>

     <div class="graybox">
      These fundamental identities are derived from the unit circle and the Pythagorean theorem. They relate the three primary trigonometric functions and are the basis for all other trigonometric identities.
     </div>
    </div>

    <div class="section">
     <div class="section-title">Visual Understanding of Trigonometric Identities</div>
     <div class="canvas-container">
      <div class="canvas-title">Unit Circle: Pythagorean Identity Demonstration</div>
      <canvas id="identitiesCanvas" width="450" height="400"></canvas>
     </div>
     <div class="formula-display">
      For any point (cosθ, sinθ) on the unit circle: sin²θ + cos²θ = 1
     </div>
    </div>

    <div class="section">
     <div class="section-title">Fundamental Trigonometric Identities</div>
     <div class="identity-grid">
      <div class="identity-card">
       <h3>Pythagorean Identity</h3>
       <div class="formula">$$\sin^2 \theta + \cos^2 \theta = 1$$</div>
       <div class="explanation">
        <strong>Most fundamental identity:</strong> Derived from Pythagorean theorem on unit circle<br/>
        <strong>Point (cosθ, sinθ):</strong> cos²θ + sin²θ = r² = 1<br/>
        <strong>Dividing by cos²θ:</strong> tan²θ + 1 = sec²θ<br/>
        <strong>Dividing by sin²θ:</strong> 1 + cot²θ = csc²θ
       </div>
      </div>

      <div class="identity-card">
       <h3>Tangent Identity</h3>
       <div class="formula">$$\tan \theta = \frac{\sin \theta}{\cos \theta}$$</div>
       <div class="explanation">
        <strong>Definition:</strong> Tangent is opposite over adjacent<br/>
        <strong>Unit circle:</strong> tanθ = y/x = sinθ/cosθ<br/>
        <strong>Reciprocal:</strong> cotθ = cosθ/sinθ = 1/tanθ<br/>
        <strong>Domain:</strong> θ ≠ π/2 + nπ (where cosθ = 0)
       </div>
      </div>

      <div class="identity-card">
       <h3>Reciprocal Identities</h3>
       <div class="formula">
        \begin{aligned}
        \csc \theta &= \frac{1}{\sin \theta} \\
        \sec \theta &= \frac{1}{\cos \theta} \\
        \cot \theta &= \frac{1}{\tan \theta}
        \end{aligned}
       </div>
       <div class="explanation">
        <strong>Secant:</strong> Hypotenuse over adjacent<br/>
        <strong>Cosecant:</strong> Hypotenuse over opposite<br/>
        <strong>Cotangent:</strong> Adjacent over opposite<br/>
        <strong>Relationship:</strong> cotθ = cosθ/sinθ = 1/tanθ
       </div>
      </div>

      <div class="identity-card">
       <h3>Quotient Identities</h3>
       <div class="formula">
        \begin{aligned}
        \tan \theta &= \frac{\sin \theta}{\cos \theta} \\
        \cot \theta &= \frac{\cos \theta}{\sin \theta}
        \end{aligned}
       </div>
       <div class="explanation">
        <strong>Tangent:</strong> sinθ/cosθ (opposite over adjacent)<br/>
        <strong>Cotangent:</strong> cosθ/sinθ (adjacent over opposite)<br/>
        <strong>Relationship:</strong> tanθ × cotθ = 1<br/>
        <strong>Pythagorean forms:</strong> 1 + tan²θ = sec²θ
       </div>
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <div class="demo-title">Identity Verifier and Calculator</div>

     <div class="input-group">
      <div class="input-field">
       <label for="angle">Angle (θ):</label>
       <input id="angle" placeholder="30" type="number" value="30" step="1"/>
      </div>
      <div class="select-field">
       <label for="angleUnit">Unit:</label>
       <select id="angleUnit">
        <option value="degrees">Degrees</option>
        <option value="radians">Radians</option>
       </select>
      </div>
      <div class="select-field">
       <label for="identityType">Verify Identity:</label>
       <select id="identityType">
        <option value="pythagorean">Pythagorean: sin²θ + cos²θ = 1</option>
        <option value="tangent">Tangent: tanθ = sinθ/cosθ</option>
        <option value="secant">Secant: 1 + tan²θ = sec²θ</option>
        <option value="cosecant">Cosecant: 1 + cot²θ = csc²θ</option>
       </select>
      </div>
     </div>

     <div class="button-group">
      <button class="btn" onclick="verifyIdentity()">Verify Identity</button>
      <button class="btn" onclick="calculateTrigValues()">Calculate Values</button>
      <button class="btn" onclick="resetDemo()">Reset</button>
     </div>

     <div class="error-message" id="errorMessage"></div>

     <div class="result-display">
      <div class="result-text" id="inputDisplay">
       <strong>Input:</strong> θ = 30°
      </div>
      <div class="result-text" id="trigValues">
       <strong>Values:</strong> sinθ = 0.500, cosθ = 0.866, tanθ = 0.577
      </div>
      <div class="result-text" id="verificationResult">
       <strong>Verification:</strong> sin²θ + cos²θ = 0.250 + 0.750 = 1.000 ✓
      </div>
      <div class="result-text" id="exactValues">
       <strong>Exact:</strong> sin(30°) = 1/2, cos(30°) = √3/2, tan(30°) = 1/√3
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>Trigonometric identities are derived from the fundamental definitions of trigonometric functions and geometric relationships:</p>
     <ul>
      <li><strong>Unit circle definition:</strong> Trigonometric functions are defined as coordinates of points on the unit circle</li>
      <li><strong>Pythagorean theorem:</strong> For any point (x,y) on unit circle, x² + y² = 1, so cos²θ + sin²θ = 1</li>
      <li><strong>Right triangle definition:</strong> sinθ = opposite/hypotenuse, cosθ = adjacent/hypotenuse, tanθ = opposite/adjacent</li>
      <li><strong>Reciprocal relationships:</strong> secθ = 1/cosθ, cscθ = 1/sinθ, cotθ = 1/tanθ</li>
      <li><strong>Quotient relationships:</strong> tanθ = sinθ/cosθ, cotθ = cosθ/sinθ</li>
      <li><strong>Co-function identities:</strong> sin(90°-θ) = cosθ, cos(90°-θ) = sinθ, tan(90°-θ) = cotθ</li>
      <li><strong>Even/odd functions:</strong> cos(-θ) = cosθ, sin(-θ) = -sinθ, tan(-θ) = -tanθ</li>
      <li><strong>Periodicity:</strong> sin(θ + 360°) = sinθ, cos(θ + 360°) = cosθ, tan(θ + 180°) = tanθ</li>
      <li><strong>Double angle formulas:</strong> sin(2θ) = 2sinθcosθ, cos(2θ) = cos²θ - sin²θ = 1 - 2sin²θ = 2cos²θ - 1</li>
      <li><strong>Half angle formulas:</strong> sin(θ/2) = ±√((1-cosθ)/2), cos(θ/2) = ±√((1+cosθ)/2)</li>
     </ul>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{aligned}
      \text{Fundamental identities:} \quad \sin^2 \theta + \cos^2 \theta &= 1 \\
      \tan \theta &= \frac{\sin \theta}{\cos \theta}, \quad \cot \theta = \frac{\cos \theta}{\sin \theta} \\
      \sec \theta &= \frac{1}{\cos \theta}, \quad \csc \theta = \frac{1}{\sin \theta} \\
      1 + \tan^2 \theta &= \sec^2 \theta, \quad 1 + \cot^2 \theta = \csc^2 \theta
      \end{aligned}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Verify Pythagorean identity</h4>
       <p>Verify sin²(45°) + cos²(45°) = 1</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Simplify using identities</h4>
       <p>Simplify (sinθ/cosθ) × (1/sinθ)</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Find exact value</h4>
       <p>Find sinθ if cosθ = 3/5 and θ in quadrant I</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>If sinθ = 4/5 and θ is in quadrant II, find cosθ using the Pythagorean identity.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>sin²θ + cos²θ = 1</p>
        <p>(4/5)² + cos²θ = 1</p>
        <p>16/25 + cos²θ = 1</p>
        <p>cos²θ = 1 - 16/25 = 9/25</p>
        <p>cosθ = -3/5 (since θ is in quadrant II)</p>
        <p><strong>Result:</strong> cosθ = -3/5</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Simplify the expression: (1 - cos²θ)/sinθ</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>(1 - cos²θ)/sinθ = sin²θ/sinθ = sinθ</p>
        <p><strong>Result:</strong> sinθ</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>If tanθ = 3/4, find secθ.</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>1 + tan²θ = sec²θ</p>
        <p>1 + (3/4)² = sec²θ</p>
        <p>1 + 9/16 = sec²θ</p>
        <p>25/16 = sec²θ</p>
        <p>secθ = 5/4</p>
        <p><strong>Result:</strong> secθ = 5/4</p>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Pythagorean identity sin²θ + cos²θ = 1 is the foundation of all trigonometric identities</li>
      <li class="takeaway-item">Tangent identity tanθ = sinθ/cosθ defines tanθ and has domain restrictions where cosθ = 0</li>
      <li class="takeaway-item">Reciprocal identities: cscθ = 1/sinθ, secθ = 1/cosθ, cotθ = 1/tanθ</li>
      <li class="takeaway-item">Quotient identities: tanθ = sinθ/cosθ, cotθ = cosθ/sinθ</li>
      <li class="takeaway-item">Pythagorean identities: 1 + tan²θ = sec²θ, 1 + cot²θ = csc²θ</li>
      <li class="takeaway-item">All identities are derived from the unit circle and right triangle definitions</li>
      <li class="takeaway-item">Identities are true for all angles where both sides are defined</li>
      <li class="takeaway-item">Use identities to simplify expressions, solve equations, and find exact values</li>
      <li class="takeaway-item">Common angles: 30°(π/6), 45°(π/4), 60°(π/3) have exact trigonometric values</li>
      <li class="takeaway-item">Identities are essential for calculus, physics, and engineering applications</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   function calculateTrigValues() {
    try {
     const angle = parseFloat(document.getElementById('angle').value);
     const unit = document.getElementById('angleUnit').value;

     if (isNaN(angle)) {
      throw new Error('Please enter a valid angle');
     }

     let angleInRadians;
     if (unit === 'degrees') {
      angleInRadians = angle * Math.PI / 180;
     } else {
      angleInRadians = angle;
     }

     const sinVal = Math.sin(angleInRadians);
     const cosVal = Math.cos(angleInRadians);
     const tanVal = Math.tan(angleInRadians);

     document.getElementById('inputDisplay').innerHTML = `<strong>Input:</strong> θ = ${angle}${unit === 'degrees' ? '°' : ' rad'}`;
     document.getElementById('trigValues').innerHTML = `<strong>Values:</strong> sinθ = ${sinVal.toFixed(3)}, cosθ = ${cosVal.toFixed(3)}, tanθ = ${tanVal.toFixed(3)}`;

     // Show exact values for common angles
     let exactText = '';
     if (unit === 'degrees') {
      if (Math.abs(angle - 30) < 0.1) exactText = 'sin(30°) = 1/2, cos(30°) = √3/2, tan(30°) = 1/√3';
      else if (Math.abs(angle - 45) < 0.1) exactText = 'sin(45°) = √2/2, cos(45°) = √2/2, tan(45°) = 1';
      else if (Math.abs(angle - 60) < 0.1) exactText = 'sin(60°) = √3/2, cos(60°) = 1/2, tan(60°) = √3';
      else if (Math.abs(angle - 0) < 0.1) exactText = 'sin(0°) = 0, cos(0°) = 1, tan(0°) = 0';
      else if (Math.abs(angle - 90) < 0.1) exactText = 'sin(90°) = 1, cos(90°) = 0, tan(90°) = undefined';
     }

     document.getElementById('exactValues').innerHTML = `<strong>Exact:</strong> ${exactText || 'See decimal values above'}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = error.message;
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function verifyIdentity() {
    try {
     const angle = parseFloat(document.getElementById('angle').value);
     const unit = document.getElementById('angleUnit').value;
     const identityType = document.getElementById('identityType').value;

     if (isNaN(angle)) {
      throw new Error('Please enter a valid angle');
     }

     let angleInRadians;
     if (unit === 'degrees') {
      angleInRadians = angle * Math.PI / 180;
     } else {
      angleInRadians = angle;
     }

     const sinVal = Math.sin(angleInRadians);
     const cosVal = Math.cos(angleInRadians);
     const tanVal = Math.tan(angleInRadians);

     let result = '';
     let isCorrect = false;

     switch(identityType) {
      case 'pythagorean':
       const pythagoreanSum = sinVal * sinVal + cosVal * cosVal;
       isCorrect = Math.abs(pythagoreanSum - 1) < 0.0001;
       result = `sin²θ + cos²θ = ${sinVal.toFixed(3)}² + ${cosVal.toFixed(3)}² = ${(sinVal*sinVal).toFixed(3)} + ${(cosVal*cosVal).toFixed(3)} = ${pythagoreanSum.toFixed(3)} ${isCorrect ? '✓' : '✗'}`;
       break;
      case 'tangent':
       if (Math.abs(cosVal) < 0.0001) {
        result = 'Undefined (cosθ = 0)';
       } else {
        const tanFromSinCos = sinVal / cosVal;
        isCorrect = Math.abs(tanFromSinCos - tanVal) < 0.0001;
        result = `sinθ/cosθ = ${sinVal.toFixed(3)}/${cosVal.toFixed(3)} = ${tanFromSinCos.toFixed(3)}, tanθ = ${tanVal.toFixed(3)} ${isCorrect ? '✓' : '✗'}`;
       }
       break;
      case 'secant':
       if (Math.abs(cosVal) < 0.0001) {
        result = 'Undefined (cosθ = 0)';
       } else {
        const leftSide = 1 + tanVal * tanVal;
        const rightSide = 1 / (cosVal * cosVal);
        isCorrect = Math.abs(leftSide - rightSide) < 0.0001;
        result = `1 + tan²θ = 1 + ${tanVal.toFixed(3)}² = ${leftSide.toFixed(3)}, sec²θ = 1/cos²θ = ${rightSide.toFixed(3)} ${isCorrect ? '✓' : '✗'}`;
       }
       break;
      case 'cosecant':
       if (Math.abs(sinVal) < 0.0001) {
        result = 'Undefined (sinθ = 0)';
       } else {
        const cotVal = cosVal / sinVal;
        const leftSide = 1 + cotVal * cotVal;
        const rightSide = 1 / (sinVal * sinVal);
        isCorrect = Math.abs(leftSide - rightSide) < 0.0001;
        result = `1 + cot²θ = 1 + ${(cotVal).toFixed(3)}² = ${leftSide.toFixed(3)}, csc²θ = 1/sin²θ = ${rightSide.toFixed(3)} ${isCorrect ? '✓' : '✗'}`;
       }
       break;
     }

     document.getElementById('verificationResult').innerHTML = `<strong>Verification:</strong> ${result}`;

     document.getElementById('errorMessage').style.display = 'none';
    } catch (error) {
     document.getElementById('errorMessage').textContent = error.message;
     document.getElementById('errorMessage').style.display = 'block';
    }
   }

   function resetDemo() {
    document.getElementById('angle').value = '30';
    document.getElementById('angleUnit').value = 'degrees';
    document.getElementById('identityType').value = 'pythagorean';
    calculateTrigValues();
    verifyIdentity();
    document.getElementById('errorMessage').style.display = 'none';
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Verify Pythagorean identity</h4>
       <div class="calculation-steps">
        <div class="calculation-step">For θ = 45°: sin(45°) = √2/2 ≈ 0.707, cos(45°) = √2/2 ≈ 0.707</div>
        <div class="calculation-step">sin²(45°) = (√2/2)² = 2/4 = 1/2 = 0.5</div>
        <div class="calculation-step">cos²(45°) = (√2/2)² = 2/4 = 1/2 = 0.5</div>
        <div class="calculation-step">sin²θ + cos²θ = 0.5 + 0.5 = 1 ✓</div>
        <div class="calculation-step">The Pythagorean identity holds for all angles</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Simplify using identities</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Expression: (sinθ/cosθ) × (1/sinθ)</div>
        <div class="calculation-step">First part: sinθ/cosθ = tanθ</div>
        <div class="calculation-step">tanθ × (1/sinθ) = (sinθ/cosθ) × (1/sinθ) = 1/cosθ</div>
        <div class="calculation-step">1/cosθ = secθ</div>
        <div class="calculation-step">Simplified: secθ</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Find exact value</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Given: cosθ = 3/5, θ in quadrant I</div>
        <div class="calculation-step">Pythagorean identity: sin²θ + cos²θ = 1</div>
        <div class="calculation-step">sin²θ + (3/5)² = 1</div>
        <div class="calculation-step">sin²θ + 9/25 = 1</div>
        <div class="calculation-step">sin²θ = 1 - 9/25 = 16/25</div>
        <div class="calculation-step">sinθ = 4/5 (positive in quadrant I)</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   // Initialize canvas visualization
   window.addEventListener('load', function() {
    const canvas = document.getElementById('identitiesCanvas');
    const ctx = canvas.getContext('2d');
    const w = canvas.width;
    const h = canvas.height;

    const centerX = w / 2;
    const centerY = h / 2;
    const radius = 130;
    const theta = 0.9; // angle in radians

    // Draw unit circle
    ctx.strokeStyle = '#2c3e50';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.arc(centerX, centerY, radius, 0, 2*Math.PI);
    ctx.stroke();

    // Draw x and y axes
    ctx.strokeStyle = '#95a5a6';
    ctx.lineWidth = 1.5;

    // x-axis
    ctx.beginPath();
    ctx.moveTo(centerX - radius - 20, centerY);
    ctx.lineTo(centerX + radius + 20, centerY);
    ctx.stroke();

    // y-axis
    ctx.beginPath();
    ctx.moveTo(centerX, centerY - radius - 20);
    ctx.lineTo(centerX, centerY + radius + 20);
    ctx.stroke();

    // Calculate point on circle
    const px = centerX + radius * Math.cos(theta);
    const py = centerY - radius * Math.sin(theta);

    // Draw radius to point
    ctx.strokeStyle = '#e74c3c';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(px, py);
    ctx.stroke();

    // Draw vertical line (sin)
    ctx.strokeStyle = '#27ae60';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(px, centerY);
    ctx.lineTo(px, py);
    ctx.stroke();

    // Draw horizontal line (cos)
    ctx.strokeStyle = '#3498db';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(px, centerY);
    ctx.stroke();

    // Draw angle arc
    ctx.strokeStyle = '#9b59b6';
    ctx.lineWidth = 1.5;
    ctx.setLineDash([3, 3]);
    ctx.beginPath();
    ctx.arc(centerX, centerY, 45, -theta, 0, false);
    ctx.stroke();
    ctx.setLineDash([]);

    // Draw right angle marker
    const cornerSize = 10;
    ctx.strokeStyle = '#7f8c8d';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(px - cornerSize, centerY);
    ctx.lineTo(px - cornerSize, centerY - cornerSize);
    ctx.lineTo(px, centerY - cornerSize);
    ctx.stroke();

    // Draw points
    ctx.fillStyle = '#2c3e50';
    ctx.beginPath();
    ctx.arc(centerX, centerY, 5, 0, 2*Math.PI);
    ctx.fill();

    ctx.fillStyle = '#e74c3c';
    ctx.beginPath();
    ctx.arc(px, py, 5, 0, 2*Math.PI);
    ctx.fill();

    // Labels
    ctx.font = 'italic 16px Georgia';
    ctx.fillStyle = '#2c3e50';
    ctx.textAlign = 'right';
    ctx.fillText('O', centerX - 12, centerY + 20);

    // Point label
    ctx.fillStyle = '#e74c3c';
    ctx.textAlign = 'left';
    ctx.fillText('(cos θ, sin θ)', px + 10, py - 10);

    // Radius label
    ctx.fillStyle = '#e74c3c';
    ctx.textAlign = 'center';
    const midRX = centerX + (radius/2) * Math.cos(theta);
    const midRY = centerY - (radius/2) * Math.sin(theta);
    ctx.fillText('r = 1', midRX - 15, midRY - 10);

    // cos label
    ctx.fillStyle = '#3498db';
    ctx.textAlign = 'center';
    ctx.fillText('cos θ', centerX + (px - centerX)/2, centerY + 20);

    // sin label
    ctx.fillStyle = '#27ae60';
    ctx.textAlign = 'left';
    ctx.fillText('sin θ', px + 3, 10+centerY - (centerY - py)/2);

    // Angle label
    ctx.fillStyle = '#9b59b6';
    ctx.textAlign = 'center';
    ctx.fillText('θ', centerX + 55, centerY - 15);

    // Identity notation
    ctx.font = '13px Arial';
    ctx.fillStyle = '#2c3e50';
    ctx.textAlign = 'center';
    ctx.fillText('sin²θ + cos²θ = 1', centerX, h - 25);
   });

   // Initialize calculator
   calculateTrigValues();
   verifyIdentity();
  </script>
 </body>
</html>
