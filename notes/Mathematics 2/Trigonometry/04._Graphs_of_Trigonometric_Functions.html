<!DOCTYPE html>
<!-- tags: Trigonometry -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Graphs of Trigonometric Functions
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
   }

   .main-content {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 15px;
    padding: 30px;
    margin: 20px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.1);
   }

   .fancy-title {
    text-align: center;
    font-size: 2.5em;
    font-weight: bold;
    margin: 20px 0;
    color: #2c3e50;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
   }

   .description {
    font-size: 1.2em;
    line-height: 1.6;
    margin: 20px 0;
    color: #34495e;
    text-align: center;
   }

   .content-wrapper {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin: 30px 0;
   }

   .formula-block {
    flex: 1;
    min-width: 300px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 25px;
    border-radius: 12px;
    text-align: center;
    font-size: 1.4em;
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
   }

   .formula-item {
    margin: 15px 0;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 8px;
   }

   .graybox {
    background: linear-gradient(135deg, #bdc3c7 0%, #95a5a6 100%);
    color: #2c3e50;
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    text-align: center;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .interactive-demo {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 30px;
    border-radius: 15px;
    margin: 30px 0;
    box-shadow: 0 8px 32px rgba(0,0,0,0.15);
   }

   .demo-title {
    text-align: center;
    font-size: 1.8em;
    margin-bottom: 25px;
    font-weight: bold;
   }

   .input-group {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin: 20px 0;
    justify-content: center;
   }

   .input-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .input-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .input-field input {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 120px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .input-field input:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .select-field {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
   }

   .select-field label {
    font-weight: bold;
    font-size: 1.1em;
   }

   .select-field select {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 8px;
    font-size: 1em;
    width: 180px;
    text-align: center;
    transition: border-color 0.3s;
   }

   .select-field select:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
   }

   .button-group {
    text-align: center;
    margin: 25px 0;
   }

   .btn {
    background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 8px;
    font-size: 1.1em;
    cursor: pointer;
    margin: 0 10px;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
   }

   .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
   }

   .btn:active {
    transform: translateY(0);
   }

   .result-display {
    background: rgba(255, 255, 255, 0.1);
    padding: 20px;
    border-radius: 10px;
    margin: 20px 0;
    backdrop-filter: blur(10px);
   }

   .result-text {
    font-size: 1.2em;
    text-align: center;
    margin: 10px 0;
   }

   .section {
    background: white;
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
   }

   .section-title {
    font-size: 1.8em;
    font-weight: bold;
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center;
   }

   .canvas-container {
    text-align: center;
    margin: 20px 0;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
   }

   .canvas-title {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 15px;
    color: #2c3e50;
   }

   .formula-display {
    text-align: center;
    margin: 15px 0;
    font-size: 1.3em;
    font-weight: bold;
    color: #e74c3c;
   }

   .function-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .function-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
    box-shadow: 0 4px 15px rgba(252, 182, 159, 0.3);
   }

   .function-card h3 {
    margin: 0 0 15px 0;
    color: #333;
    font-size: 1.3em;
   }

   .function-card .formula {
    font-weight: bold;
    color: #e74c3c;
    font-size: 1.2em;
    margin: 10px 0;
   }

   .function-card .properties {
    color: #555;
    line-height: 1.5;
    font-size: 0.95em;
    text-align: left;
   }

   .properties ul {
    margin: 10px 0;
    padding-left: 20px;
   }

   .properties li {
    margin: 5px 0;
   }

   .example-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
   }

   .example-card {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
   }

   .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(245, 87, 108, 0.4);
   }

   .example-card h4 {
    margin: 0 0 10px 0;
    font-size: 1.2em;
   }

   .example-detail {
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    display: none;
   }

   .calculation-steps {
    margin: 15px 0;
   }

   .calculation-step {
    margin: 8px 0;
    padding: 8px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 5px;
    border-left: 4px solid #f5576c;
   }

   .practice-problems {
    margin: 20px 0;
   }

   .problem-item {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 10px;
    margin: 15px 0;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
   }

   .problem-item h4 {
    margin: 0 0 15px 0;
    font-size: 1.2em;
   }

   .solution-btn {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    color: #333;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    margin: 10px 0;
    transition: all 0.3s;
   }

   .solution-btn:hover {
    background: linear-gradient(135deg, #fcb69f 0%, #ffecd2 100%);
    transform: scale(1.05);
   }

   .solution {
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    padding: 15px;
    border-radius: 8px;
    margin: 10px 0;
    display: none;
    border-left: 4px solid #667eea;
   }

   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 25px;
    border-radius: 12px;
    margin: 25px 0;
   }

   .takeaway-list {
    list-style: none;
    padding: 0;
   }

   .takeaway-item {
    background: rgba(255, 255, 255, 0.8);
    margin: 10px 0;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #667eea;
    font-weight: bold;
   }

   .error-message {
    background: #ffebee;
    color: #c62828;
    padding: 10px;
    border-radius: 5px;
    margin: 10px 0;
    display: none;
    text-align: center;
    font-weight: bold;
   }

   .graph-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    margin: 20px 0;
   }

   .control-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
   }

   .control-group label {
    font-weight: bold;
    font-size: 0.9em;
   }

   .control-group input {
    width: 80px;
    padding: 5px;
    border: 1px solid #ddd;
    border-radius: 4px;
    text-align: center;
   }

   .legend {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 15px 0;
    flex-wrap: wrap;
   }

   .legend-item {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.9em;
   }

   .legend-color {
    width: 20px;
    height: 3px;
    border-radius: 2px;
   }

   @media (max-width: 768px) {
    .content-wrapper {
     flex-direction: column;
    }

    .input-group {
     flex-direction: column;
     align-items: center;
    }

    .fancy-title {
     font-size: 2em;
    }

    .formula-block {
     font-size: 1.2em;
    }

    .function-grid {
     grid-template-columns: 1fr;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Trigonometry">
   Graphs of Trigonometric Functions
  </div>

  <div class="container">
   <div class="main-content">
    <div class="description">
     The graphs of trigonometric functions reveal their fundamental properties including periodicity, amplitude, phase shifts, and symmetry. Understanding these visual representations is crucial for solving trigonometric equations and modeling periodic phenomena.
    </div>

    <div class="content-wrapper">
     <div class="formula-block">
      <div class="formula-item">
       <strong>Sine Function:</strong><br/>
       y = sin x
      </div>
      <div class="formula-item">
       <strong>Cosine Function:</strong><br/>
       y = cos x
      </div>
      <div class="formula-item">
       <strong>Tangent Function:</strong><br/>
       y = tan x
      </div>
     </div>

     <div class="graybox">
      All trigonometric functions are periodic and can be graphed using the unit circle. The sine and cosine functions have amplitude 1 and period 2π, while the tangent function has period π with vertical asymptotes.
     </div>
    </div>

    <div class="section">
     <div class="section-title">Interactive Function Grapher</div>
     <div class="interactive-demo">
      <div class="demo-title">Explore Trigonometric Functions</div>

      <div class="graph-controls">
       <div class="control-group">
        <label for="functionType">Function:</label>
        <select id="functionType">
         <option value="sin">y = sin(x)</option>
         <option value="cos">y = cos(x)</option>
         <option value="tan">y = tan(x)</option>
         <option value="csc">y = csc(x)</option>
         <option value="sec">y = sec(x)</option>
         <option value="cot">y = cot(x)</option>
        </select>
       </div>
       <div class="control-group">
        <label for="amplitude">Amplitude (A):</label>
        <input id="amplitude" type="number" value="1" step="0.1" min="0.1" max="5"/>
       </div>
       <div class="control-group">
        <label for="frequency">Frequency (ω):</label>
        <input id="frequency" type="number" value="1" step="0.1" min="0.1" max="3"/>
       </div>
       <div class="control-group">
        <label for="phase">Phase Shift (φ):</label>
        <input id="phase" type="number" value="0" step="0.1" min="-3.14" max="3.14"/>
       </div>
       <div class="control-group">
        <label for="vertical">Vertical Shift (B):</label>
        <input id="vertical" type="number" value="0" step="0.1" min="-3" max="3"/>
       </div>
      </div>

      <div class="button-group">
       <button class="btn" onclick="updateGraph()">Update Graph</button>
       <button class="btn" onclick="resetGraph()">Reset</button>
       <button class="btn" onclick="showKeyPoints()">Show Key Points</button>
      </div>

      <div class="canvas-container">
       <div class="canvas-title">Interactive Trigonometric Graph</div>
       <canvas id="interactiveCanvas" width="700" height="400"></canvas>
       <div class="legend">
        <div class="legend-item">
         <div class="legend-color" style="background: #e74c3c;"></div>
         <span>Function Graph</span>
        </div>
        <div class="legend-item">
         <div class="legend-color" style="background: #3498db;"></div>
         <span>Key Points</span>
        </div>
        <div class="legend-item">
         <div class="legend-color" style="background: #95a5a6;"></div>
         <span>Asymptotes</span>
        </div>
       </div>
      </div>

      <div class="result-display">
       <div class="result-text" id="functionEquation">
        <strong>Current Equation:</strong> y = sin(x)
       </div>
       <div class="result-text" id="functionProperties">
        <strong>Properties:</strong> Period: 2π, Range: [-1, 1], Odd function
       </div>
       <div class="result-text" id="keyPoints">
        <strong>Key Points:</strong> (0, 0), (π/2, 1), (π, 0), (3π/2, -1), (2π, 0)
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Standard Trigonometric Function Graphs</div>
     <div class="function-grid">
      <div class="function-card">
       <h3>Sine Function</h3>
       <div class="formula">$$y = \sin x$$</div>
       <div class="properties">
        <ul>
         <li><strong>Period:</strong> $2\pi$</li>
         <li><strong>Range:</strong> $[-1, 1]$</li>
         <li><strong>Domain:</strong> All real numbers</li>
         <li><strong>Symmetry:</strong> Odd function</li>
         <li><strong>Zeros:</strong> $x = n\pi$ where $n \in \mathbb{Z}$</li>
         <li><strong>Maximum:</strong> 1 at $x = \frac{\pi}{2} + 2n\pi$</li>
         <li><strong>Minimum:</strong> -1 at $x = \frac{3\pi}{2} + 2n\pi$</li>
        </ul>
       </div>
      </div>

      <div class="function-card">
       <h3>Cosine Function</h3>
       <div class="formula">$$y = \cos x$$</div>
       <div class="properties">
        <ul>
         <li><strong>Period:</strong> $2\pi$</li>
         <li><strong>Range:</strong> $[-1, 1]$</li>
         <li><strong>Domain:</strong> All real numbers</li>
         <li><strong>Symmetry:</strong> Even function</li>
         <li><strong>Zeros:</strong> $x = \frac{\pi}{2} + n\pi$ where $n \in \mathbb{Z}$</li>
         <li><strong>Maximum:</strong> 1 at $x = 2n\pi$</li>
         <li><strong>Minimum:</strong> -1 at $x = \pi + 2n\pi$</li>
        </ul>
       </div>
      </div>

      <div class="function-card">
       <h3>Tangent Function</h3>
       <div class="formula">$$y = \tan x$$</div>
       <div class="properties">
        <ul>
         <li><strong>Period:</strong> $\pi$</li>
         <li><strong>Range:</strong> $(-\infty, \infty)$</li>
         <li><strong>Domain:</strong> $x \neq \frac{\pi}{2} + n\pi$ where $n \in \mathbb{Z}$</li>
         <li><strong>Symmetry:</strong> Odd function</li>
         <li><strong>Zeros:</strong> $x = n\pi$ where $n \in \mathbb{Z}$</li>
         <li><strong>Vertical asymptotes:</strong> $x = \frac{\pi}{2} + n\pi$</li>
         <li><strong>Increasing:</strong> In each interval between asymptotes</li>
        </ul>
       </div>
      </div>

      <div class="function-card">
       <h3>Reciprocal Functions</h3>
       <div class="formula">
        \begin{aligned}
        y &= \csc x = \frac{1}{\sin x} \\
        y &= \sec x = \frac{1}{\cos x} \\
        y &= \cot x = \frac{1}{\tan x}
        \end{aligned}
       </div>
       <div class="properties">
        <ul>
         <li><strong>Cosecant:</strong> Period $2\pi$, vertical asymptotes where sin x = 0</li>
         <li><strong>Secant:</strong> Period $2\pi$, vertical asymptotes where cos x = 0</li>
         <li><strong>Cotangent:</strong> Period $\pi$, vertical asymptotes where tan x undefined</li>
         <li><strong>Range:</strong> All have range $(-\infty, -1] \cup [1, \infty)$</li>
         <li><strong>Symmetry:</strong> Cosecant and cotangent are odd, secant is even</li>
        </ul>
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <div class="section-title">Mathematical Foundation</div>
     <p>Trigonometric functions are defined using the unit circle and right triangles:</p>
     <ul>
      <li><strong>Unit circle definition:</strong> For a point (cosθ, sinθ) on the unit circle, the trigonometric functions are the coordinates</li>
      <li><strong>Right triangle definition:</strong> sinθ = opposite/hypotenuse, cosθ = adjacent/hypotenuse, tanθ = opposite/adjacent</li>
      <li><strong>Periodicity:</strong> Functions repeat their values at regular intervals</li>
      <li><strong>Amplitude:</strong> Maximum absolute value of the function (1 for basic trig functions)</li>
      <li><strong>Phase shift:</strong> Horizontal displacement of the graph</li>
      <li><strong>Vertical shift:</strong> Vertical displacement of the graph</li>
      <li><strong>Frequency:</strong> Number of cycles per unit interval</li>
      <li><strong>General form:</strong> y = A sin(ω(x - φ)) + B or y = A cos(ω(x - φ)) + B</li>
      <li><strong>Transformations:</strong> Amplitude scales vertically, frequency compresses/stretches horizontally</li>
      <li><strong>Even/odd properties:</strong> cos(-x) = cos x (even), sin(-x) = -sin x (odd), tan(-x) = -tan x (odd)</li>
     </ul>
     <div class="formula-block" style="margin: 20px 0;">
      \begin{aligned}
      \text{General sine function:} \quad y &= A \sin(\omega(x - \phi)) + B \\
      \text{General cosine function:} \quad y &= A \cos(\omega(x - \phi)) + B \\
      \text{Period:} \quad T &= \frac{2\pi}{|\omega|} \\
      \text{Amplitude:} \quad |A| \\
      \text{Phase shift:} \quad \phi \\
      \text{Vertical shift:} \quad B
      \end{aligned}
     </div>
    </div>

    <div class="section">
     <div class="section-title">Worked Examples</div>
     <div class="example-grid">
      <div class="example-card" onclick="showExample(1)">
       <h4>Example 1: Graph transformations</h4>
       <p>Sketch y = 2sin(x - π/4) + 1</p>
      </div>
      <div class="example-card" onclick="showExample(2)">
       <h4>Example 2: Find amplitude and period</h4>
       <p>Find amplitude and period of y = 3cos(2x)</p>
      </div>
      <div class="example-card" onclick="showExample(3)">
       <h4>Example 3: Tangent function analysis</h4>
       <p>Find the period and asymptotes of y = tan(3x)</p>
      </div>
     </div>

     <div class="example-detail" id="exampleDetail"></div>
    </div>

    <div class="section">
     <div class="section-title">Practice Problems</div>
     <div class="practice-problems">
      <div class="problem-item">
       <h4>Problem 1</h4>
       <p>Sketch the graph of y = sin(2x) and identify its period and amplitude.</p>
       <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution" id="solution1">
        <p><strong>Solution:</strong></p>
        <p>The function is y = sin(2x)</p>
        <p>Amplitude = |1| = 1</p>
        <p>Period = 2π/|2| = π</p>
        <p>The graph is a sine wave compressed horizontally by a factor of 2, completing one full cycle every π radians.</p>
        <p><strong>Result:</strong> Amplitude = 1, Period = π</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 2</h4>
       <p>Find the equation of the graph that is a cosine function with amplitude 3, period 4π, and phase shift of π/2 to the right.</p>
       <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution" id="solution2">
        <p><strong>Solution:</strong></p>
        <p>Amplitude A = 3</p>
        <p>Period = 4π = 2π/ω, so ω = 2π/4π = 1/2</p>
        <p>Phase shift φ = π/2 (to the right)</p>
        <p>Equation: y = 3cos((1/2)(x - π/2))</p>
        <p><strong>Result:</strong> y = 3cos(0.5(x - π/2))</p>
       </div>
      </div>

      <div class="problem-item">
       <h4>Problem 3</h4>
       <p>Determine the range and period of y = 2 + 3tan(x/2)</p>
       <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution" id="solution3">
        <p><strong>Solution:</strong></p>
        <p>The function is y = 2 + 3tan(x/2)</p>
        <p>Period of tan(x/2) = π/(1/2) = 2π</p>
        <p>Range of tan(x/2) = (-∞, ∞)</p>
        <p>Range of 3tan(x/2) = (-∞, ∞)</p>
        <p>Range of 2 + 3tan(x/2) = (-∞, ∞)</p>
        <p><strong>Result:</strong> Period = 2π, Range = (-∞, ∞)</p>
       </div>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <div class="section-title">Key Takeaways</div>
     <ul class="takeaway-list">
      <li class="takeaway-item">Sine and cosine functions have period 2π, amplitude 1, and range [-1, 1]</li>
      <li class="takeaway-item">Tangent function has period π, range (-∞, ∞), and vertical asymptotes at x = π/2 + nπ</li>
      <li class="takeaway-item">Reciprocal functions (csc, sec, cot) have vertical asymptotes where the original functions are zero</li>
      <li class="takeaway-item">Amplitude scales the graph vertically, frequency compresses/stretches horizontally</li>
      <li class="takeaway-item">Phase shift moves the graph horizontally, vertical shift moves it vertically</li>
      <li class="takeaway-item">General form: y = A sin(ω(x - φ)) + B or y = A cos(ω(x - φ)) + B</li>
      <li class="takeaway-item">Period = 2π/|ω| for sine and cosine, π/|ω| for tangent</li>
      <li class="takeaway-item">Sine is odd, cosine is even, tangent is odd</li>
      <li class="takeaway-item">Graphs help visualize periodic behavior and solve trigonometric equations</li>
      <li class="takeaway-item">Transformations follow predictable patterns based on parameters A, ω, φ, B</li>
     </ul>
    </div>
   </div>
  </div>

  <script>
   let showKeyPointsFlag = false;

   function updateGraph() {
    const canvas = document.getElementById('interactiveCanvas');
    const ctx = canvas.getContext('2d');
    const w = canvas.width;
    const h = canvas.height;

    // Clear canvas
    ctx.clearRect(0, 0, w, h);

    // Get parameters
    const funcType = document.getElementById('functionType').value;
    const A = parseFloat(document.getElementById('amplitude').value) || 1;
    const omega = parseFloat(document.getElementById('frequency').value) || 1;
    const phi = parseFloat(document.getElementById('phase').value) || 0;
    const B = parseFloat(document.getElementById('vertical').value) || 0;

    // Coordinate system
    const centerX = w / 2;
    const centerY = h / 2;
    const scaleX = 60 / Math.PI; // pixels per radian
    const scaleY = 60; // pixels per unit

    // Draw grid
    ctx.strokeStyle = '#e8e8e8';
    ctx.lineWidth = 0.5;
    for (let i = -5; i <= 5; i++) {
     if (i !== 0) {
      ctx.beginPath();
      ctx.moveTo(centerX + i * Math.PI * scaleX, 20);
      ctx.lineTo(centerX + i * Math.PI * scaleX, h - 20);
      ctx.stroke();
     }
    }
    for (let i = -3; i <= 3; i++) {
     if (i !== 0) {
      ctx.beginPath();
      ctx.moveTo(20, centerY - i * scaleY);
      ctx.lineTo(w - 20, centerY - i * scaleY);
      ctx.stroke();
     }
    }

    // Draw axes
    ctx.strokeStyle = '#000';
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(centerX, 20);
    ctx.lineTo(centerX, h - 20);
    ctx.moveTo(20, centerY);
    ctx.lineTo(w - 20, centerY);
    ctx.stroke();

    // Draw asymptotes for tangent functions
    if (funcType === 'tan' || funcType === 'cot') {
     ctx.strokeStyle = '#95a5a6';
     ctx.lineWidth = 1;
     ctx.setLineDash([5, 5]);
     const period = funcType === 'tan' ? Math.PI : Math.PI;
     for (let i = -3; i <= 3; i++) {
      const asympX = centerX + (period/2 + i * period) * scaleX;
      ctx.beginPath();
      ctx.moveTo(asympX, 20);
      ctx.lineTo(asympX, h - 20);
      ctx.stroke();
     }
     ctx.setLineDash([]);
    }

    // Function to evaluate
    function f(x) {
     const arg = omega * (x - phi);
     let value;
     switch(funcType) {
      case 'sin': value = Math.sin(arg); break;
      case 'cos': value = Math.cos(arg); break;
      case 'tan': value = Math.tan(arg); break;
      case 'csc': value = 1 / Math.sin(arg); break;
      case 'sec': value = 1 / Math.cos(arg); break;
      case 'cot': value = 1 / Math.tan(arg); break;
      default: value = Math.sin(arg);
     }
     return A * value + B;
    }

    // Draw function
    ctx.strokeStyle = '#e74c3c';
    ctx.lineWidth = 2.5;
    ctx.beginPath();

    const range = funcType === 'tan' || funcType === 'cot' ? 3 : 4;
    let firstPoint = true;

    for (let x = -range * Math.PI; x <= range * Math.PI; x += 0.05) {
     try {
      const y = f(x);
      if (Math.abs(y) < 10) { // Avoid extreme values
       const px = centerX + x * scaleX;
       const py = centerY - y * scaleY;

       if (px >= 20 && px <= w - 20 && py >= 20 && py <= h - 20) {
        if (firstPoint) {
         ctx.moveTo(px, py);
         firstPoint = false;
        } else {
         ctx.lineTo(px, py);
        }
       } else {
        firstPoint = true;
       }
      } else {
       firstPoint = true;
      }
     } catch (e) {
      firstPoint = true;
     }
    }
    ctx.stroke();

    // Draw key points if enabled
    if (showKeyPointsFlag) {
     ctx.fillStyle = '#3498db';
     const keyPoints = getKeyPoints(funcType, A, omega, phi, B);
     keyPoints.forEach(point => {
      const px = centerX + point.x * scaleX;
      const py = centerY - point.y * scaleY;
      if (px >= 20 && px <= w - 20 && py >= 20 && py <= h - 20) {
       ctx.beginPath();
       ctx.arc(px, py, 4, 0, 2*Math.PI);
       ctx.fill();
      }
     });
    }

    // Update display
    updateDisplay(funcType, A, omega, phi, B);
   }

   function getKeyPoints(funcType, A, omega, phi, B) {
    const points = [];
    const period = funcType === 'tan' || funcType === 'cot' ? Math.PI / omega : 2 * Math.PI / omega;

    switch(funcType) {
     case 'sin':
      points.push({x: phi, y: B});
      points.push({x: phi + Math.PI/(2*omega), y: A + B});
      points.push({x: phi + Math.PI/omega, y: B});
      points.push({x: phi + 3*Math.PI/(2*omega), y: -A + B});
      points.push({x: phi + 2*Math.PI/omega, y: B});
      break;
     case 'cos':
      points.push({x: phi, y: A + B});
      points.push({x: phi + Math.PI/(2*omega), y: B});
      points.push({x: phi + Math.PI/omega, y: -A + B});
      points.push({x: phi + 3*Math.PI/(2*omega), y: B});
      points.push({x: phi + 2*Math.PI/omega, y: A + B});
      break;
     case 'tan':
      points.push({x: phi, y: B});
      points.push({x: phi + Math.PI/(4*omega), y: A + B});
      points.push({x: phi + Math.PI/(2*omega) - 0.1, y: 100}); // asymptote
      break;
    }
    return points;
   }

   function updateDisplay(funcType, A, omega, phi, B) {
    let equation = 'y = ';
    if (A !== 1 || omega !== 1 || phi !== 0 || B !== 0) {
     equation += A === 1 ? '' : A;
    }

    const funcName = funcType.charAt(0).toUpperCase() + funcType.slice(1);
    equation += funcName;

    if (omega !== 1 || phi !== 0) {
     equation += '(';
     if (omega !== 1) equation += omega;
     equation += 'x';
     if (phi !== 0) equation += (phi > 0 ? ' - ' : ' + ') + Math.abs(phi).toFixed(2);
     equation += ')';
    } else {
     equation += '(x)';
    }

    if (B !== 0) equation += (B > 0 ? ' + ' : ' - ') + Math.abs(B);

    document.getElementById('functionEquation').innerHTML = `<strong>Current Equation:</strong> ${equation}`;

    const period = (funcType === 'tan' || funcType === 'cot') ? Math.PI / Math.abs(omega) : 2 * Math.PI / Math.abs(omega);
    const amplitude = Math.abs(A);
    const range = funcType === 'tan' || funcType === 'cot' ? '(-∞, ∞)' : `[${-amplitude + B}, ${amplitude + B}]`;

    document.getElementById('functionProperties').innerHTML = `<strong>Properties:</strong> Period: ${period.toFixed(2)}, Amplitude: ${amplitude}, Range: ${range}`;
   }

   function resetGraph() {
    document.getElementById('functionType').value = 'sin';
    document.getElementById('amplitude').value = '1';
    document.getElementById('frequency').value = '1';
    document.getElementById('phase').value = '0';
    document.getElementById('vertical').value = '0';
    showKeyPointsFlag = false;
    updateGraph();
   }

   function showKeyPoints() {
    showKeyPointsFlag = !showKeyPointsFlag;
    updateGraph();
   }

   function showExample(exampleNumber) {
    const detail = document.getElementById('exampleDetail');
    let content = '';

    switch(exampleNumber) {
     case 1:
      content = `
       <h4>Detailed Example 1 - Graph transformations</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: y = 2sin(x - π/4) + 1</div>
        <div class="calculation-step">Amplitude A = 2 (stretched vertically by factor of 2)</div>
        <div class="calculation-step">Frequency ω = 1 (no horizontal compression/stretching)</div>
        <div class="calculation-step">Phase shift φ = π/4 (shifted right by π/4)</div>
        <div class="calculation-step">Vertical shift B = 1 (shifted up by 1)</div>
        <div class="calculation-step">Period = 2π/1 = 2π</div>
        <div class="calculation-step">Range = [-2+1, 2+1] = [-1, 3]</div>
       </div>
      `;
      break;
     case 2:
      content = `
       <h4>Detailed Example 2 - Find amplitude and period</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: y = 3cos(2x)</div>
        <div class="calculation-step">Amplitude = |3| = 3</div>
        <div class="calculation-step">Angular frequency ω = 2</div>
        <div class="calculation-step">Period = 2π/|ω| = 2π/2 = π</div>
        <div class="calculation-step">The graph completes one cycle every π radians</div>
        <div class="calculation-step">Range = [-3, 3]</div>
       </div>
      `;
      break;
     case 3:
      content = `
       <h4>Detailed Example 3 - Tangent function analysis</h4>
       <div class="calculation-steps">
        <div class="calculation-step">Function: y = tan(3x)</div>
        <div class="calculation-step">Frequency ω = 3</div>
        <div class="calculation-step">Period = π/|ω| = π/3</div>
        <div class="calculation-step">Vertical asymptotes: x = π/6 + nπ/3 where n ∈ ℤ</div>
        <div class="calculation-step">Domain: x ≠ π/6 + nπ/3</div>
        <div class="calculation-step">Range: (-∞, ∞)</div>
       </div>
      `;
      break;
    }

    detail.innerHTML = content;
    detail.style.display = 'block';
    MathJax.typesetPromise();
   }

   function toggleSolution(problemNumber) {
    const solution = document.getElementById('solution' + problemNumber);
    if (solution.style.display === 'none' || solution.style.display === '') {
     solution.style.display = 'block';
    } else {
     solution.style.display = 'none';
    }
   }

   // Initialize
   updateGraph();
  </script>
 </body>
</html>
