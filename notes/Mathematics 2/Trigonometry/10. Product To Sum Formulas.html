<!DOCTYPE html>
<!-- tags: Trigonometry -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Product To Sum Formulas
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .interactive-demo {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border: 2px solid #3498db;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
   }
   .demo-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    margin-bottom: 20px;
   }
   .control-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
   }
   .control-group label {
    font-weight: bold;
    color: #2c3e50;
   }
   .control-group input, .control-group select {
    padding: 8px;
    border: 1px solid #bdc3c7;
    border-radius: 5px;
    font-size: 14px;
   }
   .demo-output {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    border: 1px solid #ecf0f1;
   }
   .formula-block {
    background: #ecf0f1;
    border-left: 4px solid #3498db;
    padding: 15px;
    margin: 15px 0;
    font-family: 'Times New Roman', serif;
   }
   .practice-problem {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .solution {
    background: #d4edda;
    border: 1px solid #c3e6cb;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    display: none;
   }
   .solution-button {
    background: #007bff;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
   }
   .solution-button:hover {
    background: #0056b3;
   }
   .key-takeaways {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .key-takeaways h3 {
    margin-top: 0;
    color: white;
   }
   .key-takeaways ul {
    margin: 10px 0 0 0;
    padding-left: 20px;
   }
   .key-takeaways li {
    margin: 8px 0;
   }
   .worked-example {
    background: #e8f4f8;
    border: 1px solid #bee5eb;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .worked-example h4 {
    margin-top: 0;
    color: #0c5460;
   }
   .math-foundation {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .math-foundation h3 {
    margin-top: 0;
    color: #2c3e50;
   }
   .canvas-container {
    text-align: center;
    margin: 20px 0;
    position: relative;
   }
   .canvas-legend {
    background: rgba(255,255,255,0.9);
    border-radius: 5px;
    padding: 10px;
    margin-top: 10px;
    display: inline-block;
    font-size: 14px;
   }
   .legend-item {
    display: inline-block;
    margin: 0 15px;
   }
   .legend-color {
    display: inline-block;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    margin-right: 5px;
    vertical-align: middle;
   }
   .formula-highlight {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 5px;
    padding: 10px;
    margin: 10px 0;
    font-weight: bold;
   }
   .tab-container {
    display: flex;
    margin-bottom: 20px;
    border-bottom: 1px solid #dee2e6;
   }
   .tab-button {
    background: none;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    font-weight: bold;
   }
   .tab-button.active {
    border-bottom-color: #3498db;
    color: #3498db;
   }
   .tab-content {
    display: none;
   }
   .tab-content.active {
    display: block;
   }
   @media (max-width: 768px) {
    .demo-controls {
     flex-direction: column;
     align-items: stretch;
    }
    .control-group {
     width: 100%;
    }
    .tab-container {
     flex-direction: column;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Trigonometry">
   Product To Sum Formulas
  </div>
  <div class="container">
   <div class="main-content">

    <div class="math-foundation">
     <h3>Mathematical Foundation</h3>
     <p>Product-to-sum and sum-to-product formulas are essential trigonometric identities that convert between products and sums of trigonometric functions. These formulas are crucial for integration, solving trigonometric equations, and analyzing wave interference patterns. They demonstrate the deep connection between multiplication and addition in trigonometric functions through the unit circle and complex number representations.</p>

     <div class="formula-block">
      <strong>Product-to-Sum Formulas:</strong>
      <ul>
       <li>$\sin\alpha\cos\beta = \frac{1}{2}[\sin(\alpha + \beta) + \sin(\alpha - \beta)]$</li>
       <li>$\cos\alpha\sin\beta = \frac{1}{2}[\sin(\alpha + \beta) - \sin(\alpha - \beta)]$</li>
       <li>$\cos\alpha\cos\beta = \frac{1}{2}[\cos(\alpha + \beta) + \cos(\alpha - \beta)]$</li>
       <li>$\sin\alpha\sin\beta = -\frac{1}{2}[\cos(\alpha + \beta) - \cos(\alpha - \beta)]$</li>
      </ul>
      <strong>Sum-to-Product Formulas:</strong>
      <ul>
       <li>$\sin A + \sin B = 2\sin\frac{A + B}{2}\cos\frac{A - B}{2}$</li>
       <li>$\sin A - \sin B = 2\cos\frac{A + B}{2}\sin\frac{A - B}{2}$</li>
       <li>$\cos A + \cos B = 2\cos\frac{A + B}{2}\cos\frac{A - B}{2}$</li>
       <li>$\cos A - \cos B = -2\sin\frac{A + B}{2}\sin\frac{A - B}{2}$</li>
      </ul>
     </div>
    </div>

    <div class="interactive-demo">
     <h3>Interactive Product-to-Sum and Sum-to-Product Calculator</h3>

     <div class="tab-container">
      <button class="tab-button active" onclick="switchTab('product')">Product → Sum</button>
      <button class="tab-button" onclick="switchTab('sum')">Sum → Product</button>
     </div>

     <div id="product-tab" class="tab-content active">
      <div class="demo-controls">
       <div class="control-group">
        <label for="func1-select">Function 1:</label>
        <select id="func1-select">
         <option value="sin">sin</option>
         <option value="cos">cos</option>
        </select>
       </div>
       <div class="control-group">
        <label for="alpha-input">α (radians):</label>
        <input type="number" id="alpha-input" step="0.1" value="1.0">
       </div>
       <div class="control-group">
        <label for="func2-select">Function 2:</label>
        <select id="func2-select">
         <option value="cos">cos</option>
         <option value="sin">sin</option>
        </select>
       </div>
       <div class="control-group">
        <label for="beta-input">β (radians):</label>
        <input type="number" id="beta-input" step="0.1" value="0.5">
       </div>
       <button onclick="calculateProductToSum()" style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">Calculate</button>
      </div>
     </div>

     <div id="sum-tab" class="tab-content">
      <div class="demo-controls">
       <div class="control-group">
        <label for="sum-func-select">Function Type:</label>
        <select id="sum-func-select">
         <option value="sin+sin">sin A + sin B</option>
         <option value="sin-sin">sin A - sin B</option>
         <option value="cos+cos">cos A + cos B</option>
         <option value="cos-cos">cos A - cos B</option>
        </select>
       </div>
       <div class="control-group">
        <label for="A-input">A (radians):</label>
        <input type="number" id="A-input" step="0.1" value="1.5">
       </div>
       <div class="control-group">
        <label for="B-input">B (radians):</label>
        <input type="number" id="B-input" step="0.1" value="0.5">
       </div>
       <button onclick="calculateSumToProduct()" style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">Calculate</button>
      </div>
     </div>

     <div class="canvas-container">
      <canvas id="interactive-canvas" width="600" height="600"></canvas>
      <div class="canvas-legend">
       <div class="legend-item">
        <span class="legend-color" style="background: #e74c3c;"></span>
        <span>Angle α</span>
       </div>
       <div class="legend-item">
        <span class="legend-color" style="background: #27ae60;"></span>
        <span>Angle β</span>
       </div>
       <div class="legend-item">
        <span class="legend-color" style="background: #3498db;"></span>
        <span>Sum (α+β)</span>
       </div>
       <div class="legend-item">
        <span class="legend-color" style="background: #9b59b6;"></span>
        <span>Difference (α-β)</span>
       </div>
      </div>
     </div>

     <div class="demo-output" id="demo-output">
      <strong>Current Values:</strong><br>
      Product-to-Sum: sin(1.0) × cos(0.5) = 0.454<br>
      = ½[sin(1.5) + sin(0.5)] = ½[0.997 + 0.479] = 0.738<br>
      Sum-to-Product: sin(1.5) + sin(0.5) = 1.476<br>
      = 2 × sin(1.0) × cos(0.5) = 2 × 0.841 × 0.878 = 1.476
     </div>
    </div>

    <div class="worked-example">
     <h4>Worked Example 1: Product-to-Sum - sin 75° cos 15°</h4>
     <p>Express sin 75° cos 15° as a sum of trigonometric functions.</p>
     <p><strong>Solution:</strong></p>
     <p>Using the formula: sin α cos β = ½[sin(α + β) + sin(α - β)]</p>
     <p>α = 75°, β = 15°</p>
     <p>sin 75° cos 15° = ½[sin(75° + 15°) + sin(75° - 15°)]</p>
     <p>= ½[sin 90° + sin 60°]</p>
     <p>= ½[1 + √3/2] = ½ + √3/4 = (2 + √3)/4</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 2: Sum-to-Product - sin 75° + sin 15°</h4>
     <p>Express sin 75° + sin 15° as a product of trigonometric functions.</p>
     <p><strong>Solution:</strong></p>
     <p>Using the formula: sin A + sin B = 2 sin((A+B)/2) cos((A-B)/2)</p>
     <p>A = 75°, B = 15°</p>
     <p>sin 75° + sin 15° = 2 sin((75°+15°)/2) cos((75°-15°)/2)</p>
     <p>= 2 sin(45°) cos(30°)</p>
     <p>= 2 × (√2/2) × (√3/2) = √6/2</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 3: Solving sin 3x + sin x = 0</h4>
     <p>Solve the equation sin 3x + sin x = 0.</p>
     <p><strong>Solution:</strong></p>
     <p>Using sum-to-product: sin A + sin B = 2 sin((A+B)/2) cos((A-B)/2)</p>
     <p>2 sin((3x+x)/2) cos((3x-x)/2) = 0</p>
     <p>2 sin(2x) cos(x) = 0</p>
     <p>Either sin(2x) = 0 or cos(x) = 0</p>
     <p>sin(2x) = 0 ⇒ 2x = nπ ⇒ x = nπ/2</p>
     <p>cos(x) = 0 ⇒ x = π/2 + nπ</p>
     <p>Solutions: x = nπ/2 where n is any integer</p>
    </div>

    <div style="margin: 30px 0;">
     <strong>Detailed Derivation</strong>
     <p>The product-to-sum formulas are derived from the angle addition formulas:</p>
     <div class="formula-highlight">
      $$\sin(\alpha + \beta) = \sin\alpha\cos\beta + \cos\alpha\sin\beta$$
      $$\sin(\alpha - \beta) = \sin\alpha\cos\beta - \cos\alpha\sin\beta$$
     </div>
     <p>Adding these equations gives the first product-to-sum formula.</p>
     <p>The sum-to-product formulas are derived by setting A = α + β and B = α - β, then solving for α and β in terms of A and B.</p>
    </div>

    <div style="margin: 30px 0;">
     <strong>Geometric Interpretation</strong>
     <p>These formulas can be understood through the unit circle and complex number multiplication:</p>
     <div class="canvas-container">
      <canvas id="geometryCanvas" width="600" height="600"></canvas>
     </div>
     <p style="text-align: center; font-style: italic;">Geometric representation showing angle relationships on the unit circle</p>
    </div>

    <div style="margin: 30px 0;">
     <strong>Wave Interference Visualization</strong>
     <p>The product-to-sum formulas explain wave interference patterns:</p>
     <div class="canvas-container">
      <canvas id="waveCanvas" width="800" height="400"></canvas>
     </div>
     <p style="text-align: center; font-style: italic;">Visualization of how multiplying waves creates sum and difference frequencies</p>
    </div>

    <h3>Practice Problems</h3>

    <div class="practice-problem">
     <strong>Problem 1:</strong> Express cos 50° cos 10° as a sum.
     <br><button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
     <div class="solution" id="solution1">
      <strong>Solution:</strong><br>
      cos α cos β = ½[cos(α + β) + cos(α - β)]<br>
      cos 50° cos 10° = ½[cos(60°) + cos(40°)]<br>
      = ½[½ + cos 40°] = ¼ + ½ cos 40°
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 2:</strong> Express sin 5x sin 3x as a sum.
     <br><button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
     <div class="solution" id="solution2">
      <strong>Solution:</strong><br>
      sin α sin β = -½[cos(α + β) - cos(α - β)]<br>
      sin 5x sin 3x = -½[cos(8x) - cos(2x)]<br>
      = ½[cos(2x) - cos(8x)]
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 3:</strong> Express cos 80° + cos 20° as a product.
     <br><button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
     <div class="solution" id="solution3">
      <strong>Solution:</strong><br>
      cos A + cos B = 2 cos((A+B)/2) cos((A-B)/2)<br>
      cos 80° + cos 20° = 2 cos(50°) cos(30°)<br>
      = 2 cos 50° × (√3/2) = √3 cos 50°
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 4:</strong> Solve sin 4x - sin 2x = 0.
     <br><button class="solution-button" onclick="toggleSolution(4)">Show Solution</button>
     <div class="solution" id="solution4">
      <strong>Solution:</strong><br>
      sin A - sin B = 2 cos((A+B)/2) sin((A-B)/2)<br>
      2 cos(3x) sin(x) = 0<br>
      Either cos(3x) = 0 or sin(x) = 0<br>
      cos(3x) = 0 ⇒ 3x = π/2 + nπ ⇒ x = π/6 + nπ/3<br>
      sin(x) = 0 ⇒ x = nπ<br>
      Solutions: x = nπ/3 where n is any integer
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 5:</strong> Evaluate ∫ sin 3x cos x dx.
     <br><button class="solution-button" onclick="toggleSolution(5)">Show Solution</button>
     <div class="solution" id="solution5">
      <strong>Solution:</strong><br>
      sin 3x cos x = ½[sin(4x) + sin(2x)]<br>
      ∫ ½[sin(4x) + sin(2x)] dx = ½[-¼ cos(4x) - ½ cos(2x)] + C<br>
      = -⅛ cos(4x) - ¼ cos(2x) + C
     </div>
    </div>

    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Product-to-Sum:</strong> Converts products like sin α cos β into sums of sine or cosine functions with sum and difference arguments.</li>
      <li><strong>Sum-to-Product:</strong> Converts sums like sin A + sin B into products of sine and cosine functions with average and half-difference arguments.</li>
      <li><strong>Integration:</strong> Essential for integrating products of trigonometric functions, converting difficult integrals into manageable ones.</li>
      <li><strong>Equation Solving:</strong> Transforms complex trigonometric equations into simpler forms by factoring.</li>
      <li><strong>Wave Phenomena:</strong> Explains interference patterns, beat frequencies, and modulation in physics and signal processing.</li>
      <li><strong>Derivation:</strong> Based on angle addition formulas and algebraic manipulation of trigonometric identities.</li>
      <li><strong>Applications:</strong> Used in physics (wave interference), engineering (signal processing), and mathematics (integration techniques).</li>
     </ul>
    </div>

    <script>
     function switchTab(tabName) {
      // Hide all tabs
      document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));

      // Show selected tab
      document.getElementById(tabName + '-tab').classList.add('active');
      event.target.classList.add('active');
     }

     function calculateProductToSum() {
      const func1 = document.getElementById('func1-select').value;
      const alpha = parseFloat(document.getElementById('alpha-input').value);
      const func2 = document.getElementById('func2-select').value;
      const beta = parseFloat(document.getElementById('beta-input').value);

      let product, sum1, sum2, result;

      if (func1 === 'sin' && func2 === 'cos') {
       product = Math.sin(alpha) * Math.cos(beta);
       sum1 = Math.sin(alpha + beta);
       sum2 = Math.sin(alpha - beta);
       result = 0.5 * (sum1 + sum2);
      } else if (func1 === 'cos' && func2 === 'sin') {
       product = Math.cos(alpha) * Math.sin(beta);
       sum1 = Math.sin(alpha + beta);
       sum2 = Math.sin(alpha - beta);
       result = 0.5 * (sum1 - sum2);
      } else if (func1 === 'cos' && func2 === 'cos') {
       product = Math.cos(alpha) * Math.cos(beta);
       sum1 = Math.cos(alpha + beta);
       sum2 = Math.cos(alpha - beta);
       result = 0.5 * (sum1 + sum2);
      } else { // sin sin
       product = Math.sin(alpha) * Math.sin(beta);
       sum1 = Math.cos(alpha + beta);
       sum2 = Math.cos(alpha - beta);
       result = -0.5 * (sum1 - sum2);
      }

      updateCanvas(alpha, beta);
      updateOutput(product, result, alpha, beta, func1, func2);
     }

     function calculateSumToProduct() {
      const sumType = document.getElementById('sum-func-select').value;
      const A = parseFloat(document.getElementById('A-input').value);
      const B = parseFloat(document.getElementById('B-input').value);

      let sum, product;

      if (sumType === 'sin+sin') {
       sum = Math.sin(A) + Math.sin(B);
       product = 2 * Math.sin((A + B) / 2) * Math.cos((A - B) / 2);
      } else if (sumType === 'sin-sin') {
       sum = Math.sin(A) - Math.sin(B);
       product = 2 * Math.cos((A + B) / 2) * Math.sin((A - B) / 2);
      } else if (sumType === 'cos+cos') {
       sum = Math.cos(A) + Math.cos(B);
       product = 2 * Math.cos((A + B) / 2) * Math.cos((A - B) / 2);
      } else { // cos-cos
       sum = Math.cos(A) - Math.cos(B);
       product = -2 * Math.sin((A + B) / 2) * Math.sin((A - B) / 2);
      }

      updateCanvas((A + B) / 2, (A - B) / 2);
      updateOutput(sum, product, A, B, 'sum', sumType);
     }

     function updateCanvas(alpha, beta) {
      const canvas = document.getElementById('interactive-canvas');
      const ctx = canvas.getContext('2d');
      const w = canvas.width;
      const h = canvas.height;
      const centerX = w / 2;
      const centerY = h / 2;
      const radius = 200;

      // Clear canvas
      ctx.clearRect(0, 0, w, h);

      // Unit circle
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
      ctx.strokeStyle = '#000';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Axes
      ctx.beginPath();
      ctx.moveTo(50, centerY);
      ctx.lineTo(w - 50, centerY);
      ctx.moveTo(centerX, 50);
      ctx.lineTo(centerX, h - 50);
      ctx.strokeStyle = '#666';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Point at angle α
      const pAlphaX = centerX + radius * Math.cos(alpha);
      const pAlphaY = centerY - radius * Math.sin(alpha);

      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.lineTo(pAlphaX, pAlphaY);
      ctx.strokeStyle = '#e74c3c';
      ctx.lineWidth = 2.5;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(pAlphaX, pAlphaY, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#e74c3c';
      ctx.fill();

      // Point at angle β
      const pBetaX = centerX + radius * Math.cos(beta);
      const pBetaY = centerY - radius * Math.sin(beta);

      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.lineTo(pBetaX, pBetaY);
      ctx.strokeStyle = '#27ae60';
      ctx.lineWidth = 2.5;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(pBetaX, pBetaY, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#27ae60';
      ctx.fill();

      // Point at angle α+β
      const sum = alpha + beta;
      const pSumX = centerX + radius * Math.cos(sum);
      const pSumY = centerY - radius * Math.sin(sum);

      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.lineTo(pSumX, pSumY);
      ctx.strokeStyle = '#3498db';
      ctx.lineWidth = 2.5;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(pSumX, pSumY, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#3498db';
      ctx.fill();

      // Point at angle α-β
      const diff = alpha - beta;
      const pDiffX = centerX + radius * Math.cos(diff);
      const pDiffY = centerY - radius * Math.sin(diff);

      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.lineTo(pDiffX, pDiffY);
      ctx.strokeStyle = '#9b59b6';
      ctx.lineWidth = 2.5;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(pDiffX, pDiffY, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#9b59b6';
      ctx.fill();

      // Angle arcs
      ctx.beginPath();
      ctx.arc(centerX, centerY, 60, -alpha, 0, false);
      ctx.strokeStyle = '#e74c3c';
      ctx.lineWidth = 2;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(centerX, centerY, 80, -beta, 0, false);
      ctx.strokeStyle = '#27ae60';
      ctx.lineWidth = 2;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(centerX, centerY, 100, -sum, 0, false);
      ctx.strokeStyle = '#3498db';
      ctx.lineWidth = 2;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(centerX, centerY, 120, -diff, 0, false);
      ctx.strokeStyle = '#9b59b6';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Labels
      ctx.font = '16px Arial';
      ctx.fillStyle = '#e74c3c';
      ctx.fillText('α', centerX + 70, centerY - 25);

      ctx.fillStyle = '#27ae60';
      ctx.fillText('β', centerX + 90, centerY - 10);

      ctx.fillStyle = '#3498db';
      ctx.fillText('α+β', centerX + 110, centerY - 50);

      ctx.fillStyle = '#9b59b6';
      ctx.fillText('α-β', centerX + 130, centerY - 30);

      ctx.fillStyle = '#000';
      ctx.fillText('O', centerX - 25, centerY + 20);
     }

     function updateOutput(original, transformed, a, b, func1, func2) {
      const output = document.getElementById('demo-output');

      if (func1 === 'sum') {
       output.innerHTML = `<strong>Current Values:</strong><br>
       ${func2}: ${original.toFixed(3)}<br>
       Product form: ${transformed.toFixed(3)}<br>
       A = ${a.toFixed(3)} rad, B = ${b.toFixed(3)} rad`;
      } else {
       output.innerHTML = `<strong>Current Values:</strong><br>
       ${func1}(${a.toFixed(3)}) × ${func2}(${b.toFixed(3)}) = ${original.toFixed(3)}<br>
       Sum form: ${transformed.toFixed(3)}<br>
       α = ${a.toFixed(3)} rad, β = ${b.toFixed(3)} rad`;
      }

      // Re-render MathJax
      if (window.MathJax) {
       MathJax.typesetPromise([output]).catch(function(err) {
        console.log('MathJax re-render error:', err);
       });
      }
     }

     function toggleSolution(num) {
      const solution = document.getElementById('solution' + num);
      if (solution.style.display === 'none' || solution.style.display === '') {
       solution.style.display = 'block';
      } else {
       solution.style.display = 'none';
      }
     }

     // Initialize
     calculateProductToSum();

     // Original geometry canvas
     window.addEventListener('load', function() {
      // Geometry Canvas
      const canvas1 = document.getElementById('geometryCanvas');
      const ctx1 = canvas1.getContext('2d');
      const w1 = canvas1.width;
      const h1 = canvas1.height;
      const centerX1 = w1 / 2;
      const centerY1 = h1 / 2;
      const radius1 = 200;

      const alpha = Math.PI / 3; // 60 degrees
      const beta = Math.PI / 6;  // 30 degrees
      const sum = alpha + beta;   // 90 degrees
      const diff = alpha - beta;  // 30 degrees

      // Draw circle
      ctx1.beginPath();
      ctx1.arc(centerX1, centerY1, radius1, 0, 2 * Math.PI);
      ctx1.strokeStyle = '#000';
      ctx1.lineWidth = 2.5;
      ctx1.stroke();

      // Axes
      ctx1.beginPath();
      ctx1.moveTo(50, centerY1);
      ctx.lineTo(w1 - 50, centerY1);
      ctx.moveTo(centerX1, 50);
      ctx.lineTo(centerX1, h1 - 50);
      ctx1.strokeStyle = '#666';
      ctx1.lineWidth = 1.5;
      ctx1.stroke();

      // Point at angle α
      const pAlphaX = centerX1 + radius1 * Math.cos(alpha);
      const pAlphaY = centerY1 - radius1 * Math.sin(alpha);

      ctx1.beginPath();
      ctx1.moveTo(centerX1, centerY1);
      ctx1.lineTo(pAlphaX, pAlphaY);
      ctx1.strokeStyle = '#e74c3c';
      ctx1.lineWidth = 2.5;
      ctx1.stroke();

      ctx1.beginPath();
      ctx1.arc(pAlphaX, pAlphaY, 6, 0, 2 * Math.PI);
      ctx1.fillStyle = '#e74c3c';
      ctx1.fill();

      // Point at angle β
      const pBetaX = centerX1 + radius1 * Math.cos(beta);
      const pBetaY = centerY1 - radius1 * Math.sin(beta);

      ctx1.beginPath();
      ctx1.moveTo(centerX1, centerY1);
      ctx1.lineTo(pBetaX, pBetaY);
      ctx1.strokeStyle = '#27ae60';
      ctx1.lineWidth = 2.5;
      ctx1.stroke();

      ctx1.beginPath();
      ctx1.arc(pBetaX, pBetaY, 6, 0, 2 * Math.PI);
      ctx1.fillStyle = '#27ae60';
      ctx1.fill();

      // Point at angle α+β
      const pSumX = centerX1 + radius1 * Math.cos(sum);
      const pSumY = centerY1 - radius1 * Math.sin(sum);

      ctx1.beginPath();
      ctx1.moveTo(centerX1, centerY1);
      ctx1.lineTo(pSumX, pSumY);
      ctx1.strokeStyle = '#3498db';
      ctx1.lineWidth = 2.5;
      ctx1.stroke();

      ctx1.beginPath();
      ctx1.arc(pSumX, pSumY, 6, 0, 2 * Math.PI);
      ctx1.fillStyle = '#3498db';
      ctx1.fill();

      // Point at angle α-β
      const pDiffX = centerX1 + radius1 * Math.cos(diff);
      const pDiffY = centerY1 - radius1 * Math.sin(diff);

      ctx1.beginPath();
      ctx1.moveTo(centerX1, centerY1);
      ctx1.lineTo(pDiffX, pDiffY);
      ctx1.strokeStyle = '#9b59b6';
      ctx1.lineWidth = 2.5;
      ctx1.stroke();

      ctx1.beginPath();
      ctx1.arc(pDiffX, pDiffY, 6, 0, 2 * Math.PI);
      ctx1.fillStyle = '#9b59b6';
      ctx1.fill();

      // Angle arcs
      ctx1.beginPath();
      ctx1.arc(centerX1, centerY1, 60, -alpha, 0, false);
      ctx1.strokeStyle = '#e74c3c';
      ctx1.lineWidth = 2;
      ctx1.stroke();

      ctx1.beginPath();
      ctx1.arc(centerX1, centerY1, 80, -beta, 0, false);
      ctx1.strokeStyle = '#27ae60';
      ctx1.lineWidth = 2;
      ctx1.stroke();

      ctx1.beginPath();
      ctx1.arc(centerX1, centerY1, 100, -sum, 0, false);
      ctx1.strokeStyle = '#3498db';
      ctx1.lineWidth = 2;
      ctx1.stroke();

      ctx1.beginPath();
      ctx1.arc(centerX1, centerY1, 120, -diff, 0, false);
      ctx1.strokeStyle = '#9b59b6';
      ctx1.lineWidth = 2;
      ctx1.stroke();

      // Labels
      ctx1.font = '18px Arial';
      ctx1.textAlign = 'left';

      ctx1.fillStyle = '#e74c3c';
      ctx1.fillText('α', centerX1 + 70, centerY1 - 25);

      ctx1.fillStyle = '#27ae60';
      ctx1.fillText('β', centerX1 + 90, centerY1 - 10);

      ctx1.fillStyle = '#3498db';
      ctx1.fillText('α+β', centerX1 + 110, centerY1 - 50);

      ctx1.fillStyle = '#9b59b6';
      ctx1.fillText('α-β', centerX1 + 130, centerY1 - 30);

      ctx1.fillStyle = '#000';
      ctx1.fillText('O', centerX1 - 25, centerY1 + 20);

      // Wave Canvas
      const canvas2 = document.getElementById('waveCanvas');
      const ctx2 = canvas2.getContext('2d');
      const w2 = canvas2.width;
      const h2 = canvas2.height;

      const centerY2 = h2 / 2;
      const amplitude = 60;
      const freq1 = 5; // α
      const freq2 = 3; // β

      // Draw axes
      ctx2.beginPath();
      ctx2.moveTo(0, centerY2);
      ctx2.lineTo(w2, centerY2);
      ctx2.strokeStyle = '#ccc';
      ctx2.lineWidth = 1;
      ctx2.stroke();

      // Draw sin(α) wave - red
      ctx2.beginPath();
      for (let x = 0; x < w2; x++) {
       const t = (x / w2) * 4 * Math.PI;
       const y = centerY2 - 30 - amplitude * Math.sin(freq1 * t) * 0.5;
       if (x === 0) ctx2.moveTo(x, y);
       else ctx2.lineTo(x, y);
      }
      ctx2.strokeStyle = '#e74c3c';
      ctx2.lineWidth = 2;
      ctx2.stroke();

      // Draw cos(β) wave - green
      ctx2.beginPath();
      for (let x = 0; x < w2; x++) {
       const t = (x / w2) * 4 * Math.PI;
       const y = centerY2 + 30 - amplitude * Math.cos(freq2 * t) * 0.5;
       if (x === 0) ctx2.moveTo(x, y);
       else ctx2.lineTo(x, y);
      }
      ctx2.strokeStyle = '#27ae60';
      ctx2.lineWidth = 2;
      ctx2.stroke();

      // Draw product sin(α)cos(β) wave - blue (thicker)
      ctx2.beginPath();
      for (let x = 0; x < w2; x++) {
       const t = (x / w2) * 4 * Math.PI;
       const product = Math.sin(freq1 * t) * Math.cos(freq2 * t);
       const y = centerY2 - amplitude * product;
       if (x === 0) ctx2.moveTo(x, y);
       else ctx2.lineTo(x, y);
      }
      ctx2.strokeStyle = '#3498db';
      ctx2.lineWidth = 3;
      ctx2.stroke();

      // Labels
      ctx2.font = '16px Arial';
      ctx2.fillStyle = '#e74c3c';
      ctx2.fillText('sin 5t', 10, 50);

      ctx2.fillStyle = '#27ae60';
      ctx2.fillText('cos 3t', 10, h2 - 120);

      ctx2.fillStyle = '#3498db';
      ctx2.fillText('Product: sin 5t × cos 3t = ½[sin 8t + sin 2t]', w2 - 380, centerY2 - 10);

      ctx2.fillStyle = '#000';
      ctx2.font = '14px Arial';
      ctx2.fillText('Notice: Product creates interference pattern with two frequency components', 10, h2 - 20);
     });
    </script>
   </div>
  </div>
 </body>
</html>
