<!DOCTYPE html>
<!-- tags: Trigonometry -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Sum of Sine and Cosine Formula
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .interactive-demo {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border: 2px solid #3498db;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
   }
   .demo-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    align-items: center;
    margin-bottom: 20px;
   }
   .control-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
   }
   .control-group label {
    font-weight: bold;
    color: #2c3e50;
   }
   .control-group input, .control-group select {
    padding: 8px;
    border: 1px solid #bdc3c7;
    border-radius: 5px;
    font-size: 14px;
   }
   .demo-output {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    border: 1px solid #ecf0f1;
   }
   .formula-block {
    background: #ecf0f1;
    border-left: 4px solid #3498db;
    padding: 15px;
    margin: 15px 0;
    font-family: 'Times New Roman', serif;
   }
   .practice-problem {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .solution {
    background: #d4edda;
    border: 1px solid #c3e6cb;
    border-radius: 8px;
    padding: 15px;
    margin: 10px 0;
    display: none;
   }
   .solution-button {
    background: #007bff;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 5px;
    cursor: pointer;
    margin-top: 10px;
   }
   .solution-button:hover {
    background: #0056b3;
   }
   .key-takeaways {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .key-takeaways h3 {
    margin-top: 0;
    color: white;
   }
   .key-takeaways ul {
    margin: 10px 0 0 0;
    padding-left: 20px;
   }
   .key-takeaways li {
    margin: 8px 0;
   }
   .worked-example {
    background: #e8f4f8;
    border: 1px solid #bee5eb;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
   }
   .worked-example h4 {
    margin-top: 0;
    color: #0c5460;
   }
   .math-foundation {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
   }
   .math-foundation h3 {
    margin-top: 0;
    color: #2c3e50;
   }
   .canvas-container {
    text-align: center;
    margin: 20px 0;
    position: relative;
   }
   .canvas-legend {
    background: rgba(255,255,255,0.9);
    border-radius: 5px;
    padding: 10px;
    margin-top: 10px;
    display: inline-block;
    font-size: 14px;
   }
   .legend-item {
    display: inline-block;
    margin: 0 15px;
   }
   .legend-color {
    display: inline-block;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    margin-right: 5px;
    vertical-align: middle;
   }
   .formula-highlight {
    background: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 5px;
    padding: 10px;
    margin: 10px 0;
    font-weight: bold;
   }
   @media (max-width: 768px) {
    .demo-controls {
     flex-direction: column;
     align-items: stretch;
    }
    .control-group {
     width: 100%;
    }
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Trigonometry">
   Sum of Sine and Cosine Formula
  </div>
  <div class="container">
   <div class="main-content">

    <div class="math-foundation">
     <h3>Mathematical Foundation</h3>
     <p>The sum of sine and cosine formula is a powerful trigonometric identity that allows us to combine expressions of the form $a\sin\theta + b\cos\theta$ into a single trigonometric function. This transformation simplifies complex trigonometric expressions and is essential for finding maximum/minimum values, solving equations, and analyzing periodic phenomena.</p>

     <div class="formula-block">
      <strong>Main Formula:</strong>
      <ul>
       <li>$a\sin\theta + b\cos\theta = \sqrt{a^2 + b^2}\sin(\theta + \alpha)$</li>
       <li>$a\sin\theta + b\cos\theta = \sqrt{a^2 + b^2}\cos(\theta - \beta)$</li>
      </ul>
      <strong>Where:</strong>
      <ul>
       <li>$\cos\alpha = \frac{a}{\sqrt{a^2 + b^2}}, \quad \sin\alpha = \frac{b}{\sqrt{a^2 + b^2}}$</li>
       <li>$\sin\beta = \frac{a}{\sqrt{a^2 + b^2}}, \quad \cos\beta = \frac{b}{\sqrt{a^2 + b^2}}$</li>
      </ul>
     </div>
    </div>

    <div class="interactive-demo">
     <h3>Interactive Sum-to-Single Function Calculator</h3>
     <div class="demo-controls">
      <div class="control-group">
       <label for="a-input">Coefficient a:</label>
       <input type="number" id="a-input" step="0.1" value="1">
      </div>
      <div class="control-group">
       <label for="b-input">Coefficient b:</label>
       <input type="number" id="b-input" step="0.1" value="1">
      </div>
      <div class="control-group">
       <label for="theta-input">Angle θ (radians):</label>
       <input type="number" id="theta-input" step="0.1" value="0.5">
      </div>
      <button onclick="updateDemo()" style="padding: 8px 16px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">Calculate</button>
     </div>

     <div class="canvas-container">
      <canvas id="interactive-canvas" width="600" height="600"></canvas>
      <div class="canvas-legend">
       <div class="legend-item">
        <span class="legend-color" style="background: #27ae60;"></span>
        <span>Original components</span>
       </div>
       <div class="legend-item">
        <span class="legend-color" style="background: #e74c3c;"></span>
        <span>Combined function</span>
       </div>
      </div>
     </div>

     <div class="demo-output" id="demo-output">
      <strong>Current Values:</strong><br>
      a = 1, b = 1, θ = 0.5 rad<br>
      R = √(a² + b²) = 1.414<br>
      α = 0.785 rad (45°)<br>
      a sin θ + b cos θ = 1.357<br>
      R sin(θ + α) = 1.357
     </div>
    </div>

    <div class="worked-example">
     <h4>Worked Example 1: Expressing sin θ + cos θ as a single sine function</h4>
     <p>Transform the expression sin θ + cos θ into a single trigonometric function.</p>
     <p><strong>Solution:</strong></p>
     <p>Here a = 1, b = 1</p>
     <p>R = √(a² + b²) = √(1² + 1²) = √2</p>
     <p>cos α = a/R = 1/√2, sin α = b/R = 1/√2</p>
     <p>Therefore α = π/4 (45°)</p>
     <p>sin θ + cos θ = √2 sin(θ + π/4)</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 2: Finding maximum value of 3 sin θ + 4 cos θ</h4>
     <p>Find the maximum value of the expression 3 sin θ + 4 cos θ.</p>
     <p><strong>Solution:</strong></p>
     <p>R = √(3² + 4²) = √(9 + 16) = 5</p>
     <p>The expression becomes 5 sin(θ + α), where cos α = 3/5, sin α = 4/5</p>
     <p>Maximum value occurs when sin(θ + α) = 1, so maximum = 5</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 3: Solving sin θ + √3 cos θ = 2</h4>
     <p>Solve the equation sin θ + √3 cos θ = 2.</p>
     <p><strong>Solution:</strong></p>
     <p>R = √(1² + (√3)²) = √(1 + 3) = 2</p>
     <p>cos α = 1/2, sin α = √3/2, α = π/3</p>
     <p>2 sin(θ + π/3) = 2</p>
     <p>sin(θ + π/3) = 1</p>
     <p>θ + π/3 = π/2 + 2kπ or θ + π/3 = 3π/2 + 2kπ</p>
     <p>θ = π/2 - π/3 + 2kπ = π/6 + 2kπ</p>
     <p>θ = 3π/2 - π/3 + 2kπ = 7π/6 + 2kπ</p>
    </div>

    <div class="worked-example">
     <h4>Worked Example 4: Expressing 5 sin θ - 12 cos θ as a cosine function</h4>
     <p>Transform 5 sin θ - 12 cos θ into a single cosine function.</p>
     <p><strong>Solution:</strong></p>
     <p>Here a = 5, b = -12</p>
     <p>R = √(25 + 144) = √169 = 13</p>
     <p>sin β = a/R = 5/13, cos β = b/R = -12/13</p>
     <p>So β = arcsin(5/13) ≈ 22.62° (in fourth quadrant since cos β < 0)</p>
     <p>5 sin θ - 12 cos θ = 13 cos(θ - β)</p>
    </div>

    <h3>Detailed Derivation</h3>

    <div style="margin: 30px 0;">
     <strong>1. Derivation of the Main Formula</strong>
     <p>Starting with the sine addition formula:</p>
     <div class="formula-highlight">
      $$\sin(\theta + \alpha) = \sin\theta\cos\alpha + \cos\theta\sin\alpha$$
     </div>
     <p>Multiply both sides by R = √(a² + b²):</p>
     <div class="formula-highlight">
      $$R\sin(\theta + \alpha) = R\sin\theta\cos\alpha + R\cos\theta\sin\alpha$$
     </div>
     <p>Set cos α = a/R and sin α = b/R:</p>
     <div class="formula-highlight">
      $$R\sin(\theta + \alpha) = a\sin\theta + b\cos\theta$$
     </div>
     <p>Therefore:</p>
     <div class="formula-highlight">
      $$a\sin\theta + b\cos\theta = R\sin(\theta + \alpha)$$
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>2. Alternative Cosine Form</strong>
     <p>Using the cosine subtraction formula:</p>
     <div class="formula-highlight">
      $$\cos(\theta - \beta) = \cos\theta\cos\beta + \sin\theta\sin\beta$$
     </div>
     <p>Multiply by R and set sin β = a/R, cos β = b/R:</p>
     <div class="formula-highlight">
      $$a\sin\theta + b\cos\theta = R\cos(\theta - \beta)$$
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>3. Geometric Interpretation</strong>
     <p>The coefficients a and b form a right triangle with hypotenuse R:</p>
     <div class="canvas-container">
      <canvas id="triangleCanvas" width="400" height="300"></canvas>
     </div>
     <p style="text-align: center; font-style: italic;">Right triangle showing the relationship between a, b, and α</p>
    </div>

    <div style="margin: 30px 0;">
     <strong>4. Unit Circle Visualization</strong>
     <p>The transformation on the unit circle:</p>
     <div class="canvas-container">
      <canvas id="unitCircleCanvas" width="600" height="600"></canvas>
     </div>
     <p style="text-align: center; font-style: italic;">Unit circle showing how a sin θ + b cos θ becomes a single trigonometric function</p>
    </div>

    <h3>Maximum and Minimum Values</h3>

    <div style="margin: 30px 0;">
     <strong>5. Range of the Expression</strong>
     <p>Since -1 ≤ sin(φ) ≤ 1 and -1 ≤ cos(φ) ≤ 1, where φ = θ + α or θ - β:</p>
     <div class="formula-highlight">
      $$-R \leq a\sin\theta + b\cos\theta \leq R$$
     </div>
     <p>Where R = √(a² + b²)</p>
     <ul>
      <li><strong>Maximum value:</strong> R (achieved when sin(φ) = 1)</li>
      <li><strong>Minimum value:</strong> -R (achieved when sin(φ) = -1)</li>
     </ul>
    </div>

    <h3>Practice Problems</h3>

    <div class="practice-problem">
     <strong>Problem 1:</strong> Express 2 sin θ + 3 cos θ as a single sine function.
     <br><button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
     <div class="solution" id="solution1">
      <strong>Solution:</strong><br>
      R = √(4 + 9) = √13<br>
      cos α = 2/√13, sin α = 3/√13<br>
      2 sin θ + 3 cos θ = √13 sin(θ + α)
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 2:</strong> Find the maximum value of sin θ - 2 cos θ.
     <br><button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
     <div class="solution" id="solution2">
      <strong>Solution:</strong><br>
      R = √(1 + 4) = √5<br>
      Maximum value = √5
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 3:</strong> Solve the equation √3 sin θ + cos θ = 1.
     <br><button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
     <div class="solution" id="solution3">
      <strong>Solution:</strong><br>
      R = √(3 + 1) = 2<br>
      cos α = √3/2, sin α = 1/2, α = π/6<br>
      2 sin(θ + π/6) = 1<br>
      sin(θ + π/6) = 1/2<br>
      θ + π/6 = π/6 + 2kπ or θ + π/6 = 5π/6 + 2kπ<br>
      θ = 2kπ or θ = π/3 + 2kπ
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 4:</strong> Express 4 sin θ - 3 cos θ as a single cosine function.
     <br><button class="solution-button" onclick="toggleSolution(4)">Show Solution</button>
     <div class="solution" id="solution4">
      <strong>Solution:</strong><br>
      R = √(16 + 9) = 5<br>
      sin β = 4/5, cos β = -3/5<br>
      4 sin θ - 3 cos θ = 5 cos(θ - β)
     </div>
    </div>

    <div class="practice-problem">
     <strong>Problem 5:</strong> Find the minimum value of 5 sin θ + 12 cos θ.
     <br><button class="solution-button" onclick="toggleSolution(5)">Show Solution</button>
     <div class="solution" id="solution5">
      <strong>Solution:</strong><br>
      R = √(25 + 144) = 13<br>
      Minimum value = -13
     </div>
    </div>

    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Main Formula:</strong> a sin θ + b cos θ = R sin(θ + α) where R = √(a² + b²) and cos α = a/R, sin α = b/R.</li>
      <li><strong>Alternative Form:</strong> Can also be written as R cos(θ - β) where sin β = a/R, cos β = b/R.</li>
      <li><strong>Maximum/Minimum:</strong> The expression ranges from -R to R, with maximum R and minimum -R.</li>
      <li><strong>Geometric Meaning:</strong> The coefficients a and b form a right triangle with hypotenuse R, determining the phase shift α.</li>
      <li><strong>Applications:</strong> Essential for solving trigonometric equations, finding extrema of periodic functions, and simplifying complex expressions.</li>
      <li><strong>Phase Shift:</strong> The angle α (or β) represents the phase shift needed to align the combined function with a single trigonometric function.</li>
     </ul>
    </div>

    <script>
     function updateDemo() {
      const a = parseFloat(document.getElementById('a-input').value);
      const b = parseFloat(document.getElementById('b-input').value);
      const theta = parseFloat(document.getElementById('theta-input').value);
      const canvas = document.getElementById('interactive-canvas');
      const ctx = canvas.getContext('2d');
      const w = canvas.width;
      const h = canvas.height;
      const centerX = w / 2;
      const centerY = h / 2;
      const radius = 200;

      // Clear canvas
      ctx.clearRect(0, 0, w, h);

      // Unit circle
      ctx.beginPath();
      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
      ctx.strokeStyle = '#000';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Axes
      ctx.beginPath();
      ctx.moveTo(50, centerY);
      ctx.lineTo(w - 50, centerY);
      ctx.moveTo(centerX, 50);
      ctx.lineTo(centerX, h - 50);
      ctx.strokeStyle = '#666';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Arrow tips
      ctx.fillStyle = '#666';
      ctx.beginPath();
      ctx.moveTo(w - 50, centerY);
      ctx.lineTo(w - 57, centerY - 4);
      ctx.lineTo(w - 57, centerY + 4);
      ctx.fill();

      ctx.beginPath();
      ctx.moveTo(centerX, 50);
      ctx.lineTo(centerX - 4, 57);
      ctx.lineTo(centerX + 4, 57);
      ctx.fill();

      const R = Math.sqrt(a * a + b * b);
      const alpha = Math.atan2(b, a);
      const combinedAngle = theta + alpha;

      // Point at angle θ (green)
      const pThetaX = centerX + radius * Math.cos(theta);
      const pThetaY = centerY - radius * Math.sin(theta);

      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.lineTo(pThetaX, pThetaY);
      ctx.strokeStyle = '#27ae60';
      ctx.lineWidth = 2.5;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(pThetaX, pThetaY, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#27ae60';
      ctx.fill();

      // Angle arc θ
      ctx.beginPath();
      ctx.arc(centerX, centerY, 50, 0, theta, false);
      ctx.strokeStyle = '#27ae60';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Point at combined angle (red)
      const pCombinedX = centerX + radius * Math.cos(combinedAngle);
      const pCombinedY = centerY - radius * Math.sin(combinedAngle);

      ctx.beginPath();
      ctx.moveTo(centerX, centerY);
      ctx.lineTo(pCombinedX, pCombinedY);
      ctx.strokeStyle = '#e74c3c';
      ctx.lineWidth = 2.5;
      ctx.stroke();

      ctx.beginPath();
      ctx.arc(pCombinedX, pCombinedY, 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#e74c3c';
      ctx.fill();

      // Angle arc α (from θ to θ+α)
      ctx.beginPath();
      ctx.arc(centerX, centerY, 70, theta, combinedAngle, false);
      ctx.strokeStyle = '#3498db';
      ctx.lineWidth = 2;
      ctx.stroke();

      // Full angle arc θ+α
      ctx.beginPath();
      ctx.arc(centerX, centerY, 90, 0, combinedAngle, false);
      ctx.strokeStyle = '#e74c3c';
      ctx.lineWidth = 2;
      ctx.setLineDash([5, 3]);
      ctx.stroke();
      ctx.setLineDash([]);

      // Projections
      ctx.beginPath();
      ctx.moveTo(pCombinedX, pCombinedY);
      ctx.lineTo(pCombinedX, centerY);
      ctx.strokeStyle = '#e74c3c';
      ctx.lineWidth = 1.5;
      ctx.setLineDash([3, 3]);
      ctx.stroke();

      ctx.beginPath();
      ctx.moveTo(pCombinedX, pCombinedY);
      ctx.lineTo(centerX, pCombinedY);
      ctx.stroke();
      ctx.setLineDash([]);

      // Labels
      ctx.font = '16px Arial';
      ctx.fillStyle = '#27ae60';
      ctx.fillText('θ', centerX + 60, centerY - 10);

      ctx.fillStyle = '#3498db';
      ctx.fillText('α', centerX + 80, centerY - 30);

      ctx.fillStyle = '#e74c3c';
      ctx.fillText('θ + α', pCombinedX + 10, pCombinedY - 10);

      ctx.fillStyle = '#000';
      ctx.fillText('O', centerX + 10, centerY - 10);

      // Update output
      const output = document.getElementById('demo-output');
      const originalValue = a * Math.sin(theta) + b * Math.cos(theta);
      const transformedValue = R * Math.sin(combinedAngle);

      output.innerHTML = `<strong>Current Values:</strong><br>
      a = ${a}, b = ${b}, θ = ${theta.toFixed(3)} rad<br>
      R = √(a² + b²) = ${R.toFixed(3)}<br>
      α = ${alpha.toFixed(3)} rad (${(alpha * 180 / Math.PI).toFixed(1)}°)<br>
      a sin θ + b cos θ = ${originalValue.toFixed(3)}<br>
      R sin(θ + α) = ${transformedValue.toFixed(3)}`;

      // Re-render MathJax
      if (window.MathJax) {
       MathJax.typesetPromise([output]).catch(function(err) {
        console.log('MathJax re-render error:', err);
       });
      }
     }

     function toggleSolution(num) {
      const solution = document.getElementById('solution' + num);
      if (solution.style.display === 'none' || solution.style.display === '') {
       solution.style.display = 'block';
      } else {
       solution.style.display = 'none';
      }
     }

     // Initialize demo
     updateDemo();

     // Original diagrams (keeping the existing code)
     window.addEventListener('load', function() {
      // Triangle Canvas
      const canvas1 = document.getElementById('triangleCanvas');
      const ctx1 = canvas1.getContext('2d');
      const w1 = canvas1.width;
      const h1 = canvas1.height;

      const originX1 = 80;
      const originY1 = 220;
      const a = 160; // horizontal leg
      const b = 120; // vertical leg

      // Draw right triangle
      ctx1.beginPath();
      ctx1.moveTo(originX1, originY1);
      ctx.lineTo(originX1 + a, originY1); // horizontal leg
      ctx1.lineTo(originX1 + a, originY1 - b); // vertical leg
      ctx1.lineTo(originX1, originY1); // hypotenuse
      ctx1.strokeStyle = '#2196F3';
      ctx1.lineWidth = 3;
      ctx1.stroke();

      // Right angle marker
      const markerSize = 15;
      ctx1.strokeStyle = '#000';
      ctx1.lineWidth = 1.5;
      ctx1.strokeRect(originX1 + a - markerSize, originY1 - markerSize, markerSize, markerSize);

      // Draw angle arc α
      const alpha = Math.atan2(b, a);
      ctx1.beginPath();
      ctx1.arc(originX1, originY1, 40, -alpha, 0, false);
      ctx1.strokeStyle = '#e74c3c';
      ctx1.lineWidth = 2;
      ctx1.stroke();

      // Labels
      ctx1.font = '18px Arial';
      ctx1.fillStyle = '#000';
      ctx1.textAlign = 'center';

      // a label (horizontal)
      ctx1.fillText('a', originX1 + a / 2, originY1 + 25);

      // b label (vertical)
      ctx1.textAlign = 'left';
      ctx1.fillText('b', originX1 + a + 15, originY1 - b / 2);

      // hypotenuse label
      ctx1.textAlign = 'center';
      ctx1.fillText('√(a² + b²)', originX1 + a / 2 - 30, originY1 - b / 2 - 10);

      // α label
      ctx1.fillStyle = '#e74c3c';
      ctx1.fillText('α', originX1 + 55, originY1 - 10);

      // Point labels
      ctx1.font = '16px Arial';
      ctx1.fillStyle = '#000';
      ctx1.textAlign = 'right';
      ctx1.fillText('O', originX1 - 10, originY1 + 5);

      // Formulas
      ctx1.font = '14px Arial';
      ctx1.textAlign = 'left';
      ctx1.fillText('cos α = a / √(a² + b²)', 20, 30);
      ctx1.fillText('sin α = b / √(a² + b²)', 20, 50);

      // Unit Circle Canvas
      const canvas2 = document.getElementById('unitCircleCanvas');
      const ctx2 = canvas2.getContext('2d');
      const w2 = canvas2.width;
      const h2 = canvas2.height;
      const centerX = w2 / 2;
      const centerY = h2 / 2;
      const radius = 200;

      // Example: a = 1, b = 1, so α = 45°
      const exampleA = 1;
      const exampleB = 1;
      const R = Math.sqrt(exampleA * exampleA + exampleB * exampleB); // √2
      const alphaAngle = Math.atan2(exampleB, exampleA); // 45° = π/4
      const theta = Math.PI / 6; // 30° for demonstration

      // Draw circle
      ctx2.beginPath();
      ctx2.arc(centerX, centerY, radius, 0, 2 * Math.PI);
      ctx2.strokeStyle = '#000';
      ctx2.lineWidth = 2.5;
      ctx2.stroke();

      // Axes
      ctx2.beginPath();
      ctx2.moveTo(50, centerY);
      ctx2.lineTo(w2 - 50, centerY);
      ctx2.moveTo(centerX, 50);
      ctx2.lineTo(centerX, h2 - 50);
      ctx2.strokeStyle = '#666';
      ctx2.lineWidth = 1.5;
      ctx2.stroke();

      // Arrow tips
      ctx2.fillStyle = '#666';
      ctx2.beginPath();
      ctx2.moveTo(w2 - 50, centerY);
      ctx2.lineTo(w2 - 57, centerY - 4);
      ctx2.lineTo(w2 - 57, centerY + 4);
      ctx2.fill();

      ctx2.beginPath();
      ctx2.moveTo(centerX, 50);
      ctx2.lineTo(centerX - 4, 57);
      ctx2.lineTo(centerX + 4, 57);
      ctx2.fill();

      // Point at angle θ (green)
      const pThetaX = centerX + radius * Math.cos(theta);
      const pThetaY = centerY - radius * Math.sin(theta);

      ctx2.beginPath();
      ctx2.moveTo(centerX, centerY);
      ctx2.lineTo(pThetaX, pThetaY);
      ctx2.strokeStyle = '#27ae60';
      ctx2.lineWidth = 2.5;
      ctx2.stroke();

      ctx2.beginPath();
      ctx2.arc(pThetaX, pThetaY, 6, 0, 2 * Math.PI);
      ctx2.fillStyle = '#27ae60';
      ctx2.fill();

      // Angle arc θ
      ctx2.beginPath();
      ctx2.arc(centerX, centerY, 60, -theta, 0, false);
      ctx2.strokeStyle = '#27ae60';
      ctx2.lineWidth = 2;
      ctx2.stroke();

      // Point at angle θ + α (red)
      const combinedAngle = theta + alphaAngle;
      const pCombinedX = centerX + radius * Math.cos(combinedAngle);
      const pCombinedY = centerY - radius * Math.sin(combinedAngle);

      ctx2.beginPath();
      ctx2.moveTo(centerX, centerY);
      ctx2.lineTo(pCombinedX, pCombinedY);
      ctx2.strokeStyle = '#e74c3c';
      ctx2.lineWidth = 2.5;
      ctx2.stroke();

      ctx2.beginPath();
      ctx2.arc(pCombinedX, pCombinedY, 6, 0, 2 * Math.PI);
      ctx2.fillStyle = '#e74c3c';
      ctx2.fill();

      // Angle arc α (from θ to θ+α)
      ctx2.beginPath();
      ctx2.arc(centerX, centerY, 80, -combinedAngle, -theta, false);
      ctx2.strokeStyle = '#3498db';
      ctx2.lineWidth = 2;
      ctx2.stroke();

      // Angle arc θ+α (full angle)
      ctx2.beginPath();
      ctx2.arc(centerX, centerY, 100, -combinedAngle, 0, false);
      ctx2.strokeStyle = '#e74c3c';
      ctx2.lineWidth = 2;
      ctx2.setLineDash([5, 3]);
      ctx2.stroke();
      ctx2.setLineDash([]);

      // Projections
      ctx2.beginPath();
      ctx2.moveTo(pCombinedX, pCombinedY);
      ctx2.lineTo(pCombinedX, centerY);
      ctx2.strokeStyle = '#e74c3c';
      ctx2.lineWidth = 1.5;
      ctx2.setLineDash([3, 3]);
      ctx2.stroke();

      // Labels
      ctx2.font = '18px Arial';
      ctx2.textAlign = 'left';

      // Angle labels
      ctx2.fillStyle = '#27ae60';
      ctx2.fillText('θ', centerX + 70, centerY - 10);

      ctx2.fillStyle = '#3498db';
      ctx2.fillText('α', centerX + 90, centerY - 35);

      ctx2.fillStyle = '#e74c3c';
      ctx2.fillText('θ + α', centerX + 110, centerY - 50);

      // Origin label
      ctx2.fillStyle = '#000';
      ctx2.fillText('O', centerX - 25, centerY + 20);

      // Point labels
      ctx2.font = '16px Arial';
      ctx2.fillStyle = '#27ae60';
      ctx2.fillText('P(θ)', pThetaX + 10, pThetaY - 10);

      ctx2.fillStyle = '#e74c3c';
      ctx2.fillText('Q(θ+α)', pCombinedX + 10, pCombinedY - 10);

      // sin projection label
      ctx2.fillStyle = '#e74c3c';
      ctx2.fillText('sin(θ+α)', pCombinedX + 10, (pCombinedY + centerY) / 2);

      // Formula box
      ctx2.fillStyle = 'rgba(255, 255, 255, 0.9)';
      ctx2.fillRect(10, 80, 350, 100);
      ctx2.strokeStyle = '#000';
      ctx2.lineWidth = 2;
      ctx2.strokeRect(10, 80, 350, 100);

      ctx2.font = '14px Arial';
      ctx2.fillStyle = '#000';
      ctx2.fillText('a sin θ + b cos θ = √(a² + b²) sin(θ + α)', 20, 110);
      ctx2.fillText('Example: sin θ + cos θ = √2 sin(θ + 45°)', 20, 135);
      ctx2.fillText('Maximum value: √(a² + b²)', 20, 160);
     });
    </script>
   </div>
  </div>
 </body>
</html>
