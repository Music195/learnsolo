<!DOCTYPE html>
<!-- tags: Mathematics -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Definite Integral: Substitution Method
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .solution-btn {
     background-color: #4CAF50;
     color: white;
     border: none;
     padding: 8px 16px;
     text-align: center;
     text-decoration: none;
     display: inline-block;
     font-size: 14px;
     margin: 10px 0;
     cursor: pointer;
     border-radius: 4px;
     transition: background-color 0.3s;
   }
   
   .solution-btn:hover {
     background-color: #45a049;
   }
   
   .solution {
     background-color: #f9f9f9;
     border-left: 4px solid #4CAF50;
     padding: 15px;
     margin: 10px 0;
     border-radius: 0 4px 4px 0;
   }
   
   .problem-item {
     margin-bottom: 20px;
     padding: 15px;
     border: 1px solid #ddd;
     border-radius: 8px;
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Integration">
   Definite Integral: Substitution Method
  </div>
  <div class="container">
   <div class="main-content">
    <div class="section">
     <h2>Definite Integral Substitution Method</h2>
     <p>The substitution method (also called u-substitution) for definite integrals is a powerful technique that allows us to evaluate integrals by making a substitution that simplifies the integrand. This method is particularly useful when the integral involves composite functions.</p>
     
     <div class="highlight-box">
      <strong>Key Idea:</strong>
      <p>When we make a substitution in a definite integral, we must also change the limits of integration to match the new variable. This ensures we integrate over the correct interval in the new variable space.</p>
     </div>
    </div>

    <div class="section">
     <h2>The Substitution Rule</h2>
     <div class="highlight-box">
      <strong>Definite Integral Substitution Rule:</strong>
      <p>If \( x = g(t) \) is a differentiable function and \( f \) is continuous on the range of \( g \), then:</p>
      <p>\( \int_a^b f(g(t)) g'(t) \, dt = \int_{g^{-1}(a)}^{g^{-1}(b)} f(u) \, du \)</p>
      
      <strong>More commonly written as:</strong>
      <p>Let \( u = g(x) \), then \( du = g'(x) \, dx \)</p>
      <p>When \( x = a \), \( u = g(a) \)</p>
      <p>When \( x = b \), \( u = g(b) \)</p>
      <p>Therefore: \( \int_a^b f(g(x)) g'(x) \, dx = \int_{g(a)}^{g(b)} f(u) \, du \)</p>
     </div>
    </div>

    <div class="section">
     <h2>Step-by-Step Procedure</h2>
     <ol>
      <li><strong>Choose a substitution:</strong> Look for a composite function where the derivative of the "inside" function appears in the integrand.</li>
      <li><strong>Compute du:</strong> Differentiate your substitution to find du in terms of dx.</li>
      <li><strong>Change the limits:</strong> Substitute the original limits into your u expression to find the new limits.</li>
      <li><strong>Rewrite the integral:</strong> Express the entire integrand in terms of u and du.</li>
      <li><strong>Evaluate:</strong> Integrate with respect to u and evaluate between the new limits.</li>
     </ol>
    </div>

    <div class="section">
     <h2>Examples</h2>
     
     <h3>Example 1: Basic Substitution</h3>
     <p>Evaluate \( \int_0^1 x(x^2 + 1)^3 \, dx \)</p>
     
     <div class="highlight-box">
      <strong>Solution:</strong>
      <p>Let \( u = x^2 + 1 \), then \( du = 2x \, dx \), so \( \frac{1}{2} du = x \, dx \)</p>
      <p>When x = 0: u = 0² + 1 = 1</p>
      <p>When x = 1: u = 1² + 1 = 2</p>
      <p>\( \int_0^1 x(x^2 + 1)^3 \, dx = \int_1^2 (u)^3 \cdot \frac{1}{2} \, du = \frac{1}{2} \int_1^2 u^3 \, du = \frac{1}{2} \left[ \frac{u^4}{4} \right]_1^2 = \frac{1}{8} (16 - 1) = \frac{15}{8} \)</p>
     </div>
     
     <h3>Example 2: Trigonometric Substitution</h3>
     <p>Evaluate \( \int_0^{\pi/4} \sec^2 \theta \tan \theta \, d\theta \)</p>
     
     <div class="highlight-box">
      <strong>Solution:</strong>
      <p>Let \( u = \sec \theta \), then \( du = \sec \theta \tan \theta \, d\theta \)</p>
      <p>When θ = 0: u = sec(0) = 1</p>
      <p>When θ = π/4: u = sec(π/4) = √2</p>
      <p>\( \int_0^{\pi/4} \sec^2 \theta \tan \theta \, d\theta = \int_1^{\sqrt{2}} u \, du = \left[ \frac{u^2}{2} \right]_1^{\sqrt{2}} = \frac{1}{2} (2 - 1) = \frac{1}{2} \)</p>
     </div>
    </div>

    <div class="section">
     <h2>Visual Guide</h2>
     <p>The substitution method transforms the integral from one coordinate system to another:</p>
     <canvas id="substitutionCanvas" width="600" height="300" style="border: 1px solid #ccc; margin: 20px 0;"></canvas>
     <p>The canvas above demonstrates how substitution changes the limits and the integrand.</p>
    </div>

    <div class="section">
     <h2>Practice Problems</h2>
     
     <div class="problem-item">
      <h3>Problem 1</h3>
      <p>Evaluate \( \int_1^2 \frac{x}{x^2 + 1} \, dx \)</p>
      <button class="solution-btn" onclick="toggleSolution(1)">Show Solution</button>
      <div class="solution" id="solution-1" style="display: none;">
       <strong>Solution:</strong>
       <p>Let \( u = x^2 + 1 \), then \( du = 2x \, dx \), so \( \frac{1}{2} du = x \, dx \)</p>
       <p>When x = 1: u = 1² + 1 = 2</p>
       <p>When x = 2: u = 2² + 1 = 5</p>
       <p>\( \int_1^2 \frac{x}{x^2 + 1} \, dx = \int_2^5 \frac{1}{u} \cdot \frac{1}{2} \, du = \frac{1}{2} \int_2^5 \frac{1}{u} \, du = \frac{1}{2} [\ln|u|]_2^5 = \frac{1}{2} (\ln 5 - \ln 2) = \frac{1}{2} \ln \frac{5}{2} \)</p>
      </div>
     </div>
     
     <div class="problem-item">
      <h3>Problem 2</h3>
      <p>Evaluate \( \int_0^1 \sqrt{2x + 1} \, dx \)</p>
      <button class="solution-btn" onclick="toggleSolution(2)">Show Solution</button>
      <div class="solution" id="solution-2" style="display: none;">
       <strong>Solution:</strong>
       <p>Let \( u = 2x + 1 \), then \( du = 2 \, dx \), so \( \frac{1}{2} du = dx \)</p>
       <p>When x = 0: u = 2(0) + 1 = 1</p>
       <p>When x = 1: u = 2(1) + 1 = 3</p>
       <p>\( \int_0^1 \sqrt{2x + 1} \, dx = \int_1^3 \sqrt{u} \cdot \frac{1}{2} \, du = \frac{1}{2} \int_1^3 u^{1/2} \, du = \frac{1}{2} \left[ \frac{u^{3/2}}{3/2} \right]_1^3 = \frac{1}{2} \cdot \frac{2}{3} [u^{3/2}]_1^3 = \frac{1}{3} (3^{3/2} - 1^{3/2}) = \frac{1}{3} (3\sqrt{3} - 1) \)</p>
      </div>
     </div>
     
     <div class="problem-item">
      <h3>Problem 3</h3>
      <p>Evaluate \( \int_1^e \frac{\ln x}{x} \, dx \)</p>
      <button class="solution-btn" onclick="toggleSolution(3)">Show Solution</button>
      <div class="solution" id="solution-3" style="display: none;">
       <strong>Solution:</strong>
       <p>Let \( u = \ln x \), then \( du = \frac{1}{x} \, dx \)</p>
       <p>When x = 1: u = ln(1) = 0</p>
       <p>When x = e: u = ln(e) = 1</p>
       <p>\( \int_1^e \frac{\ln x}{x} \, dx = \int_0^1 u \, du = \left[ \frac{u^2}{2} \right]_0^1 = \frac{1}{2} (1^2 - 0^2) = \frac{1}{2} \)</p>
      </div>
     </div>
    </div>

    <div class="section">
     <h2>Key Takeaways</h2>
     <div class="key-takeaways">
      <ul>
       <li>Substitution method transforms definite integrals by changing variables</li>
       <li>Always change the limits of integration when making a substitution</li>
       <li>Look for composite functions where the derivative of the "inside" function appears</li>
       <li>The substitution must be differentiable and the function must be continuous</li>
       <li>After substitution, integrate with respect to the new variable between the new limits</li>
       <li>Common substitutions include trigonometric functions, exponentials, and logarithms</li>
       <li>Always verify that your substitution is correct by checking the differential</li>
      </ul>
     </div>
    </div>
   </div>
  </div>
  <script>
   // Canvas visualization for substitution method
   const canvas = document.getElementById('substitutionCanvas');
   const ctx = canvas.getContext('2d');
   
   // Set up coordinate system
   const width = canvas.width;
   const height = canvas.height;
   const centerX = width / 2;
   const centerY = height / 2;
   
   // Scale factors
   const scaleX = 50;
   const scaleY = 50;
   
   function drawGrid() {
    ctx.strokeStyle = '#e0e0e0';
    ctx.lineWidth = 1;
    
    // Vertical lines
    for (let x = centerX; x < width; x += scaleX) {
     ctx.beginPath();
     ctx.moveTo(x, 0);
     ctx.lineTo(x, height);
     ctx.stroke();
    }
    for (let x = centerX; x > 0; x -= scaleX) {
     ctx.beginPath();
     ctx.moveTo(x, 0);
     ctx.lineTo(x, height);
     ctx.stroke();
    }
    
    // Horizontal lines
    for (let y = centerY; y < height; y += scaleY) {
     ctx.beginPath();
     ctx.moveTo(0, y);
     ctx.lineTo(width, y);
     ctx.stroke();
    }
    for (let y = centerY; y > 0; y -= scaleY) {
     ctx.beginPath();
     ctx.moveTo(0, y);
     ctx.lineTo(width, y);
     ctx.stroke();
    }
   }
   
   function drawAxes() {
    ctx.strokeStyle = '#000';
    ctx.lineWidth = 2;
    
    // X-axis
    ctx.beginPath();
    ctx.moveTo(0, centerY);
    ctx.lineTo(width, centerY);
    ctx.stroke();
    
    // Y-axis
    ctx.beginPath();
    ctx.moveTo(centerX, 0);
    ctx.lineTo(centerX, height);
    ctx.stroke();
    
    // Axis labels
    ctx.fillStyle = '#000';
    ctx.font = '12px Arial';
    ctx.textAlign = 'center';
    
    // X-axis labels
    for (let i = -6; i <= 6; i++) {
     if (i !== 0) {
      const x = centerX + i * scaleX;
      ctx.fillText(i.toString(), x, centerY + 15);
     }
    }
    
    // Y-axis labels
    for (let i = -3; i <= 3; i++) {
     if (i !== 0) {
      const y = centerY - i * scaleY;
      ctx.fillText(i.toString(), centerX - 15, y + 4);
     }
    }
   }
   
   function plotFunction(func, color, label, a, b) {
    ctx.strokeStyle = color;
    ctx.lineWidth = 2;
    ctx.beginPath();
    
    let firstPoint = true;
    for (let x = a; x <= b; x += 0.1) {
     const y = func(x);
     const canvasX = centerX + x * scaleX;
     const canvasY = centerY - y * scaleY;
     
     if (firstPoint) {
      ctx.moveTo(canvasX, canvasY);
      firstPoint = false;
     } else {
      ctx.lineTo(canvasX, canvasY);
     }
    }
    ctx.stroke();
    
    // Add label
    ctx.fillStyle = color;
    ctx.font = '14px Arial';
    ctx.textAlign = 'left';
    ctx.fillText(label, 10, 30 + (color === '#ff6b6b' ? 0 : color === '#4ecdc4' ? 20 : 40));
   }
   
   function fillArea(func, a, b, color) {
    ctx.fillStyle = color;
    ctx.beginPath();
    
    // Start from a
    ctx.moveTo(centerX + a * scaleX, centerY);
    
    // Plot the function from a to b
    for (let x = a; x <= b; x += 0.1) {
     const y = func(x);
     const canvasX = centerX + x * scaleX;
     const canvasY = centerY - y * scaleY;
     ctx.lineTo(canvasX, canvasY);
    }
    
    // Close the path back to x-axis
    ctx.lineTo(centerX + b * scaleX, centerY);
    ctx.closePath();
    ctx.fill();
   }
   
   function drawSubstitutionDemo() {
    // Clear canvas
    ctx.clearRect(0, 0, width, height);
    
    // Draw grid and axes
    drawGrid();
    drawAxes();
    
    // Define functions
    const f = x => x * (x * x + 1) ** 3; // x(x²+1)³
    const g = x => (x * x + 1) ** 3; // (x²+1)³
    
    // Plot functions
    plotFunction(f, '#ff6b6b', 'f(x) = x(x²+1)³', 0, 1);
    plotFunction(g, '#4ecdc4', 'g(u) = u³', 1, 2);
    
    // Fill areas to demonstrate substitution
    fillArea(f, 0, 1, 'rgba(255, 107, 107, 0.3)'); // Area for f from 0 to 1
    fillArea(x => x ** 3, 1, 2, 'rgba(78, 205, 196, 0.3)'); // Area for g from 1 to 2
    
    // Draw vertical lines to show limits transformation
    ctx.strokeStyle = '#333';
    ctx.setLineDash([5, 5]);
    ctx.beginPath();
    ctx.moveTo(centerX + 0 * scaleX, centerY - f(0) * scaleY);
    ctx.lineTo(centerX + 0 * scaleX, centerY);
    ctx.moveTo(centerX + 1 * scaleX, centerY - f(1) * scaleY);
    ctx.lineTo(centerX + 1 * scaleX, centerY);
    ctx.stroke();
    ctx.setLineDash([]);
    
    // Draw transformed limits
    ctx.strokeStyle = '#8e44ad';
    ctx.setLineDash([2, 2]);
    ctx.beginPath();
    ctx.moveTo(centerX + 1 * scaleX, centerY - 1 ** 3 * scaleY);
    ctx.lineTo(centerX + 1 * scaleX, centerY);
    ctx.moveTo(centerX + 2 * scaleX, centerY - 2 ** 3 * scaleY);
    ctx.lineTo(centerX + 2 * scaleX, centerY);
    ctx.stroke();
    ctx.setLineDash([]);
    
    // Add labels
    ctx.fillStyle = '#333';
    ctx.font = '14px Arial';
    ctx.textAlign = 'center';
    ctx.fillText('x-limits: 0 to 1', centerX + 0.5 * scaleX, centerY + 25);
    ctx.fillText('u-limits: 1 to 2', centerX + 1.5 * scaleX, centerY + 45);
    
    // Add integral notation
    ctx.fillStyle = '#000';
    ctx.font = '16px Arial';
    ctx.textAlign = 'center';
    ctx.fillText('Substitution Method: Variable Transformation', centerX, 20);
    
    ctx.font = '12px Arial';
    ctx.fillText('∫₀¹ x(x²+1)³ dx = ∫₁² u³ · (1/2) du', centerX, height - 30);
   }
   
   // Solution toggle functionality
   function toggleSolution(problemNumber) {
    const solution = document.getElementById(`solution-${problemNumber}`);
    const button = solution.previousElementSibling;
    
    if (solution.style.display === 'none') {
     solution.style.display = 'block';
     button.textContent = 'Hide Solution';
    } else {
     solution.style.display = 'none';
     button.textContent = 'Show Solution';
    }
   }
   
   // Initialize visualization when page loads
   window.addEventListener('load', drawSubstitutionDemo);
  </script>
 </body>
</html>
