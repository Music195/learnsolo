<!DOCTYPE html>
<!-- tags: Mathematics -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Chain Rule and Inverse Function Rule for Derivatives
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
 </head>
 <body>
  <div class="fancy-title" data-topic="Mathematics">
   Chain Rule and Inverse Function Rule for Derivatives
  </div>
  <div class="container">
   <div class="main-content">
    <div class="title">Chain Rule and Inverse Function Rule for Derivatives</div>
    
    <div class="formula-block">
     <div style="font-size: 1.15em; color: #333; text-align: center; margin-bottom: 10px;">
        The Chain Rule:
     </div>
     <div class="formula-math">
        $$\dfrac{dy}{dx} = \dfrac{dy}{du} \cdot \dfrac{du}{dx}$$
     </div>
     <div style="text-align: center; margin-top: 10px;">
        For composite functions: $\dfrac{d}{dx}[f(g(x))] = f'(g(x)) \cdot g'(x)$
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>1. Understanding the Chain Rule</strong>
     <div class="graybox">
        <strong>Composite Function:</strong> $y = f(g(x))$<br>
        Think of it as: $x \to u \to y$ where $u = g(x)$ and $y = f(u)$<br><br>
        <strong>Chain Rule Intuition:</strong> The rate of change of y with respect to x is the rate of change of y with respect to u, multiplied by the rate of change of u with respect to x.
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>2. Visual Understanding</strong>
     <div style="text-align: center; margin: 15px 0;">
        <canvas id="chainCanvas" width="700" height="400"></canvas>
     </div>
     <p style="text-align: center; font-style: italic;">Chain rule: f(g(x)) where f(u) = u² and g(x) = x + 1</p>
    </div>

    <div style="margin: 30px 0;">
     <strong>3. Step-by-Step Examples</strong>
     
     <div class="graybox">
        <strong>Example 1: Power Functions</strong><br>
        Find $\dfrac{d}{dx}((x^2 + 3x + 1)^5)$<br><br>
        <strong>Solution:</strong><br>
        Let $u = x^2 + 3x + 1$, so $y = u^5$<br>
        $\dfrac{du}{dx} = 2x + 3$<br>
        $\dfrac{dy}{du} = 5u^4$<br><br>
        $\dfrac{dy}{dx} = \dfrac{dy}{du} \cdot \dfrac{du}{dx} = 5u^4 \cdot (2x + 3) = 5(x^2 + 3x + 1)^4 \cdot (2x + 3)$
     </div>

     <div class="graybox" style="margin-top: 15px;">
        <strong>Example 2: Trigonometric Functions</strong><br>
        Find $\dfrac{d}{dx}(\sin(x^3 + 2x))$<br><br>
        <strong>Solution:</strong><br>
        Let $u = x^3 + 2x$, so $y = \sin u$<br>
        $\dfrac{du}{dx} = 3x^2 + 2$<br>
        $\dfrac{dy}{du} = \cos u$<br><br>
        $\dfrac{dy}{dx} = \cos u \cdot (3x^2 + 2) = \cos(x^3 + 2x) \cdot (3x^2 + 2)$
     </div>

     <div class="graybox" style="margin-top: 15px;">
        <strong>Example 3: Exponential Functions</strong><br>
        Find $\dfrac{d}{dx}(e^{\sin x})$<br><br>
        <strong>Solution:</strong><br>
        Let $u = \sin x$, so $y = e^u$<br>
        $\dfrac{du}{dx} = \cos x$<br>
        $\dfrac{dy}{du} = e^u$<br><br>
        $\dfrac{dy}{dx} = e^u \cdot \cos x = e^{\sin x} \cdot \cos x$
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>4. Inverse Function Rule</strong>
     <div class="graybox">
        <strong>If $y = f(x)$ has an inverse function $x = f^{-1}(y)$, then:</strong><br>
        $\dfrac{dx}{dy} = \dfrac{1}{\dfrac{dy}{dx}}$<br><br>
        <strong>Alternative notation:</strong> $\dfrac{d}{dx}f^{-1}(x) = \dfrac{1}{f'(f^{-1}(x))}$<br><br>
        <strong>Example:</strong> If $y = \sin x$, then $x = \arcsin y$<br>
        $\dfrac{dx}{dy} = \dfrac{1}{\cos x} = \dfrac{1}{\sqrt{1 - \sin^2 x}} = \dfrac{1}{\sqrt{1 - y^2}}$
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>5. Common Chain Rule Patterns</strong>
     <div class="graybox">
        <ul style="line-height: 1.8;">
         <li><strong>Power of a function:</strong> $\dfrac{d}{dx}[u^n] = n u^{n-1} u'$</li>
         <li><strong>Exponential:</strong> $\dfrac{d}{dx}[e^u] = e^u u'$</li>
         <li><strong>Natural log:</strong> $\dfrac{d}{dx}[\ln u] = \dfrac{1}{u} u'$</li>
         <li><strong>Trigonometric:</strong> $\dfrac{d}{dx}[\sin u] = \cos u \cdot u'$, $\dfrac{d}{dx}[\cos u] = -\sin u \cdot u'$</li>
         <li><strong>General form:</strong> $\dfrac{d}{dx}[f(u)] = f'(u) \cdot u'$</li>
        </ul>
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>6. Multiple Chain Rules</strong>
     <div class="graybox">
        <strong>Three functions:</strong> $y = f(g(h(x)))$<br>
        $\dfrac{dy}{dx} = f'(g(h(x))) \cdot g'(h(x)) \cdot h'(x)$<br><br>
        <strong>Example:</strong> $\dfrac{d}{dx}(\sin(x^2 + 1))$<br>
        $= \cos(x^2 + 1) \cdot 2x$
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>7. Applications</strong>
     <div class="graybox">
        <strong>Physics:</strong> Related rates, velocity of moving objects with changing parameters
     </div>
     <div class="graybox" style="margin-top: 15px;">
        <strong>Biology:</strong> Population growth models, enzyme kinetics
     </div>
     <div class="graybox" style="margin-top: 15px;">
        <strong>Economics:</strong> Marginal functions with composite relationships
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>8. Practice Problems</strong>
     <div class="graybox">
        <strong>Problem 1:</strong> Differentiate $(x^3 + 2x)^4$ using the chain rule.
     </div>
     <div class="graybox" style="margin-top: 15px;">
        <strong>Problem 2:</strong> Find $\dfrac{d}{dx}[\ln(\cos x)]$.
     </div>
     <div class="graybox" style="margin-top: 15px;">
        <strong>Problem 3:</strong> Use the inverse function rule to find $\dfrac{d}{dx}(\arctan x)$.
     </div>
    </div>

    <div style="margin: 30px 0;">
     <strong>9. Key Takeaways</strong>
     <div class="graybox">
        <ul style="line-height: 2;">
         <li>Chain rule: derivative of composite is product of derivatives</li>
         <li>Identify the "inside" function and "outside" function</li>
         <li>Inverse function rule: reciprocal of original derivative</li>
         <li>Multiple chain rules for deeply nested functions</li>
         <li>Practice recognizing patterns to apply rules efficiently</li>
         <li>Always check domain restrictions for inverse functions</li>
        </ul>
     </div>
    </div>
   </div>
  </div>
  <script>
   window.addEventListener('load', function() {
      const canvas = document.getElementById('chainCanvas');
      const ctx = canvas.getContext('2d');
      const w = canvas.width;
      const h = canvas.height;
      const padding = 60;
      const graphW = w - 2 * padding;
      const graphH = h - 2 * padding;
      const xMin = -2;
      const xMax = 4;
      const yMin = -1;
      const yMax = 12;

      // Clear canvas with white background
      ctx.fillStyle = 'white';
      ctx.fillRect(0, 0, w, h);

      function toCanvasX(x) {
         return padding + ((x - xMin) / (xMax - xMin)) * graphW;
      }

      function toCanvasY(y) {
         return h - padding - ((y - yMin) / (yMax - yMin)) * graphH;
      }

      // Draw background grid
      ctx.save();
      ctx.strokeStyle = '#f0f0f0';
      ctx.lineWidth = 0.5;
      for (let x = -2; x <= 4; x += 0.5) {
         ctx.beginPath();
         ctx.moveTo(toCanvasX(x), padding);
         ctx.lineTo(toCanvasX(x), h - padding);
         ctx.stroke();
      }
      for (let y = -1; y <= 12; y += 1) {
         ctx.beginPath();
         ctx.moveTo(padding, toCanvasY(y));
         ctx.lineTo(w - padding, toCanvasY(y));
         ctx.stroke();
      }
      ctx.restore();

      // Draw axes
      ctx.save();
      ctx.strokeStyle = '#333';
      ctx.lineWidth = 2;
      // x-axis
      ctx.beginPath();
      ctx.moveTo(toCanvasX(xMin), toCanvasY(0));
      ctx.lineTo(toCanvasX(xMax), toCanvasY(0));
      ctx.stroke();
      // y-axis
      ctx.beginPath();
      ctx.moveTo(toCanvasX(0), toCanvasY(yMin));
      ctx.lineTo(toCanvasX(0), toCanvasY(yMax));
      ctx.stroke();
      ctx.restore();

      // Inner function: u = g(x) = x + 1
      ctx.save();
      ctx.strokeStyle = '#4caf50';
      ctx.lineWidth = 3;
      ctx.setLineDash([8, 4]);
      ctx.beginPath();
      for (let x = -2; x <= 4; x += 0.02) {
         const u = x + 1;
         if (x === -2) ctx.moveTo(toCanvasX(x), toCanvasY(u));
         else ctx.lineTo(toCanvasX(x), toCanvasY(u));
      }
      ctx.stroke();
      ctx.setLineDash([]);
      ctx.restore();

      // Outer function: y = f(u) = u²
      ctx.save();
      ctx.strokeStyle = '#2196f3';
      ctx.lineWidth = 3;
      ctx.setLineDash([8, 4]);
      ctx.beginPath();
      for (let u = -1; u <= 5; u += 0.02) {
         const y = u * u;
         if (u === -1) ctx.moveTo(toCanvasX(u), toCanvasY(y));
         else ctx.lineTo(toCanvasX(u), toCanvasY(y));
      }
      ctx.stroke();
      ctx.setLineDash([]);
      ctx.restore();

      // Composite function: y = f(g(x)) = (x + 1)²
      ctx.save();
      ctx.strokeStyle = '#ff9800';
      ctx.lineWidth = 4;
      ctx.beginPath();
      for (let x = -2; x <= 4; x += 0.02) {
         const y = (x + 1) * (x + 1);
         if (x === -2) ctx.moveTo(toCanvasX(x), toCanvasY(y));
         else ctx.lineTo(toCanvasX(x), toCanvasY(y));
      }
      ctx.stroke();
      ctx.restore();

      // Derivative of composite: d/dx[(x+1)²] = 2(x+1)
      ctx.save();
      ctx.strokeStyle = '#9c27b0';
      ctx.lineWidth = 3;
      ctx.setLineDash([12, 6]);
      ctx.beginPath();
      for (let x = -2; x <= 4; x += 0.02) {
         const y = 2 * (x + 1);
         if (x === -2) ctx.moveTo(toCanvasX(x), toCanvasY(y));
         else ctx.lineTo(toCanvasX(x), toCanvasY(y));
      }
      ctx.stroke();
      ctx.setLineDash([]);
      ctx.restore();

      // Point of interest at x = 1
      const x_point = 1;
      const u_point = x_point + 1; // g(1) = 2
      const y_point = u_point * u_point; // f(2) = 4
      const derivative_point = 2 * u_point; // f'(2) * g'(1) = 4 * 1 = 4

      // Mark the point on composite function
      ctx.save();
      ctx.fillStyle = '#ff9800';
      ctx.beginPath();
      ctx.arc(toCanvasX(x_point), toCanvasY(y_point), 6, 0, 2 * Math.PI);
      ctx.fill();
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 2;
      ctx.stroke();
      ctx.restore();

      // Labels
      ctx.save();
      ctx.font = 'bold 16px Arial';
      
      // Function labels
      ctx.fillStyle = '#4caf50';
      ctx.fillText('Inner: g(x) = x + 1', padding + 20, padding - 30);
      ctx.fillStyle = '#2196f3';
      ctx.fillText('Outer: f(u) = u²', padding + 20, padding - 10);
      ctx.fillStyle = '#ff9800';
      ctx.fillText('Composite: f(g(x)) = (x + 1)²', padding + 20, padding + 10);
      ctx.fillStyle = '#9c27b0';
      ctx.fillText('Derivative: 2(x + 1)', padding + 20, padding + 30);
      
      // Point information
      ctx.font = '14px Arial';
      ctx.fillStyle = '#333';
      ctx.fillText(`At x = ${x_point}:`, w/2 + 50, h - 80);
      ctx.fillText(`g(${x_point}) = ${u_point}`, w/2 + 50, h - 60);
      ctx.fillText(`f(${u_point}) = ${y_point}`, w/2 + 50, h - 40);
      ctx.fillText(`f'(g(${x_point})) × g'(${x_point}) = 2 × ${u_point} × 1 = ${derivative_point}`, w/2 + 50, h - 20);
      
      ctx.restore();

      // Legend
      ctx.save();
      ctx.font = '14px Arial';
      ctx.fillStyle = '#4caf50';
      ctx.fillText('--- Inner function: g(x)', padding, h - 50);
      ctx.fillStyle = '#2196f3';
      ctx.fillText('--- Outer function: f(u)', padding, h - 30);
      ctx.fillStyle = '#ff9800';
      ctx.fillText('— Composite: f(g(x))', padding, h - 10);
      ctx.fillStyle = '#9c27b0';
      ctx.fillText('--- Derivative', padding + 250, h - 50);
      ctx.restore();
   });
  </script>
 </body>
</html>
