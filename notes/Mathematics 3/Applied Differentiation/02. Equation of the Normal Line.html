<!DOCTYPE html>
<!-- tags: Mathematics -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Equation of the Normal Line
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
   .interactive-demo {
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    border-radius: 12px;
    padding: 20px;
    margin: 20px 0;
    border: 2px solid #e1e8ed;
   }
   .demo-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 15px;
   }
   .demo-input-group {
    display: flex;
    flex-direction: column;
    min-width: 200px;
   }
   .demo-input-group label {
    font-weight: bold;
    margin-bottom: 5px;
    color: #2c3e50;
   }
   .demo-input {
    padding: 8px;
    border: 2px solid #bdc3c7;
    border-radius: 6px;
    font-size: 14px;
    transition: border-color 0.3s;
   }
   .demo-input:focus {
    outline: none;
    border-color: #3498db;
   }
   .demo-button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    transition: transform 0.2s;
   }
   .demo-button:hover {
    transform: translateY(-2px);
   }
   .demo-result {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    border-left: 4px solid #3498db;
   }
   .math-foundation {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .worked-example {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .practice-problem {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    color: white;
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .solution-toggle {
    background: #2c3e50;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
    transition: background-color 0.3s;
   }
   .solution-toggle:hover {
    background: #34495e;
   }
   .solution-content {
    display: none;
    background: rgba(255, 255, 255, 0.9);
    color: #2c3e50;
    padding: 15px;
    border-radius: 8px;
    margin-top: 10px;
   }
   .key-takeaways {
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    padding: 20px;
    border-radius: 12px;
    margin: 20px 0;
   }
   .key-takeaways h3 {
    color: #2c3e50;
    margin-top: 0;
   }
   .key-takeaways ul {
    color: #2c3e50;
   }
   .normal-concepts {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 15px;
    margin: 20px 0;
   }
   .concept-card {
    background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #e67e22;
   }
   .concept-card h4 {
    margin-top: 0;
    color: #2c3e50;
   }
   .math-orange {
    color: #e67e22;
    font-weight: bold;
   }
   .visualization-section {
    background: white;
    border-radius: 8px;
    padding: 15px;
    margin: 15px 0;
    border: 2px solid #ecf0f1;
    text-align: center;
   }
   canvas {
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    margin: 10px 0;
   }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Mathematics">
   Equation of the Normal Line
  </div>
  <div class="container">
   <div class="main-content">
    <div class="section-title">
     Equation of the Normal Line
    </div>

    <div class="math-foundation">
     <h3>Mathematical Foundations</h3>
     <p>The normal line to a curve at a given point is the line perpendicular to the tangent line at that point. This concept is crucial in differential calculus and has important applications in physics, optics, mechanics, and optimization problems.</p>

     <div class="normal-concepts">
      <div class="concept-card">
       <h4>Normal Line Definition</h4>
       <p>Line perpendicular to tangent line</p>
       <p>Slope is negative reciprocal</p>
       <p>Forms 90° angle with tangent</p>
       <p>Fundamental geometric property</p>
      </div>

      <div class="concept-card">
       <h4>Perpendicularity Condition</h4>
       <p>$m_{\text{tangent}} \cdot m_{\text{normal}} = -1$</p>
       <p>$m_{\text{normal}} = -\frac{1}{m_{\text{tangent}}}$</p>
       <p>Product of slopes equals -1</p>
       <p>Right angle relationship</p>
      </div>

      <div class="concept-card">
       <h4>Normal Line Formula</h4>
       <p>$y - f(a) = -\frac{1}{f'(a)}(x - a)$</p>
       <p>Requires $f'(a) \neq 0$</p>
       <p>Point-slope form</p>
       <p>Direct relationship to derivative</p>
      </div>

      <div class="concept-card">
       <h4>Special Cases</h4>
       <p>Horizontal tangent → Vertical normal</p>
       <p>Vertical tangent → Horizontal normal</p>
       <p>Undefined slopes handled separately</p>
       <p>Critical points analysis</p>
      </div>
     </div>
    </div>

    <div class="interactive-demo">
     <h3>Interactive Normal Line Calculator</h3>
     <p>Enter a function and a point to see both tangent and normal lines with their equations.</p>

     <div class="demo-controls">
      <div class="demo-input-group">
       <label for="function-input">Function f(x):</label>
       <input type="text" id="function-input" class="demo-input" value="x^2" placeholder="e.g., x^2, sin(x), e^x">
      </div>
      <div class="demo-input-group">
       <label for="point-input">Point of tangency (a):</label>
       <input type="number" id="point-input" class="demo-input" value="1" step="0.1" placeholder="e.g., 1, 2.5, -1">
      </div>
      <button onclick="calculateNormal()" class="demo-button">Calculate Normal Line</button>
     </div>

     <div class="demo-result">
      <h4>Normal Line Results:</h4>
      <p><strong>Function:</strong> <span id="function-display">f(x) = x²</span></p>
      <p><strong>Point of tangency:</strong> <span id="point-display">(a, f(a)) = (1, 1)</span></p>
      <p><strong>Derivative:</strong> <span id="derivative-display">f'(x) = 2x</span></p>
      <p><strong>Tangent slope:</strong> <span id="tangent-slope-display">f'(1) = 2</span></p>
      <p><strong>Normal slope:</strong> <span id="normal-slope-display">-1/f'(1) = -0.5</span></p>
      <p><strong>Tangent line:</strong> <span id="tangent-equation">y - 1 = 2(x - 1)</span></p>
      <p><strong>Normal line:</strong> <span id="normal-equation">y - 1 = -0.5(x - 1)</span></p>
      <p><strong>Verification:</strong> <span id="verification">2 × (-0.5) = -1 ✓</span></p>
     </div>

     <div class="visualization-section">
      <h4>Visual Representation:</h4>
      <canvas id="interactiveCanvas" width="600" height="400"></canvas>
      <p><em>The orange line is the tangent, the cyan line is the normal - they form a right angle</em></p>
     </div>
    </div>

    <div class="worked-example">
     <h3>Worked Examples</h3>

     <div style="margin-bottom: 20px;">
      <h4>Example 1: Quadratic Function</h4>
      <p>Find the equation of the normal line to $f(x) = x^2$ at x = 2.</p>
      <p><strong>Step 1:</strong> Find f(2) = (2)² = 4. Point is (2, 4)</p>
      <p><strong>Step 2:</strong> Find f'(x) = 2x. Tangent slope f'(2) = 2×2 = 4</p>
      <p><strong>Step 3:</strong> Normal slope = -1/4 = -0.25</p>
      <p><strong>Step 4:</strong> Normal line: y - 4 = (-1/4)(x - 2)</p>
      <p><strong>Step 5:</strong> y = (-1/4)x + 1/2 + 4 = (-1/4)x + 9/2</p>
      <p><strong>Verification:</strong> 4 × (-1/4) = -1 ✓</p>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Example 2: Square Root Function</h4>
      <p>Find the normal line to $f(x) = \sqrt{x}$ at x = 4.</p>
      <p><strong>Step 1:</strong> f(4) = √4 = 2. Point: (4, 2)</p>
      <p><strong>Step 2:</strong> f'(x) = 1/(2√x). Slope f'(4) = 1/(2×2) = 1/4</p>
      <p><strong>Step 3:</strong> Normal slope = -1/(1/4) = -4</p>
      <p><strong>Step 4:</strong> y - 2 = -4(x - 4)</p>
      <p><strong>Step 5:</strong> y = -4x + 16 + 2 = -4x + 18</p>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Example 3: Trigonometric Function</h4>
      <p>Find the normal line to $f(x) = \sin(x)$ at x = π/4.</p>
      <p><strong>Step 1:</strong> f(π/4) = sin(π/4) = √2/2 ≈ 0.707. Point: (π/4, √2/2)</p>
      <p><strong>Step 2:</strong> f'(x) = cos(x). Slope f'(π/4) = cos(π/4) = √2/2 ≈ 0.707</p>
      <p><strong>Step 3:</strong> Normal slope = -1/(√2/2) = -2/√2 = -√2 ≈ -1.414</p>
      <p><strong>Step 4:</strong> y - √2/2 = -√2(x - π/4)</p>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Example 4: Horizontal Tangent Case</h4>
      <p>Find the normal line to $f(x) = x^3$ at x = 0.</p>
      <p><strong>Step 1:</strong> f(0) = 0. Point: (0, 0)</p>
      <p><strong>Step 2:</strong> f'(x) = 3x². Slope f'(0) = 0 (horizontal tangent)</p>
      <p><strong>Step 3:</strong> Since tangent is horizontal, normal is vertical</p>
      <p><strong>Step 4:</strong> Normal line: x = 0</p>
     </div>
    </div>

    <div class="practice-problem">
     <h3>Practice Problems</h3>

     <div style="margin-bottom: 20px;">
      <h4>Problem 1</h4>
      <p>Find the equation of the normal line to $f(x) = x^3 - 3x$ at x = 1.</p>
      <button onclick="toggleSolution('sol1')" class="solution-toggle">Show Solution</button>
      <div id="sol1" class="solution-content">
       <p><strong>Step 1:</strong> f(1) = 1³ - 3(1) = 1 - 3 = -2. Point: (1, -2)</p>
       <p><strong>Step 2:</strong> f'(x) = 3x² - 3. Slope f'(1) = 3(1)² - 3 = 0</p>
       <p><strong>Step 3:</strong> Horizontal tangent, so normal line is vertical: x = 1</p>
      </div>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Problem 2</h4>
      <p>Find the normal line to $f(x) = e^x$ at x = 0.</p>
      <button onclick="toggleSolution('sol2')" class="solution-toggle">Show Solution</button>
      <div id="sol2" class="solution-content">
       <p><strong>Step 1:</strong> f(0) = e⁰ = 1. Point: (0, 1)</p>
       <p><strong>Step 2:</strong> f'(x) = e^x. Slope f'(0) = 1</p>
       <p><strong>Step 3:</strong> Normal slope = -1/1 = -1</p>
       <p><strong>Step 4:</strong> y - 1 = -1(x - 0) ⇒ y = -x + 1</p>
      </div>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Problem 3</h4>
      <p>Find the normal line to $f(x) = \ln(x)$ at x = 1.</p>
      <button onclick="toggleSolution('sol3')" class="solution-toggle">Show Solution</button>
      <div id="sol3" class="solution-content">
       <p><strong>Step 1:</strong> f(1) = ln(1) = 0. Point: (1, 0)</p>
       <p><strong>Step 2:</strong> f'(x) = 1/x. Slope f'(1) = 1</p>
       <p><strong>Step 3:</strong> Normal slope = -1/1 = -1</p>
       <p><strong>Step 4:</strong> y - 0 = -1(x - 1) ⇒ y = -x + 1</p>
      </div>
     </div>

     <div style="margin-bottom: 20px;">
      <h4>Problem 4</h4>
      <p>Find both tangent and normal lines to $f(x) = \cos(x)$ at x = π/2.</p>
      <button onclick="toggleSolution('sol4')" class="solution-toggle">Show Solution</button>
      <div id="sol4" class="solution-content">
       <p><strong>Step 1:</strong> f(π/2) = cos(π/2) = 0. Point: (π/2, 0)</p>
       <p><strong>Step 2:</strong> f'(x) = -sin(x). Slope f'(π/2) = -sin(π/2) = -1</p>
       <p><strong>Step 3:</strong> Tangent line: y - 0 = -1(x - π/2) ⇒ y = -x + π/2</p>
       <p><strong>Step 4:</strong> Normal slope = -1/(-1) = 1</p>
       <p><strong>Step 5:</strong> Normal line: y - 0 = 1(x - π/2) ⇒ y = x - π/2</p>
      </div>
     </div>
    </div>

    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Normal line formula:</strong> $y - f(a) = -\frac{1}{f'(a)}(x - a)$</li>
      <li><strong>Perpendicular relationship:</strong> Normal slope is negative reciprocal of tangent slope</li>
      <li><strong>Verification:</strong> Product of slopes equals -1</li>
      <li><strong>Special cases:</strong> Horizontal tangent → vertical normal, vertical tangent → horizontal normal</li>
      <li><strong>Applications:</strong> Optics (normal to surface), mechanics, optimization</li>
      <li><strong>Geometric interpretation:</strong> Forms 90° angle with curve at point of contact</li>
      <li><strong>Critical condition:</strong> Requires $f'(a) \neq 0$ for standard formula</li>
      <li><strong>Coordinate geometry:</strong> Essential for understanding perpendicularity</li>
     </ul>
    </div>

    <div class="formula-list">
     <div class="formula-row">
      <span class="number">
       1
      </span>
      <span class="formula">
       $y - f(a) = -\frac{1}{f'(a)}(x - a)$
       <span class="math-orange">
        (Normal Line)
       </span>
      </span>
     </div>
     <div class="formula-row">
      <span class="number">
       2
      </span>
      <span class="formula">
       $m_{\text{normal}} = -\frac{1}{m_{\text{tangent}}}$
       <span class="math-orange">
        (Negative Reciprocal)
       </span>
      </span>
     </div>
     <div class="formula-row">
      <span class="number">
       3
      </span>
      <span class="formula">
       $m_{\text{tangent}} \cdot m_{\text{normal}} = -1$
       <span class="math-orange">
        (Perpendicularity Condition)
       </span>
      </span>
     </div>
    </div>

    <div class="visualization-section">
     <h4>Perpendicularity Demonstration</h4>
     <p>Visual proof showing the right angle between tangent and normal lines:</p>
     <canvas id="perpendicularCanvas" width="600" height="400"></canvas>
     <p><em>The right angle marker confirms the perpendicular relationship</em></p>
    </div>
   </div>
  </div>

  <script>
   function evaluateFunction(func, x) {
    const expr = func.toLowerCase().replace(/\s/g, '');
    if (expr === 'x^2' || expr === 'x*x') return x * x;
    if (expr === 'x^3') return x * x * x;
    if (expr === 'sin(x)') return Math.sin(x);
    if (expr === 'cos(x)') return Math.cos(x);
    if (expr === 'e^x' || expr === 'exp(x)') return Math.exp(x);
    if (expr === 'ln(x)' || expr === 'log(x)') return Math.log(x);
    if (expr === 'sqrt(x)' || expr === 'x^(1/2)') return Math.sqrt(x);
    if (expr.includes('x^3-3x')) return x*x*x - 3*x;
    return x * x;
   }

   function evaluateDerivative(func, x) {
    const expr = func.toLowerCase().replace(/\s/g, '');
    if (expr === 'x^2' || expr === 'x*x') return 2 * x;
    if (expr === 'x^3') return 3 * x * x;
    if (expr === 'sin(x)') return Math.cos(x);
    if (expr === 'cos(x)') return -Math.sin(x);
    if (expr === 'e^x' || expr === 'exp(x)') return Math.exp(x);
    if (expr === 'ln(x)' || expr === 'log(x)') return 1/x;
    if (expr === 'sqrt(x)' || expr === 'x^(1/2)') return 1/(2*Math.sqrt(x));
    if (expr.includes('x^3-3x')) return 3*x*x - 3;
    return 2 * x;
   }

   function calculateNormal() {
    const funcInput = document.getElementById('function-input').value;
    const pointInput = parseFloat(document.getElementById('point-input').value);

    if (!funcInput || isNaN(pointInput)) {
     alert('Please enter valid function and point');
     return;
    }

    const f_a = evaluateFunction(funcInput, pointInput);
    const f_prime_a = evaluateDerivative(funcInput, pointInput);
    const normal_slope = -1 / f_prime_a;

    document.getElementById('function-display').textContent = `f(x) = ${funcInput}`;
    document.getElementById('point-display').textContent = `(a, f(a)) = (${pointInput}, ${f_a.toFixed(3)})`;
    document.getElementById('derivative-display').textContent = `f'(x) = ${getDerivativeString(funcInput)}`;
    document.getElementById('tangent-slope-display').textContent = `f'(${pointInput}) = ${f_prime_a.toFixed(3)}`;
    document.getElementById('normal-slope-display').textContent = `-1/f'(${pointInput}) = ${normal_slope.toFixed(3)}`;
    document.getElementById('tangent-equation').textContent = `y - ${f_a.toFixed(3)} = ${f_prime_a.toFixed(3)}(x - ${pointInput})`;
    document.getElementById('normal-equation').textContent = `y - ${f_a.toFixed(3)} = ${normal_slope.toFixed(3)}(x - ${pointInput})`;
    document.getElementById('verification').textContent = `${f_prime_a.toFixed(3)} × ${normal_slope.toFixed(3)} = ${(f_prime_a * normal_slope).toFixed(3)} ✓`;

    drawInteractiveNormal(funcInput, pointInput);
   }

   function getDerivativeString(func) {
    const expr = func.toLowerCase().replace(/\s/g, '');
    if (expr === 'x^2') return '2x';
    if (expr === 'x^3') return '3x²';
    if (expr === 'sin(x)') return 'cos(x)';
    if (expr === 'cos(x)') return '-sin(x)';
    if (expr === 'e^x') return 'e^x';
    if (expr === 'ln(x)') return '1/x';
    if (expr === 'sqrt(x)') return '1/(2√x)';
    if (expr.includes('x^3-3x')) return '3x² - 3';
    return '2x';
   }

   function drawInteractiveNormal(func, a) {
    const canvas = document.getElementById('interactiveCanvas');
    const ctx = canvas.getContext('2d');

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const width = canvas.width;
    const height = canvas.height;
    const scale = 40;
    const originX = width / 2;
    const originY = height / 2;

    function toCanvasX(x) { return originX + x * scale; }
    function toCanvasY(y) { return originY - y * scale; }

    // Draw axes
    ctx.strokeStyle = '#ddd';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(0, originY);
    ctx.lineTo(width, originY);
    ctx.moveTo(originX, 0);
    ctx.lineTo(originX, height);
    ctx.stroke();

    // Draw grid
    ctx.strokeStyle = '#f0f0f0';
    ctx.lineWidth = 0.5;
    for (let x = -10; x <= 10; x++) {
     ctx.beginPath();
     ctx.moveTo(toCanvasX(x), 0);
     ctx.lineTo(toCanvasX(x), height);
     ctx.stroke();
    }
    for (let y = -10; y <= 10; y++) {
     ctx.beginPath();
     ctx.moveTo(0, toCanvasY(y));
     ctx.lineTo(width, toCanvasY(y));
     ctx.stroke();
    }

    // Draw function curve
    ctx.strokeStyle = '#2196F3';
    ctx.lineWidth = 2;
    ctx.beginPath();
    for (let x = -8; x <= 8; x += 0.1) {
     const y = evaluateFunction(func, x);
     const canvasX = toCanvasX(x);
     const canvasY = toCanvasY(y);
     if (x === -8) ctx.moveTo(canvasX, canvasY);
     else ctx.lineTo(canvasX, canvasY);
    }
    ctx.stroke();

    // Calculate tangent and normal
    const fa = evaluateFunction(func, a);
    const fpa = evaluateDerivative(func, a);
    const normal_slope = -1 / fpa;

    // Draw tangent line (orange)
    ctx.strokeStyle = '#e67e22';
    ctx.lineWidth = 3;
    ctx.beginPath();
    const x1 = a - 2;
    const y1 = fa + fpa * (x1 - a);
    const x2 = a + 2;
    const y2 = fa + fpa * (x2 - a);
    ctx.moveTo(toCanvasX(x1), toCanvasY(y1));
    ctx.lineTo(toCanvasX(x2), toCanvasY(y2));
    ctx.stroke();

    // Draw normal line (cyan)
    ctx.strokeStyle = '#00bcd4';
    ctx.lineWidth = 3;
    ctx.beginPath();
    const nx1 = a - 1;
    const ny1 = fa + normal_slope * (nx1 - a);
    const nx2 = a + 1;
    const ny2 = fa + normal_slope * (nx2 - a);
    ctx.moveTo(toCanvasX(nx1), toCanvasY(ny1));
    ctx.lineTo(toCanvasX(nx2), toCanvasY(ny2));
    ctx.stroke();

    // Draw point of tangency
    ctx.fillStyle = '#e74c3c';
    ctx.beginPath();
    ctx.arc(toCanvasX(a), toCanvasY(fa), 6, 0, 2 * Math.PI);
    ctx.fill();

    // Draw right angle marker
    ctx.strokeStyle = '#666';
    ctx.lineWidth = 2;
    const markerSize = 20;
    const angleX = toCanvasX(a + 0.3);
    const angleY = toCanvasY(fa + 0.3);
    ctx.beginPath();
    ctx.moveTo(angleX - markerSize, angleY);
    ctx.lineTo(angleX - markerSize, angleY - markerSize);
    ctx.lineTo(angleX, angleY - markerSize);
    ctx.stroke();

    // Labels
    ctx.fillStyle = '#333';
    ctx.font = '12px Arial';
    ctx.textAlign = 'center';
    ctx.fillText(`(${a}, ${fa.toFixed(2)})`, toCanvasX(a), toCanvasY(fa) - 15);
    ctx.fillText('Tangent', toCanvasX(a + 1.5), toCanvasY(fa + fpa * 1.5) - 5);
    ctx.fillText('Normal', toCanvasX(a + 0.8), toCanvasY(fa + normal_slope * 0.8) + 15);
   }

   function toggleSolution(id) {
    const element = document.getElementById(id);
    element.style.display = element.style.display === 'none' ? 'block' : 'none';
   }

   // Initialize
   calculateNormal();
  </script>
 </body>
</html>