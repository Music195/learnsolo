<!DOCTYPE html>
<!-- tags: Sequence -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Difference Sequence and General Term
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
    /* Enhanced text containment and responsive design */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }

    .main-content {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    /* Fancy title styling */
    .fancy-title {
      font-size: 2.5em;
      font-weight: bold;
      text-align: center;
      background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin: 30px 0;
      padding: 20px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .fancy-title[data-topic]::before {
      content: attr(data-topic) " - ";
      font-size: 0.8em;
      opacity: 0.8;
    }

    /* Section styling */
    .section {
      margin: 30px 0;
      padding: 25px;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .section h2 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
      margin-bottom: 20px;
      font-size: 1.8em;
      word-wrap: break-word;
    }

    .section h3 {
      color: #34495e;
      margin-top: 25px;
      margin-bottom: 15px;
      font-size: 1.4em;
      word-wrap: break-word;
    }

    /* Formula box styling */
    .formula-box {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      text-align: center;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .formula-box h3 {
      margin-top: 0;
      color: white;
      font-size: 1.3em;
    }

    .formula-box .math {
      font-size: 1.6em;
      margin: 15px 0;
      display: block;
    }

    /* Law block styling */
    .law-block {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      padding: 20px;
      border-radius: 10px;
      margin: 20px 0;
      box-shadow: 0 4px 15px rgba(245,87,108,0.3);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .law-eq {
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 10px;
      text-align: center;
    }

    .law-block .math {
      font-size: 1.4em;
      margin: 10px 0;
      display: block;
      text-align: center;
    }

    /* Interactive demo styling */
    .interactive-demo {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      color: white;
      padding: 25px;
      border-radius: 12px;
      margin: 25px 0;
      box-shadow: 0 4px 15px rgba(79,172,254,0.3);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .interactive-demo h3 {
      margin-top: 0;
      text-align: center;
      font-size: 1.5em;
    }

    .demo-input {
      padding: 8px 12px;
      margin: 0 10px;
      border: none;
      border-radius: 5px;
      font-size: 1em;
      width: 80px;
    }

    .demo-button {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 2px solid white;
      padding: 10px 20px;
      border-radius: 25px;
      cursor: pointer;
      margin: 10px 5px;
      font-size: 1em;
      transition: all 0.3s ease;
    }

    .demo-button:hover {
      background: white;
      color: #4facfe;
      transform: translateY(-2px);
    }

    .demo-result {
      margin: 15px 0;
      padding: 15px;
      background: rgba(255,255,255,0.2);
      border-radius: 8px;
      font-size: 1.2em;
      text-align: center;
      min-height: 20px;
    }

    .sequence-display {
      margin: 15px 0;
      padding: 15px;
      background: rgba(255,255,255,0.2);
      border-radius: 8px;
      text-align: center;
      min-height: 20px;
    }

    /* Problem styling */
    .problem-item {
      background: white;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      border-left: 5px solid #3498db;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .problem-number {
      display: inline-block;
      background: #3498db;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      margin-right: 15px;
    }

    .problem-content {
      display: inline-block;
      width: calc(100% - 50px);
      vertical-align: top;
    }

    .solution-button {
      background: #27ae60;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 20px;
      cursor: pointer;
      margin: 10px 0;
      font-size: 0.9em;
      transition: all 0.3s ease;
    }

    .solution-button:hover {
      background: #229954;
      transform: translateY(-1px);
    }

    .solution-content {
      display: none;
      margin-top: 15px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      border-left: 4px solid #27ae60;
    }

    .calculation-steps {
      margin: 10px 0;
    }

    .calculation-step {
      margin: 8px 0;
      padding: 8px;
      background: white;
      border-radius: 5px;
      border: 1px solid #e9ecef;
    }

    /* Note box styling */
    .note-box {
      background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
      border: 2px solid #fdcb6e;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .note-box::before {
      content: "üìù Note";
      font-weight: bold;
      display: block;
      margin-bottom: 10px;
      color: #d63031;
    }

    /* Key takeaways styling */
    .key-takeaways {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      padding: 25px;
      border-radius: 12px;
      margin: 30px 0;
      box-shadow: 0 4px 15px rgba(168,237,234,0.3);
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .key-takeaways h3 {
      margin-top: 0;
      color: #2c3e50;
      text-align: center;
      font-size: 1.5em;
    }

    .key-takeaways ul {
      list-style: none;
      padding: 0;
    }

    .key-takeaways li {
      padding: 10px 0;
      border-bottom: 1px solid rgba(44,62,80,0.1);
      position: relative;
      padding-left: 30px;
    }

    .key-takeaways li::before {
      content: "‚úì";
      color: #27ae60;
      font-weight: bold;
      position: absolute;
      left: 0;
    }

    .key-takeaways li:last-child {
      border-bottom: none;
    }

    /* Difference table styling */
    .difference-table {
      margin: 20px 0;
      border-collapse: collapse;
      width: 100%;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .difference-table th, .difference-table td {
      padding: 12px;
      text-align: center;
      border: 1px solid #e9ecef;
    }

    .difference-table th {
      background: #3498db;
      color: white;
      font-weight: bold;
    }

    .difference-table .sequence-row {
      background: #f8f9fa;
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .main-content {
        padding: 20px;
      }

      .fancy-title {
        font-size: 2em;
      }

      .section {
        padding: 15px;
      }

      .interactive-demo {
        padding: 15px;
      }

      .demo-input {
        width: 60px;
        margin: 5px;
      }

      .demo-button {
        display: block;
        width: 100%;
        margin: 5px 0;
      }

      .problem-content {
        width: calc(100% - 40px);
      }

      .difference-table {
        font-size: 0.9em;
      }
    }

    /* Math rendering improvements */
    .math {
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    /* Enhanced scrollbar for mobile */
    @media (max-width: 768px) {
      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 10px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #555;
      }
    }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Sequence">
   Difference Sequence and General Term
  </div>
  <div class="container">
   <div class="main-content">
    <div class="section">
     <h2>Core Concept: Difference Sequences</h2>
     <p>A difference sequence is formed by taking the differences between consecutive terms of the original sequence. This process can be repeated multiple times to create higher-order difference sequences, which help identify patterns and find general terms.</p>
     
     <div class="formula-box">
      <h3>First Difference Sequence</h3>
      <div class="math" style="font-size: 1.4em;">
       $b_n = a_{n+1} - a_n$
      </div>
      <p>Where:<br>
      $b_n$ = nth term of difference sequence<br>
      $a_{n+1}, a_n$ = consecutive terms of original sequence</p>
     </div>
     
     <div class="formula-box">
      <h3>General Term from Differences</h3>
      <div class="math" style="font-size: 1.4em;">
       $a_n = a_1 + \sum_{k=1}^{n-1} b_k$
      </div>
      <p>Each term is the first term plus the sum of all previous differences</p>
     </div>
    </div>

    <div class="interactive-demo">
      <h3>Interactive Difference Sequence Explorer</h3>
      <div style="margin: 20px 0;">
        <label>Sequence type: 
          <select id="sequenceType" class="demo-input">
            <option value="quadratic">Quadratic (n¬≤)</option>
            <option value="cubic">Cubic (n¬≥)</option>
            <option value="custom">Custom terms</option>
          </select>
        </label>
        <label>Number of terms: <input type="number" id="numTerms" value="6" min="3" max="8" class="demo-input"></label>
      </div>
      <button onclick="generateSequence()" class="demo-button">Generate Sequence</button>
      <button onclick="calculateDifferences()" class="demo-button">Show Differences</button>
      <div class="demo-result" id="sequenceResult"></div>
      <div class="sequence-display" id="differenceDisplay"></div>
    </div>

    <div class="section">
     <h2>Understanding Difference Sequences</h2>
     
     <div class="law-block">
      <div class="law-eq">Polynomial Degree Relationship</div>
      <p>The number of differences needed to reach a constant sequence equals the degree of the polynomial:</p>
      <ul style="color: white;">
        <li><strong>Constant sequence:</strong> 0 differences needed</li>
        <li><strong>Linear sequence:</strong> 1 difference gives constant</li>
        <li><strong>Quadratic sequence:</strong> 2 differences give constant</li>
        <li><strong>Cubic sequence:</strong> 3 differences give constant</li>
      </ul>
     </div>
     
     <div class="note-box">
      <strong>Pattern Recognition:</strong> If the kth differences are constant, then the original sequence is a polynomial of degree k. This is a powerful tool for identifying the type of sequence and finding general terms.
     </div>
    </div>

    <div class="section">
     <h2>Worked Examples</h2>
     
     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       <p>Find the general term of the sequence: 1, 4, 9, 16, 25, ...</p>
       <button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
       <div class="solution-content" id="solution1">
        <div class="calculation-steps">
         <div class="calculation-step">First differences: 4-1=3, 9-4=5, 16-9=7, 25-16=9</div>
         <div class="calculation-step">Second differences: 5-3=2, 7-5=2, 9-7=2 (constant)</div>
         <div class="calculation-step">Since 2nd differences are constant, sequence is quadratic</div>
         <div class="calculation-step">Assume a‚Çô = an¬≤ + bn + c</div>
         <div class="calculation-step">For n=1: a + b + c = 1</div>
         <div class="calculation-step">For n=2: 4a + 2b + c = 4</div>
         <div class="calculation-step">For n=3: 9a + 3b + c = 9</div>
         <div class="calculation-step">Solving: a=1, b=0, c=0 ‚áí a‚Çô = n¬≤</div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       <p>Find the next term in: 2, 5, 10, 17, 26</p>
       <button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
       <div class="solution-content" id="solution2">
        <div class="calculation-steps">
         <div class="calculation-step">First differences: 5-2=3, 10-5=5, 17-10=7, 26-17=9</div>
         <div class="calculation-step">Second differences: 5-3=2, 7-5=2, 9-7=2 (constant)</div>
         <div class="calculation-step">Next first difference: 9 + 2 = 11</div>
         <div class="calculation-step">Next term: 26 + 11 = 37</div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       <p>Use difference sequences to verify the sum formula: ‚àëk = n(n+1)/2</p>
       <button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
       <div class="solution-content" id="solution3">
        <div class="calculation-steps">
         <div class="calculation-step">Sequence of sums: S‚ÇÅ=1, S‚ÇÇ=3, S‚ÇÉ=6, S‚ÇÑ=10, S‚ÇÖ=15</div>
         <div class="calculation-step">First differences: 3-1=2, 6-3=3, 10-6=4, 15-10=5</div>
         <div class="calculation-step">The differences are 2,3,4,5,... which is arithmetic</div>
         <div class="calculation-step">This confirms the quadratic nature of triangular numbers</div>
        </div>
       </div>
      </div>
     </div>
    </div>

    <div class="section">
     <h2>Applications in Pattern Recognition</h2>
     <div class="law-block">
      <div class="law-eq">Sequence Classification</div>
      <ul style="color: white;">
        <li><strong>Constant differences:</strong> Arithmetic sequence</li>
        <li><strong>Constant 2nd differences:</strong> Quadratic sequence</li>
        <li><strong>Constant 3rd differences:</strong> Cubic sequence</li>
        <li><strong>Constant kth differences:</strong> Polynomial of degree k</li>
      </ul>
     </div>
    </div>

    <div class="section">
     <h2>Building General Terms</h2>
     <div class="note-box">
      <strong>Systematic Approach:</strong> 
      1. Calculate difference sequences until you reach constants
      2. The number of differences needed indicates the polynomial degree
      3. Work backwards to build the general term
      4. Use the original terms to solve for coefficients
     </div>
    </div>

    <div class="key-takeaways">
      <h3>Key Takeaways</h3>
      <ul>
        <li>Difference sequences reveal the structure of sequences</li>
        <li>Constant kth differences indicate polynomial of degree k</li>
        <li>General term: $a_n = a_1 + \sum_{k=1}^{n-1} b_k$</li>
        <li>Useful for finding patterns and predicting terms</li>
        <li>Essential for polynomial sequence identification</li>
        <li>Works for any sequence with polynomial general terms</li>
      </ul>
    </div>
   </div>
  </div>

  <script>
    function generateSequence() {
      const type = document.getElementById('sequenceType').value;
      const n = parseInt(document.getElementById('numTerms').value);
      
      if (isNaN(n) || n < 3 || n > 8) {
        document.getElementById('sequenceResult').textContent = 'Please enter number of terms between 3 and 8';
        return;
      }
      
      let sequence = [];
      
      if (type === 'quadratic') {
        for (let i = 1; i <= n; i++) {
          sequence.push(i * i);
        }
      } else if (type === 'cubic') {
        for (let i = 1; i <= n; i++) {
          sequence.push(i * i * i);
        }
      } else if (type === 'custom') {
        // Generate a custom quadratic sequence: n¬≤ + 2n + 1
        for (let i = 1; i <= n; i++) {
          sequence.push(i * i + 2 * i + 1);
        }
      }
      
      document.getElementById('sequenceResult').textContent = 'Sequence: ' + sequence.join(', ');
      window.currentSequence = sequence;
    }

    function calculateDifferences() {
      if (!window.currentSequence) {
        document.getElementById('differenceDisplay').textContent = 'Please generate a sequence first';
        return;
      }
      
      const seq = window.currentSequence;
      let differences = [];
      let current = seq;
      
      // Calculate up to 3 levels of differences
      for (let level = 0; level < 3; level++) {
        let diff = [];
        for (let i = 1; i < current.length; i++) {
          diff.push(current[i] - current[i-1]);
        }
        differences.push(diff);
        current = diff;
        
        // Stop if we have constant differences
        if (diff.length > 1 && diff.every(d => d === diff[0])) {
          break;
        }
      }
      
      let display = '';
      display += 'Original: ' + seq.join(', ') + '\n';
      display += '1st diff: ' + differences[0].join(', ') + '\n';
      if (differences[1]) display += '2nd diff: ' + differences[1].join(', ') + '\n';
      if (differences[2]) display += '3rd diff: ' + differences[2].join(', ') + '\n';
      
      document.getElementById('differenceDisplay').textContent = display;
    }

    function toggleSolution(problemNumber) {
      const solution = document.getElementById(`solution${problemNumber}`);
      if (solution.style.display === 'block') {
        solution.style.display = 'none';
      } else {
        solution.style.display = 'block';
      }
    }

    // Initialize with default values
    generateSequence();
    calculateDifferences();
  </script>
 </body>
</html>
