<!DOCTYPE html>
<!-- tags: Vector -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Properties of Vector Addition
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
    /* Enhanced text containment and readability */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }

    .main-content {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .section {
      margin-bottom: 40px;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .section h2 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
      margin-bottom: 20px;
      font-size: 1.8em;
      font-weight: 600;
    }

    .section h3 {
      color: #34495e;
      margin-bottom: 15px;
      font-size: 1.4em;
      font-weight: 500;
    }

    /* Law blocks with gradient backgrounds */
    .law-block {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .law-eq {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .law-block .math {
      margin: 8px 0;
      font-size: 1.1em;
      line-height: 1.6;
    }

    /* Operation blocks */
    .operation-block {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(245,87,108,0.3);
    }

    .operation-block .formula {
      background: rgba(255,255,255,0.9);
      color: #333;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.3em;
      font-weight: bold;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Hint blocks */
    .hint-block {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(79,172,254,0.3);
    }

    .hint-block strong {
      font-size: 1.2em;
      display: block;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    /* Interactive demo styling */
    .interactive-demo {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 4px 15px rgba(168,237,234,0.3);
    }

    .interactive-demo h3 {
      color: #2c3e50;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.5em;
    }

    .demo-input {
      width: 80px;
      padding: 8px 12px;
      border: 2px solid #3498db;
      border-radius: 6px;
      font-size: 1em;
      margin: 0 5px;
      background: rgba(255,255,255,0.9);
      color: #333;
    }

    .demo-input:focus {
      outline: none;
      border-color: #2980b9;
      box-shadow: 0 0 5px rgba(52,152,219,0.5);
    }

    .demo-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      margin: 5px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(102,126,234,0.3);
    }

    .demo-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(102,126,234,0.4);
    }

    .demo-result {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin-top: 15px;
      font-family: 'Courier New', monospace;
      font-size: 1em;
      color: #333;
      white-space: pre-line;
      border: 1px solid #ddd;
      min-height: 40px;
    }

    /* Problem items */
    .problem-item {
      background: rgba(255,255,255,0.95);
      border-radius: 10px;
      padding: 20px;
      margin: 15px 0;
      border-left: 5px solid #3498db;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .problem-number {
      display: inline-block;
      background: #3498db;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      margin-right: 15px;
      vertical-align: top;
    }

    .problem-content {
      display: inline-block;
      width: calc(100% - 50px);
      vertical-align: top;
    }

    .solution-button {
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      color: #333;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      margin: 10px 0;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(255,154,158,0.3);
    }

    .solution-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 3px 12px rgba(255,154,158,0.4);
    }

    .solution-content {
      display: none;
      margin-top: 15px;
      padding: 15px;
      background: rgba(240,240,240,0.8);
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .calculation-steps {
      margin: 10px 0;
    }

    .calculation-step {
      margin: 8px 0;
      padding: 8px 12px;
      background: rgba(255,255,255,0.7);
      border-radius: 6px;
      border-left: 3px solid #3498db;
    }

    /* Key takeaways */
    .key-takeaways {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .key-takeaways h3 {
      text-align: center;
      font-size: 1.5em;
      margin-bottom: 20px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .key-takeaways ul {
      list-style: none;
      padding: 0;
    }

    .key-takeaways li {
      margin: 10px 0;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .key-takeaways li:last-child {
      border-bottom: none;
    }

    /* Enhanced canvas styling */
    .vector-canvas {
      display: block;
      margin: 20px auto;
      border: 2px solid #3498db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 15px rgba(52,152,219,0.2);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .main-content {
        padding: 20px;
      }

      .section {
        padding: 15px;
      }

      .interactive-demo {
        padding: 15px;
      }

      .demo-input {
        width: 60px;
        margin: 5px;
      }

      .demo-button {
        display: block;
        width: 100%;
        margin: 5px 0;
      }

      .problem-content {
        width: calc(100% - 40px);
      }
    }

    /* MathJax styling */
    .mjx-chtml {
      font-size: 1.1em !important;
    }

    /* Formula boxes */
    .formula-box {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.2em;
      font-weight: bold;
      color: #333;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Property lists */
    .property-list {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      color: #333;
    }

    .property-list li {
      margin: 8px 0;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }

    .property-list li:last-child {
      border-bottom: none;
    }

    /* Vector law styling */
    .vector-law {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
      border-left: 4px solid #3498db;
      color: #333;
    }

    .law-name {
      font-weight: bold;
      color: #3498db;
      margin-bottom: 5px;
    }

    .law-formula {
      font-size: 1.2em;
      margin: 8px 0;
      text-align: center;
      font-weight: bold;
    }

    .law-description {
      font-style: italic;
      color: #666;
    }

    /* Vector visualization controls */
    .vector-controls {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin: 20px 0;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .control-label {
      font-size: 0.9em;
      font-weight: bold;
      color: #333;
    }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Vector Addition, Vector Properties, Linear Algebra">
   Properties of Vector Addition
  </div>
  <div class="container">
   <div class="main-content">

    <!-- Mathematical Foundation -->
    <div class="section">
     <h2>Mathematical Foundation</h2>

     <div class="hint-block">
      <strong>Vector Addition Basics</strong>
      <p>Vectors can be added together following specific rules that make them behave like displacements in space. The properties of vector addition form the foundation of vector algebra and are essential for understanding more complex vector operations.</p>
     </div>

     <div class="law-block">
      <div class="law-eq">Fundamental Properties of Vector Addition</div>

      <div class="vector-law">
       <div class="law-name">1. Commutative Law</div>
       <div class="law-formula">\(\vec{a} + \vec{b} = \vec{b} + \vec{a}\)</div>
       <div class="law-description">Order doesn't matter - adding vectors in different sequences gives the same result</div>
      </div>

      <div class="vector-law">
       <div class="law-name">2. Associative Law</div>
       <div class="law-formula">\((\vec{a} + \vec{b}) + \vec{c} = \vec{a} + (\vec{b} + \vec{c})\)</div>
       <div class="law-description">Grouping doesn't matter - you can group vectors differently without changing the sum</div>
      </div>

      <div class="vector-law">
       <div class="law-name">3. Additive Identity</div>
       <div class="law-formula">\(\vec{a} + \vec{0} = \vec{a}\)</div>
       <div class="law-description">The zero vector acts like zero in regular addition - it doesn't change the vector</div>
      </div>

      <div class="vector-law">
       <div class="law-name">4. Additive Inverse</div>
       <div class="law-formula">\(\vec{a} + (-\vec{a}) = \vec{0}\)</div>
       <div class="law-description">Every vector has an opposite vector that, when added, gives the zero vector</div>
      </div>
     </div>

     <div class="operation-block">
      <div class="formula">
       Vector Addition Geometrically
      </div>
      <p style="color: white; margin: 15px 0;">Vectors are added using the <strong>parallelogram law</strong> or <strong>triangle law</strong>:</p>
      <ul style="color: white; margin: 15px 0;">
       <li><strong>Triangle Law:</strong> Place the tail of the second vector at the head of the first vector</li>
       <li><strong>Parallelogram Law:</strong> Place both vectors with their tails together, complete the parallelogram</li>
       <li>The resultant vector is the diagonal from the common tail to the opposite vertex</li>
      </ul>
     </div>
    </div>

    <!-- Interactive Vector Addition Visualizer -->
    <div class="section">
     <h2>Interactive Vector Addition</h2>

     <div class="interactive-demo">
      <h3>Vector Addition Visualizer</h3>
      <p>Explore how vectors add together using different methods:</p>

      <div class="vector-controls">
       <div class="control-group">
        <label class="control-label">Vector A (x, y)</label>
        <input type="number" id="vecAx" class="demo-input" value="3" step="0.5">
        <input type="number" id="vecAy" class="demo-input" value="2" step="0.5">
       </div>

       <div class="control-group">
        <label class="control-label">Vector B (x, y)</label>
        <input type="number" id="vecBx" class="demo-input" value="1" step="0.5">
        <input type="number" id="vecBy" class="demo-input" value="4" step="0.5">
       </div>

       <div class="control-group">
        <label class="control-label">Method</label>
        <select id="addition-method" class="demo-input" style="width: 120px;">
         <option value="triangle">Triangle Law</option>
         <option value="parallelogram">Parallelogram Law</option>
         <option value="commutative">Commutative Test</option>
        </select>
       </div>
      </div>

      <div style="text-align: center; margin: 20px 0;">
       <button class="demo-button" onclick="updateVectors()">Update Vectors</button>
       <button class="demo-button" onclick="resetVectors()">Reset</button>
      </div>

      <canvas id="vector-canvas" width="600" height="400" class="vector-canvas"></canvas>

      <div class="demo-result" id="vector-result">
       Vector A: (3, 2), Magnitude: 3.61<br>
       Vector B: (1, 4), Magnitude: 4.12<br>
       A + B = (4, 6), Magnitude: 7.21<br>
       B + A = (4, 6), Magnitude: 7.21
      </div>
     </div>
    </div>

    <!-- Worked Examples -->
    <div class="section">
     <h2>Worked Examples</h2>

     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       <strong>Problem:</strong> Given vectors \(\vec{a} = (3, 2)\) and \(\vec{b} = (-1, 4)\), find \(\vec{a} + \vec{b}\) and verify the commutative property.
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol1')">Show Solution</button>
       <div class="solution-content" id="sol1">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Add component-wise
          <br>\(\vec{a} + \vec{b} = (3 + (-1), 2 + 4) = (2, 6)\)
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Verify commutative property
          <br>\(\vec{b} + \vec{a} = (-1 + 3, 4 + 2) = (2, 6)\)
         </div>
         <div class="calculation-step">
          <strong>Step 3:</strong> Confirm equality
          <br>\(\vec{a} + \vec{b} = \vec{b} + \vec{a} = (2, 6)\)
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> \(\vec{a} + \vec{b} = (2, 6)\), commutative property verified
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       <strong>Problem:</strong> Show that \((\vec{a} + \vec{b}) + \vec{c} = \vec{a} + (\vec{b} + \vec{c})\) for \(\vec{a} = (1, 2)\), \(\vec{b} = (3, 1)\), \(\vec{c} = (2, -1)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol2')">Show Solution</button>
       <div class="solution-content" id="sol2">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Calculate left side: \((\vec{a} + \vec{b}) + \vec{c}\)
          <br>\(\vec{a} + \vec{b} = (1+3, 2+1) = (4, 3)\)
          <br>\((4, 3) + (2, -1) = (6, 2)\)
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Calculate right side: \(\vec{a} + (\vec{b} + \vec{c})\)
          <br>\(\vec{b} + \vec{c} = (3+2, 1+(-1)) = (5, 0)\)
          <br>\((1, 2) + (5, 0) = (6, 2)\)
         </div>
         <div class="calculation-step">
          <strong>Step 3:</strong> Verify equality
          <br>Both sides equal (6, 2), so associative property holds
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> Associative property verified: both groupings give (6, 2)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       <strong>Problem:</strong> Find the additive inverse of \(\vec{v} = (5, -3)\) and verify the property.
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol3')">Show Solution</button>
       <div class="solution-content" id="sol3">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Find the additive inverse
          <br>The additive inverse of \(\vec{v} = (x, y)\) is \(-\vec{v} = (-x, -y)\)
          <br>So \(-\vec{v} = (-5, 3)\)
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Verify the property
          <br>\(\vec{v} + (-\vec{v}) = (5, -3) + (-5, 3) = (0, 0) = \vec{0}\)
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> Additive inverse is (-5, 3), property verified
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>

    <!-- Applications -->
    <div class="section">
     <h2>Applications</h2>

     <h3>Physics and Engineering</h3>
     <div class="property-list">
      <li><strong>Force Analysis:</strong> Multiple forces acting on an object add vectorially</li>
      <li><strong>Velocity Addition:</strong> Relative velocities combine using vector addition</li>
      <li><strong>Displacement:</strong> Total displacement is the vector sum of individual displacements</li>
      <li><strong>Electric Fields:</strong> Electric field vectors from multiple charges add together</li>
     </div>

     <h3>Computer Graphics</h3>
     <div class="property-list">
      <li><strong>3D Modeling:</strong> Position vectors and transformations use vector addition</li>
      <li><strong>Animation:</strong> Character movements combine multiple vector displacements</li>
      <li><strong>Particle Systems:</strong> Particle velocities and positions update using vector sums</li>
     </div>

     <div class="hint-block">
      <strong>Real-World Connection:</strong>
      <p>When flying in a crosswind, pilots must account for vector addition. If a plane's airspeed is 500 km/h northward and the wind is 50 km/h eastward, the ground speed is the vector sum: approximately 503 km/h at 6Â° east of north.</p>
     </div>
    </div>

    <!-- Practice Problems -->
    <div class="section">
     <h2>Practice Problems</h2>

     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       Find \(\vec{a} + \vec{b}\) where \(\vec{a} = (4, -2)\) and \(\vec{b} = (-3, 5)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac1')">Show Solution</button>
       <div class="solution-content" id="prac1">
        <div class="calculation-steps">
         <div class="calculation-step">
          \(\vec{a} + \vec{b} = (4 + (-3), -2 + 5) = (1, 3)\)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       Verify that \(\vec{a} + \vec{b} = \vec{b} + \vec{a}\) for \(\vec{a} = (2, 3)\) and \(\vec{b} = (-1, 4)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac2')">Show Solution</button>
       <div class="solution-content" id="prac2">
        <div class="calculation-steps">
         <div class="calculation-step">
          \(\vec{a} + \vec{b} = (2-1, 3+4) = (1, 7)\)
         </div>
         <div class="calculation-step">
          \(\vec{b} + \vec{a} = (-1+2, 4+3) = (1, 7)\)
         </div>
         <div class="calculation-step">
          Equal, so commutative property holds
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       Find the vector that when added to \(\vec{v} = (7, -4)\) gives the zero vector.
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac3')">Show Solution</button>
       <div class="solution-content" id="prac3">
        <div class="calculation-steps">
         <div class="calculation-step">
          The additive inverse: \((-7, 4)\)
         </div>
         <div class="calculation-step">
          Check: (7-7, -4+4) = (0, 0)
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>

    <!-- Key Takeaways -->
    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Commutative Law:</strong> \(\vec{a} + \vec{b} = \vec{b} + \vec{a}\) - order doesn't matter</li>
      <li><strong>Associative Law:</strong> \((\vec{a} + \vec{b}) + \vec{c} = \vec{a} + (\vec{b} + \vec{c})\) - grouping doesn't matter</li>
      <li><strong>Additive Identity:</strong> \(\vec{a} + \vec{0} = \vec{a}\) - zero vector doesn't change the sum</li>
      <li><strong>Additive Inverse:</strong> \(\vec{a} + (-\vec{a}) = \vec{0}\) - every vector has an opposite</li>
      <li>Vectors add component-wise: \((a_x, a_y) + (b_x, b_y) = (a_x + b_x, a_y + b_y)\)</li>
      <li>Geometrically, vectors add using the triangle law or parallelogram law</li>
      <li>Applications in physics, engineering, computer graphics, and navigation</li>
     </ul>
    </div>

   </div>
  </div>

  <script>
   // Interactive Vector Addition Visualizer
   let vectorA = { x: 3, y: 2 };
   let vectorB = { x: 1, y: 4 };
   let additionMethod = 'triangle';

   const canvas = document.getElementById('vector-canvas');
   const ctx = canvas.getContext('2d');
   const width = canvas.width;
   const height = canvas.height;
   const centerX = width / 2;
   const centerY = height / 2;
   const scale = 20; // pixels per unit

   function drawVector(startX, startY, endX, endY, color, label, labelOffsetX = 0, labelOffsetY = 0) {
     // Draw the vector line
     ctx.strokeStyle = color;
     ctx.lineWidth = 3;
     ctx.beginPath();
     ctx.moveTo(startX, startY);
     ctx.lineTo(endX, endY);
     ctx.stroke();

     // Draw arrowhead
     const angle = Math.atan2(endY - startY, endX - startX);
     const arrowLength = 12;
     ctx.beginPath();
     ctx.moveTo(endX, endY);
     ctx.lineTo(endX - arrowLength * Math.cos(angle - Math.PI / 6), endY - arrowLength * Math.sin(angle - Math.PI / 6));
     ctx.lineTo(endX - arrowLength * Math.cos(angle + Math.PI / 6), endY - arrowLength * Math.sin(angle + Math.PI / 6));
     ctx.closePath();
     ctx.fillStyle = color;
     ctx.fill();

     // Draw label
     if (label) {
       ctx.fillStyle = '#333';
       ctx.font = 'bold 14px Arial';
       const midX = (startX + endX) / 2 + labelOffsetX;
       const midY = (startY + endY) / 2 + labelOffsetY;
       ctx.fillText(label, midX, midY);
     }
   }

   function drawPoint(x, y, label, color = '#333') {
     ctx.fillStyle = color;
     ctx.beginPath();
     ctx.arc(x, y, 4, 0, 2 * Math.PI);
     ctx.fill();

     if (label) {
       ctx.fillStyle = '#333';
       ctx.font = '12px Arial';
       ctx.fillText(label, x + 8, y - 8);
     }
   }

   function drawVectorAddition() {
     ctx.clearRect(0, 0, width, height);

     // Draw coordinate system
     ctx.strokeStyle = '#ddd';
     ctx.lineWidth = 1;
     for (let i = -10; i <= 10; i++) {
       // Vertical grid lines
       ctx.beginPath();
       ctx.moveTo(centerX + i * scale, 0);
       ctx.lineTo(centerX + i * scale, height);
       ctx.stroke();

       // Horizontal grid lines
       ctx.beginPath();
       ctx.moveTo(0, centerY + i * scale);
       ctx.lineTo(width, centerY + i * scale);
       ctx.stroke();
     }

     // Draw axes
     ctx.strokeStyle = '#333';
     ctx.lineWidth = 2;
     ctx.beginPath();
     ctx.moveTo(0, centerY);
     ctx.lineTo(width, centerY);
     ctx.moveTo(centerX, 0);
     ctx.lineTo(centerX, height);
     ctx.stroke();

     const startX = centerX;
     const startY = centerY;

     if (additionMethod === 'triangle') {
       // Triangle law: A then B
       const endAX = startX + vectorA.x * scale;
       const endAY = startY - vectorA.y * scale; // Flip Y for canvas
       const endBX = endAX + vectorB.x * scale;
       const endBY = endAY - vectorB.y * scale;

       drawVector(startX, startY, endAX, endAY, '#3498db', 'A');
       drawVector(endAX, endAY, endBX, endBY, '#e74c3c', 'B');
       drawVector(startX, startY, endBX, endBY, '#27ae60', 'A+B', 0, -15);

       drawPoint(startX, startY, 'O');
       drawPoint(endAX, endAY, 'P');
       drawPoint(endBX, endBY, 'Q');

     } else if (additionMethod === 'parallelogram') {
       // Parallelogram law
       const endAX = startX + vectorA.x * scale;
       const endAY = startY - vectorA.y * scale;
       const endBX = startX + vectorB.x * scale;
       const endBY = startY - vectorB.y * scale;
       const endSumX = startX + (vectorA.x + vectorB.x) * scale;
       const endSumY = startY - (vectorA.y + vectorB.y) * scale;

       drawVector(startX, startY, endAX, endAY, '#3498db', 'A');
       drawVector(startX, startY, endBX, endBY, '#e74c3c', 'B');
       drawVector(startX, startY, endSumX, endSumY, '#27ae60', 'A+B', 0, -15);

       // Draw parallelogram
       ctx.strokeStyle = '#95a5a6';
       ctx.setLineDash([5, 5]);
       ctx.beginPath();
       ctx.moveTo(endAX, endAY);
       ctx.lineTo(endSumX, endSumY);
       ctx.lineTo(endBX, endBY);
       ctx.stroke();
       ctx.setLineDash([]);

       drawPoint(startX, startY, 'O');
       drawPoint(endAX, endAY, 'P');
       drawPoint(endBX, endBY, 'Q');
       drawPoint(endSumX, endSumY, 'R');

     } else if (additionMethod === 'commutative') {
       // Show both A+B and B+A
       const endABX = startX + (vectorA.x + vectorB.x) * scale;
       const endABY = startY - (vectorA.y + vectorB.y) * scale;
       const endBAX = startX + (vectorB.x + vectorA.x) * scale;
       const endBAY = startY - (vectorB.y + vectorA.y) * scale;

       drawVector(startX, startY, endABX, endABY, '#27ae60', 'A+B', 0, -15);
       drawVector(startX + 200, startY, startX + 200 + vectorB.x * scale, startY - vectorB.y * scale, '#e74c3c', 'B');
       drawVector(startX + 200 + vectorB.x * scale, startY - vectorB.y * scale, startX + 200 + (vectorB.x + vectorA.x) * scale, startY - (vectorB.y + vectorA.y) * scale, '#3498db', 'A');

       // Label the commutative result
       ctx.fillStyle = '#333';
       ctx.font = 'bold 16px Arial';
       ctx.fillText('A+B = B+A', centerX - 40, centerY + 180);
     }
   }

   function updateVectors() {
     vectorA.x = parseFloat(document.getElementById('vecAx').value);
     vectorA.y = parseFloat(document.getElementById('vecAy').value);
     vectorB.x = parseFloat(document.getElementById('vecBx').value);
     vectorB.y = parseFloat(document.getElementById('vecBy').value);
     additionMethod = document.getElementById('addition-method').value;

     updateDisplay();
     drawVectorAddition();
   }

   function resetVectors() {
     document.getElementById('vecAx').value = 3;
     document.getElementById('vecAy').value = 2;
     document.getElementById('vecBx').value = 1;
     document.getElementById('vecBy').value = 4;
     document.getElementById('addition-method').value = 'triangle';
     updateVectors();
   }

   function updateDisplay() {
     const sumX = vectorA.x + vectorB.x;
     const sumY = vectorA.y + vectorB.y;
     const magA = Math.sqrt(vectorA.x * vectorA.x + vectorA.y * vectorA.y);
     const magB = Math.sqrt(vectorB.x * vectorB.x + vectorB.y * vectorB.y);
     const magSum = Math.sqrt(sumX * sumX + sumY * sumY);

     const resultDiv = document.getElementById('vector-result');
     resultDiv.innerHTML = `Vector A: (${vectorA.x}, ${vectorA.y}), Magnitude: ${magA.toFixed(2)}<br>` +
                          `Vector B: (${vectorB.x}, ${vectorB.y}), Magnitude: ${magB.toFixed(2)}<br>` +
                          `A + B = (${sumX}, ${sumY}), Magnitude: ${magSum.toFixed(2)}<br>` +
                          `B + A = (${sumX}, ${sumY}), Magnitude: ${magSum.toFixed(2)}`;
   }

   // Solution toggle function
   function toggleSolution(id) {
     const element = document.getElementById(id);
     const button = element.previousElementSibling;
     if (element.style.display === 'none' || element.style.display === '') {
       element.style.display = 'block';
       button.textContent = 'Hide Solution';
     } else {
       element.style.display = 'none';
       button.textContent = 'Show Solution';
     }
   }

   // Initialize
   document.addEventListener('DOMContentLoaded', function() {
     updateDisplay();
     drawVectorAddition();

     // MathJax rendering
     if (typeof renderMathInElement !== 'undefined') {
       renderMathInElement(document.body, {
         delimiters: [
           {left: "$$", right: "$$", display: true},
           {left: "\\(", right: "\\)", display: false},
           {left: "\\[", right: "\\]", display: true}
         ],
         throwOnError: false
       });
     }
   });
  </script>
 </body>
</html>
