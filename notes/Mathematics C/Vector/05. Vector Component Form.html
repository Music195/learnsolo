<!DOCTYPE html>
<!-- tags: Vector -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Component Form of Vector Operations
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
    /* Enhanced text containment and readability */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }

    .main-content {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .section {
      margin-bottom: 40px;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .section h2 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
      margin-bottom: 20px;
      font-size: 1.8em;
      font-weight: 600;
    }

    .section h3 {
      color: #34495e;
      margin-bottom: 15px;
      font-size: 1.4em;
      font-weight: 500;
    }

    /* Law blocks with gradient backgrounds */
    .law-block {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .law-eq {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .law-block .math {
      margin: 8px 0;
      font-size: 1.1em;
      line-height: 1.6;
    }

    /* Operation blocks */
    .operation-block {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(245,87,108,0.3);
    }

    .operation-block .formula {
      background: rgba(255,255,255,0.9);
      color: #333;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.3em;
      font-weight: bold;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Hint blocks */
    .hint-block {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(79,172,254,0.3);
    }

    .hint-block strong {
      font-size: 1.2em;
      display: block;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    /* Interactive demo styling */
    .interactive-demo {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 4px 15px rgba(168,237,234,0.3);
    }

    .interactive-demo h3 {
      color: #2c3e50;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.5em;
    }

    .demo-input {
      width: 80px;
      padding: 8px 12px;
      border: 2px solid #3498db;
      border-radius: 6px;
      font-size: 1em;
      margin: 0 5px;
      background: rgba(255,255,255,0.9);
      color: #333;
    }

    .demo-input:focus {
      outline: none;
      border-color: #2980b9;
      box-shadow: 0 0 5px rgba(52,152,219,0.5);
    }

    .demo-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      margin: 5px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(102,126,234,0.3);
    }

    .demo-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(102,126,234,0.4);
    }

    .demo-result {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin-top: 15px;
      font-family: 'Courier New', monospace;
      font-size: 1em;
      color: #333;
      white-space: pre-line;
      border: 1px solid #ddd;
      min-height: 40px;
    }

    /* Problem items */
    .problem-item {
      background: rgba(255,255,255,0.95);
      border-radius: 10px;
      padding: 20px;
      margin: 15px 0;
      border-left: 5px solid #3498db;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .problem-number {
      display: inline-block;
      background: #3498db;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      margin-right: 15px;
      vertical-align: top;
    }

    .problem-content {
      display: inline-block;
      width: calc(100% - 50px);
      vertical-align: top;
    }

    .solution-button {
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      color: #333;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      margin: 10px 0;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(255,154,158,0.3);
    }

    .solution-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 3px 12px rgba(255,154,158,0.4);
    }

    .solution-content {
      display: none;
      margin-top: 15px;
      padding: 15px;
      background: rgba(240,240,240,0.8);
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .calculation-steps {
      margin: 10px 0;
    }

    .calculation-step {
      margin: 8px 0;
      padding: 8px 12px;
      background: rgba(255,255,255,0.7);
      border-radius: 6px;
      border-left: 3px solid #3498db;
    }

    /* Key takeaways */
    .key-takeaways {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .key-takeaways h3 {
      text-align: center;
      font-size: 1.5em;
      margin-bottom: 20px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .key-takeaways ul {
      list-style: none;
      padding: 0;
    }

    .key-takeaways li {
      margin: 10px 0;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .key-takeaways li:last-child {
      border-bottom: none;
    }

    /* Enhanced canvas styling */
    .vector-canvas {
      display: block;
      margin: 20px auto;
      border: 2px solid #3498db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 15px rgba(52,152,219,0.2);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .main-content {
        padding: 20px;
      }

      .section {
        padding: 15px;
      }

      .interactive-demo {
        padding: 15px;
      }

      .demo-input {
        width: 60px;
        margin: 5px;
      }

      .demo-button {
        display: block;
        width: 100%;
        margin: 5px 0;
      }

      .problem-content {
        width: calc(100% - 40px);
      }
    }

    /* MathJax styling */
    .mjx-chtml {
      font-size: 1.1em !important;
    }

    /* Formula boxes */
    .formula-box {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.2em;
      font-weight: bold;
      color: #333;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Property lists */
    .property-list {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      color: #333;
    }

    .property-list li {
      margin: 8px 0;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }

    .property-list li:last-child {
      border-bottom: none;
    }

    /* Vector law styling */
    .vector-law {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 10px 0;
      border-left: 4px solid #3498db;
      color: #333;
    }

    .law-name {
      font-weight: bold;
      color: #3498db;
      margin-bottom: 5px;
    }

    .law-formula {
      font-size: 1.2em;
      margin: 8px 0;
      text-align: center;
      font-weight: bold;
    }

    .law-description {
      font-style: italic;
      color: #666;
    }

    /* Component controls */
    .component-controls {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin: 20px 0;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .control-label {
      font-size: 0.9em;
      font-weight: bold;
      color: #333;
    }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Vector Component Form, Vector Operations, Linear Algebra">
   Component Form of Vector Operations
  </div>
  <div class="container">
   <div class="main-content">

    <!-- Mathematical Foundation -->
    <div class="section">
     <h2>Mathematical Foundation</h2>

     <div class="hint-block">
      <strong>Component Form Operations</strong>
      <p>Vector operations can be performed component-wise when vectors are expressed in component form. This algebraic approach makes vector calculations straightforward and connects vector algebra with coordinate geometry. Each operation affects corresponding components independently.</p>
     </div>

     <div class="law-block">
      <div class="law-eq">Component-wise Vector Operations</div>

      <div class="vector-law">
       <div class="law-name">Vector Addition</div>
       <div class="law-formula">\((a_1, a_2) + (b_1, b_2) = (a_1 + b_1, a_2 + b_2)\)</div>
       <div class="law-description">Add corresponding components to get the resultant vector</div>
      </div>

      <div class="vector-law">
       <div class="law-name">Vector Subtraction</div>
       <div class="law-formula">\((a_1, a_2) - (b_1, b_2) = (a_1 - b_1, a_2 - b_2)\)</div>
       <div class="law-description">Subtract corresponding components to get the difference vector</div>
      </div>

      <div class="vector-law">
       <div class="law-name">Scalar Multiplication</div>
       <div class="law-formula">\(k(a_1, a_2) = (ka_1, ka_2)\)</div>
       <div class="law-description">Multiply each component by the scalar</div>
      </div>

      <div class="vector-law">
       <div class="law-name">Zero Vector</div>
       <div class="law-formula">\((0, 0)\)</div>
       <div class="law-description">The additive identity with zero components</div>
      </div>
     </div>

     <div class="operation-block">
      <div class="formula">
       Geometric Interpretation
      </div>
      <p style="color: white; margin: 15px 0;">Component operations correspond to:</p>
      <ul style="color: white; margin: 15px 0;">
       <li><strong>Addition:</strong> Parallelogram law - resultant vector from origin to sum of endpoints</li>
       <li><strong>Subtraction:</strong> Vector from second point to first point</li>
       <li><strong>Scalar Multiplication:</strong> Scaling in magnitude and possible direction change</li>
       <li><strong>Components:</strong> Projections onto coordinate axes</li>
      </ul>
     </div>
    </div>

    <!-- Interactive Component Operations Visualizer -->
    <div class="section">
     <h2>Interactive Component Operations</h2>

     <div class="interactive-demo">
      <h3>Vector Component Calculator</h3>
      <p>Explore vector operations through their components:</p>

      <div class="component-controls">
       <div class="control-group">
        <label class="control-label">Vector A (x, y)</label>
        <input type="number" id="vecAx" class="demo-input" value="3" step="0.5">
        <input type="number" id="vecAy" class="demo-input" value="4" step="0.5">
       </div>

       <div class="control-group">
        <label class="control-label">Vector B (x, y)</label>
        <input type="number" id="vecBx" class="demo-input" value="1" step="0.5">
        <input type="number" id="vecBy" class="demo-input" value="2" step="0.5">
       </div>

       <div class="control-group">
        <label class="control-label">Scalar k</label>
        <input type="number" id="scalar-k" class="demo-input" value="2" step="0.1">
       </div>

       <div class="control-group">
        <label class="control-label">Operation</label>
        <select id="operation-type" class="demo-input" style="width: 100px;">
         <option value="add">A + B</option>
         <option value="subtract">A - B</option>
         <option value="scale">k × A</option>
         <option value="scale-b">k × B</option>
        </select>
       </div>
      </div>

      <div style="text-align: center; margin: 20px 0;">
       <button class="demo-button" onclick="updateComponentOperations()">Calculate</button>
       <button class="demo-button" onclick="resetComponentDemo()">Reset</button>
      </div>

      <canvas id="component-canvas" width="600" height="400" class="vector-canvas"></canvas>

      <div class="demo-result" id="component-result">
       Vector A: (3, 4)<br>
       Vector B: (1, 2)<br>
       A + B = (4, 6)<br>
       Components: x = 3+1 = 4, y = 4+2 = 6
      </div>
     </div>
    </div>

    <!-- Properties of Component Operations -->
    <div class="section">
     <h2>Properties of Component Operations</h2>

     <div class="formula-box">
      Vector operations satisfy the same algebraic properties as real numbers
     </div>

     <div class="law-block">
      <div class="law-eq">Algebraic Properties in Component Form</div>

      <div class="vector-law">
       <div class="law-name">Commutativity of Addition</div>
       <div class="law-formula">\((a_1, a_2) + (b_1, b_2) = (b_1, b_2) + (a_1, a_2)\)</div>
       <div class="law-description">Order doesn't matter: (a₁ + b₁, a₂ + b₂) = (b₁ + a₁, b₂ + a₂)</div>
      </div>

      <div class="vector-law">
       <div class="law-name">Associativity of Addition</div>
       <div class="law-formula">\((a + b) + c = a + (b + c)\)</div>
       <div class="law-description">Grouping doesn't matter for vector addition</div>
      </div>

      <div class="vector-law">
       <div class="law-name">Distributivity</div>
       <div class="law-formula">\(k(a + b) = ka + kb\)</div>
       <div class="law-description">Scalar multiplication distributes over vector addition</div>
      </div>

      <div class="vector-law">
       <div class="law-name">Additive Identity</div>
       <div class="law-formula">\((a_1, a_2) + (0, 0) = (a_1, a_2)\)</div>
       <div class="law-description">Zero vector doesn't change the original vector</div>
      </div>
     </div>
    </div>

    <!-- Worked Examples -->
    <div class="section">
     <h2>Worked Examples</h2>

     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       <strong>Problem:</strong> Given \(\vec{a} = (3, 4)\) and \(\vec{b} = (1, 2)\), find \(\vec{a} + \vec{b}\) and \(\vec{a} - \vec{b}\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol1')">Show Solution</button>
       <div class="solution-content" id="sol1">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Vector addition
          <br>\(\vec{a} + \vec{b} = (3+1, 4+2) = (4, 6)\)
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Vector subtraction
          <br>\(\vec{a} - \vec{b} = (3-1, 4-2) = (2, 2)\)
         </div>
         <div class="calculation-step">
          <strong>Step 3:</strong> Verify geometrically
          <br>Addition: Move from origin along a, then along b
          <br>Subtraction: From a to b gives the difference vector
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> \(\vec{a} + \vec{b} = (4, 6)\), \(\vec{a} - \vec{b} = (2, 2)\)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       <strong>Problem:</strong> Find \(3\vec{a} - 2\vec{b}\) where \(\vec{a} = (2, 1)\) and \(\vec{b} = (1, 3)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol2')">Show Solution</button>
       <div class="solution-content" id="sol2">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Scalar multiplication
          <br>\(3\vec{a} = 3(2, 1) = (6, 3)\)
          <br>\(2\vec{b} = 2(1, 3) = (2, 6)\)
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Vector subtraction
          <br>\(3\vec{a} - 2\vec{b} = (6-2, 3-6) = (4, -3)\)
         </div>
         <div class="calculation-step">
          <strong>Step 3:</strong> Alternative calculation
          <br>\(3\vec{a} - 2\vec{b} = 3(2, 1) - 2(1, 3) = (6, 3) + (-2, -6) = (4, -3)\)
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> \(3\vec{a} - 2\vec{b} = (4, -3)\)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       <strong>Problem:</strong> Verify the distributive property: \(2(\vec{a} + \vec{b}) = 2\vec{a} + 2\vec{b}\) for \(\vec{a} = (1, 2)\), \(\vec{b} = (3, 1)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol3')">Show Solution</button>
       <div class="solution-content" id="sol3">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Left side: \(2(\vec{a} + \vec{b})\)
          <br>\(\vec{a} + \vec{b} = (1+3, 2+1) = (4, 3)\)
          <br>\(2(4, 3) = (8, 6)\)
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Right side: \(2\vec{a} + 2\vec{b}\)
          <br>\(2\vec{a} = 2(1, 2) = (2, 4)\)
          <br>\(2\vec{b} = 2(3, 1) = (6, 2)\)
          <br>\(2\vec{a} + 2\vec{b} = (2+6, 4+2) = (8, 6)\)
         </div>
         <div class="calculation-step">
          <strong>Step 3:</strong> Verify equality
          <br>Both sides equal (8, 6), distributive property holds
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> Distributive property verified: both sides give (8, 6)
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>

    <!-- Applications -->
    <div class="section">
     <h2>Applications</h2>

     <h3>Coordinate Geometry</h3>
     <div class="property-list">
      <li><strong>Midpoint Formula:</strong> \(\left(\dfrac{x_1+x_2}{2}, \dfrac{y_1+y_2}{2}\right)\) - average of coordinates</li>
      <li><strong>Section Formula:</strong> Point dividing line in ratio m:n</li>
      <li><strong>Position Vectors:</strong> Vectors from origin to points</li>
      <li><strong>Displacement:</strong> Change in position coordinates</li>
     </div>

     <h3>Physics and Engineering</h3>
     <div class="property-list">
      <li><strong>Resultant Forces:</strong> Vector sum of multiple forces</li>
      <li><strong>Velocity Addition:</strong> Relative velocity calculations</li>
      <li><strong>Electric Fields:</strong> Superposition of field vectors</li>
      <li><strong>Structural Analysis:</strong> Force equilibrium equations</li>
     </div>

     <div class="hint-block">
      <strong>Real-World Connection:</strong>
      <p>In computer graphics, 3D models are positioned and transformed using vector component operations. Each vertex coordinate is updated through addition, subtraction, and scalar multiplication to create animations and camera movements.</p>
     </div>
    </div>

    <!-- Practice Problems -->
    <div class="section">
     <h2>Practice Problems</h2>

     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       Find \(\vec{a} + \vec{b}\) where \(\vec{a} = (4, 3)\) and \(\vec{b} = (2, 5)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac1')">Show Solution</button>
       <div class="solution-content" id="prac1">
        <div class="calculation-steps">
         <div class="calculation-step">
          \(\vec{a} + \vec{b} = (4+2, 3+5) = (6, 8)\)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       Find \(2\vec{a} - 3\vec{b}\) where \(\vec{a} = (3, 2)\) and \(\vec{b} = (1, 4)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac2')">Show Solution</button>
       <div class="solution-content" id="prac2">
        <div class="calculation-steps">
         <div class="calculation-step">
          2\(\vec{a} = (6, 4)\), 3\(\vec{b} = (3, 12)\)
         </div>
         <div class="calculation-step">
          2\(\vec{a} - 3\vec{b} = (6-3, 4-12) = (3, -8)\)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       Verify: \((\vec{a} + \vec{b}) + \vec{c} = \vec{a} + (\vec{b} + \vec{c})\) for \(\vec{a} = (1, 2)\), \(\vec{b} = (3, 1)\), \(\vec{c} = (2, 3)\).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac3')">Show Solution</button>
       <div class="solution-content" id="prac3">
        <div class="calculation-steps">
         <div class="calculation-step">
          Left: (\(\vec{a} + \vec{b}\)) + \(\vec{c} = (4, 3) + (2, 3) = (6, 6)\)
         </div>
         <div class="calculation-step">
          Right: \(\vec{a} + (\vec{b} + \vec{c}) = (1, 2) + (5, 4) = (6, 6)\)
         </div>
         <div class="calculation-step">
          Equal, associativity verified
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>

    <!-- Key Takeaways -->
    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li><strong>Vector Addition:</strong> \((a_1, a_2) + (b_1, b_2) = (a_1 + b_1, a_2 + b_2)\) - add corresponding components</li>
      <li><strong>Vector Subtraction:</strong> \((a_1, a_2) - (b_1, b_2) = (a_1 - b_1, a_2 - b_2)\) - subtract corresponding components</li>
      <li><strong>Scalar Multiplication:</strong> \(k(a_1, a_2) = (ka_1, ka_2)\) - multiply each component by scalar</li>
      <li><strong>Commutativity:</strong> \(\vec{a} + \vec{b} = \vec{b} + \vec{a}\) - order doesn't matter</li>
      <li><strong>Associativity:</strong> \((\vec{a} + \vec{b}) + \vec{c} = \vec{a} + (\vec{b} + \vec{c})\) - grouping doesn't matter</li>
      <li><strong>Distributivity:</strong> \(k(\vec{a} + \vec{b}) = k\vec{a} + k\vec{b}\) - scalar distributes over addition</li>
      <li><strong>Zero Vector:</strong> \((0, 0)\) is the additive identity</li>
      <li>Component operations enable algebraic manipulation of vectors</li>
     </ul>
    </div>

   </div>
  </div>

  <script>
   // Interactive Component Operations Visualizer
   let vectorA = { x: 3, y: 4 };
   let vectorB = { x: 1, y: 2 };
   let scalarK = 2;
   let operationType = 'add';

   const canvas = document.getElementById('component-canvas');
   const ctx = canvas.getContext('2d');
   const width = canvas.width;
   const height = canvas.height;
   const centerX = width / 2;
   const centerY = height / 2;
   const scale = 15; // pixels per unit

   function drawVector(startX, startY, endX, endY, color, label, labelOffsetX = 0, labelOffsetY = 0) {
     // Draw the vector line
     ctx.strokeStyle = color;
     ctx.lineWidth = 3;
     ctx.beginPath();
     ctx.moveTo(startX, startY);
     ctx.lineTo(endX, endY);
     ctx.stroke();

     // Draw arrowhead
     const angle = Math.atan2(endY - startY, endX - startX);
     const arrowLength = 12;
     ctx.beginPath();
     ctx.moveTo(endX, endY);
     ctx.lineTo(endX - arrowLength * Math.cos(angle - Math.PI / 6), endY - arrowLength * Math.sin(angle - Math.PI / 6));
     ctx.lineTo(endX - arrowLength * Math.cos(angle + Math.PI / 6), endY - arrowLength * Math.sin(angle + Math.PI / 6));
     ctx.closePath();
     ctx.fillStyle = color;
     ctx.fill();

     // Draw label
     if (label) {
       ctx.fillStyle = '#333';
       ctx.font = 'bold 14px Arial';
       const midX = (startX + endX) / 2 + labelOffsetX;
       const midY = (startY + endY) / 2 + labelOffsetY;
       ctx.fillText(label, midX, midY);
     }
   }

   function drawPoint(x, y, label, color = '#333') {
     ctx.fillStyle = color;
     ctx.beginPath();
     ctx.arc(x, y, 4, 0, 2 * Math.PI);
     ctx.fill();

     if (label) {
       ctx.fillStyle = '#333';
       ctx.font = '12px Arial';
       ctx.fillText(label, x + 8, y - 8);
     }
   }

   function drawComponentOperations() {
     ctx.clearRect(0, 0, width, height);

     // Draw coordinate system
     ctx.strokeStyle = '#ddd';
     ctx.lineWidth = 1;
     for (let i = -15; i <= 15; i++) {
       // Vertical grid lines
       ctx.beginPath();
       ctx.moveTo(centerX + i * scale, 0);
       ctx.lineTo(centerX + i * scale, height);
       ctx.stroke();

       // Horizontal grid lines
       ctx.beginPath();
       ctx.moveTo(0, centerY + i * scale);
       ctx.lineTo(width, centerY + i * scale);
       ctx.stroke();
     }

     // Draw axes
     ctx.strokeStyle = '#333';
     ctx.lineWidth = 2;
     ctx.beginPath();
     ctx.moveTo(0, centerY);
     ctx.lineTo(width, centerY);
     ctx.moveTo(centerX, 0);
     ctx.lineTo(centerX, height);
     ctx.stroke();

     const startX = centerX;
     const startY = centerY;

     if (operationType === 'add') {
       // Show A, B, and A + B
       const endAx = startX + vectorA.x * scale;
       const endAy = startY - vectorA.y * scale;
       const endBx = startX + vectorB.x * scale;
       const endBy = startY - vectorB.y * scale;
       const endSumX = endAx + vectorB.x * scale;
       const endSumY = endAy - vectorB.y * scale;

       drawVector(startX, startY, endAx, endAy, '#3498db', 'A');
       drawVector(startX, startY, endBx, endBy, '#e74c3c', 'B');
       drawVector(startX, startY, endSumX, endSumY, '#27ae60', 'A+B');

       drawPoint(startX, startY, 'O');

     } else if (operationType === 'subtract') {
       // Show A, B, and A - B
       const endAx = startX + vectorA.x * scale;
       const endAy = startY - vectorA.y * scale;
       const endBx = startX + vectorB.x * scale;
       const endBy = startY - vectorB.y * scale;
       const endDiffX = endAx - vectorB.x * scale;
       const endDiffY = endAy + vectorB.y * scale;

       drawVector(startX, startY, endAx, endAy, '#3498db', 'A');
       drawVector(startX, startY, endBx, endBy, '#e74c3c', 'B');
       drawVector(startX, startY, endDiffX, endDiffY, '#27ae60', 'A-B');

       drawPoint(startX, startY, 'O');

     } else if (operationType === 'scale') {
       // Show A and kA
       const endAx = startX + vectorA.x * scale;
       const endAy = startY - vectorA.y * scale;
       const endScaledX = startX + (vectorA.x * scalarK) * scale;
       const endScaledY = startY - (vectorA.y * scalarK) * scale;

       drawVector(startX, startY, endAx, endAy, '#3498db', 'A');
       drawVector(startX, startY, endScaledX, endScaledY, '#e74c3c', `${scalarK}A`);

       drawPoint(startX, startY, 'O');

     } else if (operationType === 'scale-b') {
       // Show B and kB
       const endBx = startX + vectorB.x * scale;
       const endBy = startY - vectorB.y * scale;
       const endScaledX = startX + (vectorB.x * scalarK) * scale;
       const endScaledY = startY - (vectorB.y * scalarK) * scale;

       drawVector(startX, startY, endBx, endBy, '#e74c3c', 'B');
       drawVector(startX, startY, endScaledX, endScaledY, '#27ae60', `${scalarK}B`);

       drawPoint(startX, startY, 'O');
     }
   }

   function updateComponentOperations() {
     vectorA.x = parseFloat(document.getElementById('vecAx').value);
     vectorA.y = parseFloat(document.getElementById('vecAy').value);
     vectorB.x = parseFloat(document.getElementById('vecBx').value);
     vectorB.y = parseFloat(document.getElementById('vecBy').value);
     scalarK = parseFloat(document.getElementById('scalar-k').value);
     operationType = document.getElementById('operation-type').value;

     updateComponentDisplay();
     drawComponentOperations();
   }

   function resetComponentDemo() {
     document.getElementById('vecAx').value = 3;
     document.getElementById('vecAy').value = 4;
     document.getElementById('vecBx').value = 1;
     document.getElementById('vecBy').value = 2;
     document.getElementById('scalar-k').value = 2;
     document.getElementById('operation-type').value = 'add';
     updateComponentOperations();
   }

   function updateComponentDisplay() {
     let result = `Vector A: (${vectorA.x}, ${vectorA.y})\n`;
     result += `Vector B: (${vectorB.x}, ${vectorB.y})\n`;

     if (operationType === 'add') {
       const sumX = vectorA.x + vectorB.x;
       const sumY = vectorA.y + vectorB.y;
       result += `A + B = (${sumX}, ${sumY})\n`;
       result += `Components: x = ${vectorA.x}+${vectorB.x} = ${sumX}, y = ${vectorA.y}+${vectorB.y} = ${sumY}`;
     } else if (operationType === 'subtract') {
       const diffX = vectorA.x - vectorB.x;
       const diffY = vectorA.y - vectorB.y;
       result += `A - B = (${diffX}, ${diffY})\n`;
       result += `Components: x = ${vectorA.x}-${vectorB.x} = ${diffX}, y = ${vectorA.y}-${vectorB.y} = ${diffY}`;
     } else if (operationType === 'scale') {
       const scaledX = vectorA.x * scalarK;
       const scaledY = vectorA.y * scalarK;
       result += `${scalarK} × A = (${scaledX}, ${scaledY})\n`;
       result += `Components: x = ${vectorA.x}×${scalarK} = ${scaledX}, y = ${vectorA.y}×${scalarK} = ${scaledY}`;
     } else if (operationType === 'scale-b') {
       const scaledX = vectorB.x * scalarK;
       const scaledY = vectorB.y * scalarK;
       result += `${scalarK} × B = (${scaledX}, ${scaledY})\n`;
       result += `Components: x = ${vectorB.x}×${scalarK} = ${scaledX}, y = ${vectorB.y}×${scalarK} = ${scaledY}`;
     }

     document.getElementById('component-result').textContent = result;
   }

   // Solution toggle function
   function toggleSolution(id) {
     const element = document.getElementById(id);
     const button = element.previousElementSibling;
     if (element.style.display === 'none' || element.style.display === '') {
       element.style.display = 'block';
       button.textContent = 'Hide Solution';
     } else {
       element.style.display = 'none';
       button.textContent = 'Show Solution';
     }
   }

   // Initialize
   document.addEventListener('DOMContentLoaded', function() {
     updateComponentDisplay();
     drawComponentOperations();

     // MathJax rendering
     if (typeof renderMathInElement !== 'undefined') {
       renderMathInElement(document.body, {
         delimiters: [
           {left: "$$", right: "$$", display: true},
           {left: "\\(", right: "\\)", display: false},
           {left: "\\[", right: "\\]", display: true}
         ],
         throwOnError: false
       });
     }
   });
  </script>
 </body>
</html>
