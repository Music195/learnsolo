<!DOCTYPE html>
<!-- tags: Complex Plane -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Section and Midpoint Formula
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
    /* Enhanced text containment and readability */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }

    .main-content {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .section {
      margin-bottom: 40px;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .section h2 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
      margin-bottom: 20px;
      font-size: 1.8em;
      font-weight: 600;
    }

    .section h3 {
      color: #34495e;
      margin-bottom: 15px;
      font-size: 1.4em;
      font-weight: 500;
    }

    /* Law blocks with gradient backgrounds */
    .law-block {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .law-eq {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .law-block .math {
      margin: 8px 0;
      font-size: 1.1em;
      line-height: 1.6;
    }

    /* Operation blocks */
    .operation-block {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(245,87,108,0.3);
    }

    .operation-block .theorem {
      background: rgba(255,255,255,0.9);
      color: #333;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.3em;
      font-weight: bold;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Hint blocks */
    .hint-block {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(79,172,254,0.3);
    }

    .hint-block strong {
      font-size: 1.2em;
      display: block;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    /* Interactive demo styling */
    .interactive-demo {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 4px 15px rgba(168,237,234,0.3);
    }

    .interactive-demo h3 {
      color: #2c3e50;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.5em;
    }

    .demo-input {
      width: 80px;
      padding: 8px 12px;
      border: 2px solid #3498db;
      border-radius: 6px;
      font-size: 1em;
      margin: 0 5px;
      background: rgba(255,255,255,0.9);
      color: #333;
    }

    .demo-input:focus {
      outline: none;
      border-color: #2980b9;
      box-shadow: 0 0 5px rgba(52,152,219,0.5);
    }

    .demo-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      margin: 5px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(102,126,234,0.3);
    }

    .demo-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(102,126,234,0.4);
    }

    .demo-result {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin-top: 15px;
      font-family: 'Courier New', monospace;
      font-size: 1em;
      color: #333;
      white-space: pre-line;
      border: 1px solid #ddd;
      min-height: 40px;
    }

    /* Problem items */
    .problem-item {
      background: rgba(255,255,255,0.95);
      border-radius: 10px;
      padding: 20px;
      margin: 15px 0;
      border-left: 5px solid #3498db;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .problem-number {
      display: inline-block;
      background: #3498db;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      margin-right: 15px;
      vertical-align: top;
    }

    .problem-content {
      display: inline-block;
      width: calc(100% - 50px);
      vertical-align: top;
    }

    .solution-button {
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      color: #333;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      margin: 10px 0;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(255,154,158,0.3);
    }

    .solution-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 3px 12px rgba(255,154,158,0.4);
    }

    .solution-content {
      display: none;
      margin-top: 15px;
      padding: 15px;
      background: rgba(240,240,240,0.8);
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .calculation-steps {
      margin: 10px 0;
    }

    .calculation-step {
      margin: 8px 0;
      padding: 8px 12px;
      background: rgba(255,255,255,0.7);
      border-radius: 6px;
      border-left: 3px solid #3498db;
    }

    /* Key takeaways */
    .key-takeaways {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .key-takeaways h3 {
      text-align: center;
      font-size: 1.5em;
      margin-bottom: 20px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .key-takeaways ul {
      list-style: none;
      padding: 0;
    }

    .key-takeaways li {
      margin: 10px 0;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .key-takeaways li:last-child {
      border-bottom: none;
    }

    /* Enhanced canvas styling */
    .section-canvas {
      display: block;
      margin: 20px auto;
      border: 2px solid #3498db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 15px rgba(52,152,219,0.2);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .main-content {
        padding: 20px;
      }

      .section {
        padding: 15px;
      }

      .interactive-demo {
        padding: 15px;
      }

      .demo-input {
        width: 60px;
        margin: 5px;
      }

      .demo-button {
        display: block;
        width: 100%;
        margin: 5px 0;
      }

      .problem-content {
        width: calc(100% - 40px);
      }
    }

    /* MathJax styling */
    .mjx-chtml {
      font-size: 1.1em !important;
    }

    /* Formula boxes */
    .formula-box {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.2em;
      font-weight: bold;
      color: #333;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Property lists */
    .property-list {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      color: #333;
    }

    .property-list li {
      margin: 8px 0;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }

    .property-list li:last-child {
      border-bottom: none;
    }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Complex Plane">
   Section and Midpoint Formula
  </div>
  <div class="container">
   <div class="main-content">
    <div class="section">
     <h2>Core Concept: Section Formula</h2>
     <p>The section formula allows us to find the coordinates of a point that divides a line segment joining two complex numbers in a given ratio. This is fundamental for coordinate geometry in the complex plane.</p>
     
     <div class="operation-block">
      <p>
       For two complex numbers A(α) and B(β), the point dividing AB in the ratio m:n is:
      </p>
      <div class="theorem">
       $$
        \text{Internal division: } \frac{n\alpha + m\beta}{m+n}
       $$
       <br><br>
       $$
        \text{External division: } \frac{m\beta - n\alpha}{m-n}
       $$
       <br><br>
       $$
        \text{Midpoint: } \frac{\alpha + \beta}{2}
       $$
      </div>
     </div>
     
     <div class="hint-block">
      <strong>
       Key Properties:
      </strong>
      <ul>
       <li><strong>Internal division:</strong> Point lies between A and B (m,n > 0)</li>
       <li><strong>External division:</strong> Point lies outside segment AB</li>
       <li><strong>Midpoint:</strong> Special case of internal division with m:n = 1:1</li>
       <li><strong>Complex coordinates:</strong> Works directly with complex numbers</li>
       <li><strong>Vector interpretation:</strong> Position vector of section point</li>
       <li><strong>Centroid formula:</strong> Extends to three points</li>
      </ul>
     </div>
    </div>

    <div class="interactive-demo">
      <h3>Interactive Section Calculator</h3>
      <div style="margin: 20px 0;">
        <div style="margin-bottom: 15px;">
          <strong>Point A:</strong> <input type="text" id="pointA" value="2+3i" class="demo-input" placeholder="a+bi">
          <strong>Point B:</strong> <input type="text" id="pointB" value="6-2i" class="demo-input" placeholder="a+bi">
        </div>
        <div style="margin-bottom: 15px;">
          <strong>Ratio m:n =</strong> <input type="number" id="ratioM" value="2" min="1" class="demo-input"> : <input type="number" id="ratioN" value="3" min="1" class="demo-input">
        </div>
      </div>
      <button onclick="calculateSection()" class="demo-button">Calculate Section Point</button>
      <button onclick="calculateMidpoint()" class="demo-button">Calculate Midpoint</button>
      <button onclick="showExternal()" class="demo-button">External Division</button>
      <button onclick="drawPoints()" class="demo-button">Visualize on Plane</button>
      <div class="demo-result" id="sectionResult"></div>
      <canvas id="sectionCanvas" width="500" height="500" class="section-canvas"></canvas>
    </div>

    <div class="section">
     <h2>Mathematical Foundation</h2>
     
     <div class="law-block">
      <div class="law-eq">Derivation of Section Formula</div>
      <div class="math">Consider points A(α) and B(β) on complex plane</div>
      <div class="math">Let P(z) divide AB in ratio m:n internally</div>
      <div class="math">By section formula: z = (nα + mβ)/(m + n)</div>
      <div class="math">Distance from A to P : Distance from P to B = m:n</div>
      <div class="math">Complex number interpretation: z - α = k(β - α)</div>
      <div class="math">Where k = m/(m+n) for internal division</div>
     </div>
     
     <div class="law-block">
      <div class="law-eq">Special Cases and Extensions</div>
      <ul style="color: white;">
        <li><strong>Midpoint:</strong> m=n=1, z = (α + β)/2</li>
        <li><strong>Trisection:</strong> m:n = 1:2 or 2:1 divides into three equal parts</li>
        <li><strong>Centroid:</strong> For triangle ABC: (A+B+C)/3</li>
        <div class="math" style="margin-top: 10px;">Centroid G = (A + B + C)/3</div>
        <li><strong>External division:</strong> Point beyond B when extended</li>
        <div class="math">z = (mβ - nα)/(m - n)</div>
        <li><strong>Complex vectors:</strong> Section formula as vector combination</li>
      </ul>
     </div>
    </div>

    <div class="section">
      <h2>Worked Examples</h2>
      <div class="problem-item">
        <div class="problem-number">1</div>
        <div class="problem-content">
          <p>Find the point that divides the line segment joining 3+2i and 1-4i in the ratio 2:3 internally.</p>
          <button class="solution-button" onclick="toggleSolution(1)">Show Solution</button>
          <div class="solution-content" id="solution1">
            <div class="calculation-steps">
              <div class="calculation-step">Points: A = 3+2i, B = 1-4i, ratio m:n = 2:3</div>
              <div class="calculation-step">Section formula: z = (nA + mB)/(m + n)</div>
              <div class="calculation-step">z = (3×(3+2i) + 2×(1-4i))/(2 + 3)</div>
              <div class="calculation-step">z = (9+6i + 2-8i)/5 = (11 - 2i)/5</div>
              <div class="calculation-step">z = 11/5 - 2i/5 = 2.2 - 0.4i</div>
              <div class="calculation-step">The point is (11/5) + (-2/5)i</div>
            </div>
          </div>
        </div>
      </div>

      <div class="problem-item">
        <div class="problem-number">2</div>
        <div class="problem-content">
          <p>Find the midpoint of the complex numbers 5+7i and -3+9i.</p>
          <button class="solution-button" onclick="toggleSolution(2)">Show Solution</button>
          <div class="solution-content" id="solution2">
            <div class="calculation-steps">
              <div class="calculation-step">Midpoint formula: z = (A + B)/2</div>
              <div class="calculation-step">A = 5+7i, B = -3+9i</div>
              <div class="calculation-step">z = (5+7i + (-3+9i))/2 = (5-3 + (7+9)i)/2</div>
              <div class="calculation-step">z = (2 + 16i)/2 = 1 + 8i</div>
              <div class="calculation-step">The midpoint is 1 + 8i</div>
            </div>
          </div>
        </div>
      </div>

      <div class="problem-item">
        <div class="problem-number">3</div>
        <div class="problem-content">
          <p>Find the centroid of triangle with vertices 2+i, 3-2i, and -1+3i.</p>
          <button class="solution-button" onclick="toggleSolution(3)">Show Solution</button>
          <div class="solution-content" id="solution3">
            <div class="calculation-steps">
              <div class="calculation-step">Centroid G = (A + B + C)/3</div>
              <div class="calculation-step">A = 2+i, B = 3-2i, C = -1+3i</div>
              <div class="calculation-step">G = (2+i + 3-2i + (-1+3i))/3</div>
              <div class="calculation-step">G = (2+3-1 + (1-2+3)i)/3 = (4 + 2i)/3</div>
              <div class="calculation-step">G = 4/3 + (2/3)i</div>
              <div class="calculation-step">The centroid is (4/3) + (2/3)i</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="section">
     <h2>Applications and Importance</h2>
     <div class="law-block">
      <div class="law-eq">Geometric Applications</div>
      <ul style="color: white;">
        <li><strong>Triangle centroids:</strong> Center of mass of triangle</li>
        <li><strong>Line segment division:</strong> Dividing segments in given ratios</li>
        <li><strong>Complex geometry:</strong> Properties of complex plane figures</li>
        <li><strong>Vector geometry:</strong> Position vectors and linear combinations</li>
        <li><strong>Coordinate transformations:</strong> Affine transformations</li>
        <li><strong>Physics applications:</strong> Center of mass calculations</li>
      </ul>
     </div>
    </div>

    <div class="key-takeaways">
      <h3>Key Takeaways</h3>
      <ul>
        <li>Internal division: (nA + mB)/(m+n) divides segment in ratio m:n</li>
        <li>External division: (mB - nA)/(m-n) extends beyond the segment</li>
        <li>Midpoint: (A + B)/2 is special case of internal division</li>
        <li>Centroid: (A + B + C)/3 for triangle center of mass</li>
        <li>Works directly with complex numbers in rectangular form</li>
        <li>Fundamental for coordinate geometry in complex plane</li>
      </ul>
    </div>
   </div>
  </div>

  <script>
    let canvas = document.getElementById('sectionCanvas');
    let ctx = canvas.getContext('2d');
    let currentPoints = {A: null, B: null, P: null};

    function parseComplex(str) {
      // Simple parser for a+bi format
      str = str.replace(/\s/g, '');
      let real = 0, imag = 0;
      
      // Handle pure real
      if (!isNaN(str)) {
        real = parseFloat(str);
      }
      // Handle pure imaginary
      else if (str.endsWith('i')) {
        if (str === 'i') imag = 1;
        else if (str === '-i') imag = -1;
        else imag = parseFloat(str.slice(0, -1));
      }
      // Handle a+bi format
      else {
        const parts = str.split('i');
        if (parts.length === 2) {
          const realPart = parts[0];
          const imagPart = parts[1];
          
          if (realPart.includes('+')) {
            const realSplit = realPart.split('+');
            real = parseFloat(realSplit[0]);
            imag = parseFloat(imagPart || '1');
          } else if (realPart.includes('-')) {
            const realSplit = realPart.split('-');
            if (realSplit[0] === '') {
              real = -parseFloat(realSplit[1]);
            } else {
              real = parseFloat(realSplit[0]);
            }
            imag = imagPart ? parseFloat(imagPart) : -1;
          } else {
            real = parseFloat(realPart);
            imag = parseFloat(imagPart || '1');
          }
        }
      }
      
      return {real, imag};
    }

    function formatComplex(c) {
      if (c.imag === 0) return c.real.toString();
      if (c.real === 0) {
        if (c.imag === 1) return 'i';
        if (c.imag === -1) return '-i';
        return c.imag + 'i';
      }
      const sign = c.imag >= 0 ? '+' : '';
      const imagStr = c.imag === 1 ? 'i' : c.imag === -1 ? '-i' : c.imag + 'i';
      return c.real + sign + imagStr;
    }

    function calculateSection() {
      try {
        const A = parseComplex(document.getElementById('pointA').value);
        const B = parseComplex(document.getElementById('pointB').value);
        const m = parseFloat(document.getElementById('ratioM').value);
        const n = parseFloat(document.getElementById('ratioN').value);
        
        // Internal division: (nA + mB)/(m + n)
        const numReal = n * A.real + m * B.real;
        const numImag = n * A.imag + m * B.imag;
        const denom = m + n;
        
        const P = {real: numReal / denom, imag: numImag / denom};
        currentPoints = {A, B, P};
        
        document.getElementById('sectionResult').textContent = 
          `Point dividing ${formatComplex(A)} and ${formatComplex(B)} in ratio ${m}:${n} internally:\n` +
          `${formatComplex(P)} = (${n}×${formatComplex(A)} + ${m}×${formatComplex(B)})/(${m}+${n})`;
        
        drawPoints();
      } catch (e) {
        document.getElementById('sectionResult').textContent = 'Error: Please check input format (use a+bi format)';
      }
    }

    function calculateMidpoint() {
      try {
        const A = parseComplex(document.getElementById('pointA').value);
        const B = parseComplex(document.getElementById('pointB').value);
        
        const P = {real: (A.real + B.real)/2, imag: (A.imag + B.imag)/2};
        currentPoints = {A, B, P};
        
        document.getElementById('sectionResult').textContent = 
          `Midpoint of ${formatComplex(A)} and ${formatComplex(B)}:\n` +
          `${formatComplex(P)} = (${formatComplex(A)} + ${formatComplex(B)})/2`;
        
        drawPoints();
      } catch (e) {
        document.getElementById('sectionResult').textContent = 'Error: Please check input format';
      }
    }

    function showExternal() {
      try {
        const A = parseComplex(document.getElementById('pointA').value);
        const B = parseComplex(document.getElementById('pointB').value);
        const m = parseFloat(document.getElementById('ratioM').value);
        const n = parseFloat(document.getElementById('ratioN').value);
        
        // External division: (mB - nA)/(m - n)
        const numReal = m * B.real - n * A.real;
        const numImag = m * B.imag - n * A.imag;
        const denom = m - n;
        
        const P = {real: numReal / denom, imag: numImag / denom};
        currentPoints = {A, B, P};
        
        document.getElementById('sectionResult').textContent = 
          `Point dividing ${formatComplex(A)} and ${formatComplex(B)} in ratio ${m}:${n} externally:\n` +
          `${formatComplex(P)} = (${m}×${formatComplex(B)} - ${n}×${formatComplex(A)})/(${m}-${n})`;
        
        drawPoints();
      } catch (e) {
        document.getElementById('sectionResult').textContent = 'Error: Please check input format';
      }
    }

    function drawPoints() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      const centerX = canvas.width / 2;
      const centerY = canvas.height / 2;
      const scale = 30; // pixels per unit
      
      // Draw axes
      ctx.strokeStyle = '#ccc';
      ctx.lineWidth = 1;
      ctx.beginPath();
      ctx.moveTo(0, centerY);
      ctx.lineTo(canvas.width, centerY);
      ctx.moveTo(centerX, 0);
      ctx.lineTo(centerX, canvas.height);
      ctx.stroke();
      
      // Draw grid
      ctx.strokeStyle = '#f0f0f0';
      ctx.lineWidth = 0.5;
      for (let i = -10; i <= 10; i++) {
        const x = centerX + i * scale;
        const y = centerY + i * scale;
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, canvas.height);
        ctx.moveTo(0, y);
        ctx.lineTo(canvas.width, y);
        ctx.stroke();
      }
      
      // Draw points
      if (currentPoints.A) {
        drawPoint(currentPoints.A, 'A', '#e74c3c');
      }
      if (currentPoints.B) {
        drawPoint(currentPoints.B, 'B', '#e74c3c');
      }
      if (currentPoints.P) {
        drawPoint(currentPoints.P, 'P', '#27ae60');
      }
      
      // Draw line segment
      if (currentPoints.A && currentPoints.B) {
        ctx.strokeStyle = '#3498db';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(centerX + currentPoints.A.real * scale, centerY - currentPoints.A.imag * scale);
        ctx.lineTo(centerX + currentPoints.B.real * scale, centerY - currentPoints.B.imag * scale);
        ctx.stroke();
      }
      
      // Draw extension if external point
      if (currentPoints.A && currentPoints.B && currentPoints.P) {
        const ABx = currentPoints.B.real - currentPoints.A.real;
        const ABy = currentPoints.B.imag - currentPoints.A.imag;
        const APx = currentPoints.P.real - currentPoints.A.real;
        const APy = currentPoints.P.imag - currentPoints.A.imag;
        
        // Check if P is beyond B
        if ((ABx * APx + ABy * APy) > (ABx * ABx + ABy * ABy)) {
          ctx.strokeStyle = '#95a5a6';
          ctx.setLineDash([5, 5]);
          ctx.beginPath();
          ctx.moveTo(centerX + currentPoints.B.real * scale, centerY - currentPoints.B.imag * scale);
          ctx.lineTo(centerX + currentPoints.P.real * scale, centerY - currentPoints.P.imag * scale);
          ctx.stroke();
          ctx.setLineDash([]);
        }
      }
    }

    function drawPoint(point, label, color) {
      const x = canvas.width / 2 + point.real * 30;
      const y = canvas.height / 2 - point.imag * 30;
      
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.arc(x, y, 6, 0, 2 * Math.PI);
      ctx.fill();
      
      ctx.fillStyle = '#fff';
      ctx.font = 'bold 12px Arial';
      ctx.textAlign = 'center';
      ctx.fillText(label, x, y + 4);
    }

    function toggleSolution(problemNumber) {
      const solution = document.getElementById(`solution${problemNumber}`);
      if (solution.style.display === 'block') {
        solution.style.display = 'none';
      } else {
        solution.style.display = 'block';
      }
    }

    // Initialize with default values
    calculateSection();

    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "\\(", right: "\\)", display: false},
                {left: "\\[", right: "\\]", display: true}
            ],
            throwOnError: false
        });
    });
  </script>
 </body>
</html>
