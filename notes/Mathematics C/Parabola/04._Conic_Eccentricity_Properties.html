<!DOCTYPE html>
<!-- tags: Conic Sections, Eccentricity, Geometry -->
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Conic Sections: Eccentricity Properties
  </title>
  <script>
   MathJax = {
            tex: {inlineMath: [['$', '$'], ['\\(', '\\)']]},
            svg: {fontCache: 'global'}
        };
  </script>
  <script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
  </script>
  <link href="/static/notes_style.css" rel="stylesheet"/>
  <style>
    /* Enhanced text containment and readability */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }

    .main-content {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .section {
      margin-bottom: 40px;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .section h2 {
      color: #2c3e50;
      border-bottom: 3px solid #3498db;
      padding-bottom: 10px;
      margin-bottom: 20px;
      font-size: 1.8em;
      font-weight: 600;
    }

    .section h3 {
      color: #34495e;
      margin-bottom: 15px;
      font-size: 1.4em;
      font-weight: 500;
    }

    /* Law blocks with gradient backgrounds */
    .law-block {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .law-eq {
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .law-block .math {
      margin: 8px 0;
      font-size: 1.1em;
      line-height: 1.6;
    }

    /* Operation blocks */
    .operation-block {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(245,87,108,0.3);
    }

    .operation-block .formula {
      background: rgba(255,255,255,0.9);
      color: #333;
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.3em;
      font-weight: bold;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Hint blocks */
    .hint-block {
      background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(79,172,254,0.3);
    }

    .hint-block strong {
      font-size: 1.2em;
      display: block;
      margin-bottom: 15px;
      text-align: center;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    /* Interactive demo styling */
    .interactive-demo {
      background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      box-shadow: 0 4px 15px rgba(168,237,234,0.3);
    }

    .interactive-demo h3 {
      color: #2c3e50;
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.5em;
    }

    .demo-input {
      width: 80px;
      padding: 8px 12px;
      border: 2px solid #3498db;
      border-radius: 6px;
      font-size: 1em;
      margin: 0 5px;
      background: rgba(255,255,255,0.9);
      color: #333;
    }

    .demo-input:focus {
      outline: none;
      border-color: #2980b9;
      box-shadow: 0 0 5px rgba(52,152,219,0.5);
    }

    .demo-button {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      margin: 5px;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(102,126,234,0.3);
    }

    .demo-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(102,126,234,0.4);
    }

    .demo-result {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin-top: 15px;
      font-family: 'Courier New', monospace;
      font-size: 1em;
      color: #333;
      white-space: pre-line;
      border: 1px solid #ddd;
      min-height: 40px;
    }

    /* Problem items */
    .problem-item {
      background: rgba(255,255,255,0.95);
      border-radius: 10px;
      padding: 20px;
      margin: 15px 0;
      border-left: 5px solid #3498db;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .problem-number {
      display: inline-block;
      background: #3498db;
      color: white;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      margin-right: 15px;
      vertical-align: top;
    }

    .problem-content {
      display: inline-block;
      width: calc(100% - 50px);
      vertical-align: top;
    }

    .solution-button {
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      color: #333;
      border: none;
      padding: 8px 16px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
      margin: 10px 0;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(255,154,158,0.3);
    }

    .solution-button:hover {
      transform: translateY(-1px);
      box-shadow: 0 3px 12px rgba(255,154,158,0.4);
    }

    .solution-content {
      display: none;
      margin-top: 15px;
      padding: 15px;
      background: rgba(240,240,240,0.8);
      border-radius: 8px;
      border: 1px solid #ddd;
    }

    .calculation-steps {
      margin: 10px 0;
    }

    .calculation-step {
      margin: 8px 0;
      padding: 8px 12px;
      background: rgba(255,255,255,0.7);
      border-radius: 6px;
      border-left: 3px solid #3498db;
    }

    /* Key takeaways */
    .key-takeaways {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      color: white;
      box-shadow: 0 4px 15px rgba(102,126,234,0.3);
    }

    .key-takeaways h3 {
      text-align: center;
      font-size: 1.5em;
      margin-bottom: 20px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
    }

    .key-takeaways ul {
      list-style: none;
      padding: 0;
    }

    .key-takeaways li {
      margin: 10px 0;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .key-takeaways li:last-child {
      border-bottom: none;
    }

    /* Enhanced canvas styling */
    .conic-canvas {
      display: block;
      margin: 20px auto;
      border: 2px solid #3498db;
      border-radius: 8px;
      background: white;
      box-shadow: 0 4px 15px rgba(52,152,219,0.2);
    }

    /* Responsive design */
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .main-content {
        padding: 20px;
      }

      .section {
        padding: 15px;
      }

      .interactive-demo {
        padding: 15px;
      }

      .demo-input {
        width: 60px;
        margin: 5px;
      }

      .demo-button {
        display: block;
        width: 100%;
        margin: 5px 0;
      }

      .problem-content {
        width: calc(100% - 40px);
      }
    }

    /* MathJax styling */
    .mjx-chtml {
      font-size: 1.1em !important;
    }

    /* Formula boxes */
    .formula-box {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      text-align: center;
      font-size: 1.2em;
      font-weight: bold;
      color: #333;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    /* Property lists */
    .property-list {
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      padding: 15px;
      margin: 15px 0;
      color: #333;
    }

    .property-list li {
      margin: 8px 0;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }

    .property-list li:last-child {
      border-bottom: none;
    }

    /* Special styling for conic types */
    .ellipse-case {
      color: #27ae60;
      font-weight: bold;
      background: rgba(39,174,96,0.1);
      padding: 2px 6px;
      border-radius: 4px;
    }

    .parabola-case {
      color: #f39c12;
      font-weight: bold;
      background: rgba(243,156,18,0.1);
      padding: 2px 6px;
      border-radius: 4px;
    }

    .hyperbola-case {
      color: #e74c3c;
      font-weight: bold;
      background: rgba(231,76,60,0.1);
      padding: 2px 6px;
      border-radius: 4px;
    }

    .case-list {
      list-style: none;
      padding: 0;
      margin: 15px 0;
    }

    .case-list li {
      margin: 10px 0;
      padding: 10px;
      background: rgba(255,255,255,0.8);
      border-radius: 6px;
      border-left: 4px solid #3498db;
    }
  </style>
 </head>
 <body>
  <div class="fancy-title" data-topic="Conic Sections, Eccentricity, Geometry">
   Conic Sections: Eccentricity Properties
  </div>
  <div class="container">
   <div class="main-content">

    <!-- Mathematical Foundation -->
    <div class="section">
     <h2>Mathematical Foundation</h2>

     <div class="law-block">
      <div class="law-eq">Definition of Eccentricity</div>
      <div class="math">
       For a conic section with focus \( F \) and directrix \( \ell \), the eccentricity \( e \) is defined as:
      </div>
      <div class="math">
       \( e = \dfrac{\text{distance from any point } P \text{ on the conic to the focus}}{\text{distance from } P \text{ to the directrix}} \)
      </div>
      <div class="math">
       This ratio is constant for all points on the conic section.
      </div>
     </div>

     <div class="operation-block">
      <div class="formula">
       Conic Classification by Eccentricity
      </div>
      <ul class="case-list">
       <li>
        <span class="ellipse-case">Ellipse:</span> \( 0 < e < 1 \)
        <br><small>The distance to focus is less than distance to directrix</small>
       </li>
       <li>
        <span class="parabola-case">Parabola:</span> \( e = 1 \)
        <br><small>The distance to focus equals distance to directrix</small>
       </li>
       <li>
        <span class="hyperbola-case">Hyperbola:</span> \( e > 1 \)
        <br><small>The distance to focus is greater than distance to directrix</small>
       </li>
      </ul>
     </div>

     <div class="hint-block">
      <strong>Key Insight:</strong>
      <p>The eccentricity determines the "shape" of the conic section. As eccentricity increases from 0 to ∞, the conic transforms from a circle (e=0) through ellipses, to parabolas, and finally to hyperbolas.</p>
     </div>
    </div>

    <!-- Interactive Conic Comparison -->
    <div class="section">
     <h2>Interactive Conic Comparison</h2>

     <div class="interactive-demo">
      <h3>Conic Sections Explorer</h3>
      <p>Adjust the eccentricity to see how it affects the shape of the conic section:</p>

      <div style="text-align: center; margin: 20px 0;">
       <label for="eccentricity-slider">Eccentricity (e): <span id="eccentricity-value">0.5</span></label><br>
       <input type="range" id="eccentricity-slider" min="0.1" max="2.0" step="0.1" value="0.5" style="width: 300px;">
      </div>

      <div style="text-align: center; margin: 20px 0;">
       <button class="demo-button" onclick="setEccentricity(0.3)">Ellipse (e=0.3)</button>
       <button class="demo-button" onclick="setEccentricity(1.0)">Parabola (e=1.0)</button>
       <button class="demo-button" onclick="setEccentricity(1.5)">Hyperbola (e=1.5)</button>
      </div>

      <canvas id="conic-canvas" width="600" height="400" class="conic-canvas"></canvas>

      <div class="demo-result" id="conic-info">
       Current conic: Ellipse (e = 0.5)<br>
       Focus at (200, 200), Directrix at x = 100<br>
       Equation: (x-200)²/400 + (y-200)²/300 = 1
      </div>
     </div>
    </div>

    <!-- Worked Examples -->
    <div class="section">
     <h2>Worked Examples</h2>

     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       <strong>Problem:</strong> Find the eccentricity of the conic section given by \( \dfrac{x^2}{9} + \dfrac{y^2}{4} = 1 \).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol1')">Show Solution</button>
       <div class="solution-content" id="sol1">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Identify the conic type
          <br>This is an ellipse (sum of squares = 1).
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Use the formula for ellipse eccentricity
          <br>\( e = \sqrt{1 - \dfrac{b^2}{a^2}} \) where a = 3, b = 2
         </div>
         <div class="calculation-step">
          <strong>Step 3:</strong> Calculate
          <br>\( e = \sqrt{1 - \dfrac{4}{9}} = \sqrt{1 - \dfrac{4}{9}} = \sqrt{\dfrac{5}{9}} = \dfrac{\sqrt{5}}{3} \approx 0.745 \)
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> \( e = \dfrac{\sqrt{5}}{3} \) (ellipse, since 0 < e < 1)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       <strong>Problem:</strong> Find the eccentricity of the parabola \( y^2 = 8x \).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol2')">Show Solution</button>
       <div class="solution-content" id="sol2">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Identify the conic type
          <br>This is a parabola (one squared term, no constant).
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Recall that parabolas have eccentricity e = 1
          <br>By definition, all parabolas have eccentricity exactly 1.
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> e = 1 (parabola)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       <strong>Problem:</strong> Find the eccentricity of the hyperbola \( \dfrac{x^2}{16} - \dfrac{y^2}{9} = 1 \).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('sol3')">Show Solution</button>
       <div class="solution-content" id="sol3">
        <div class="calculation-steps">
         <div class="calculation-step">
          <strong>Step 1:</strong> Identify the conic type
          <br>This is a hyperbola (difference of squares = 1).
         </div>
         <div class="calculation-step">
          <strong>Step 2:</strong> Use the formula for hyperbola eccentricity
          <br>\( e = \sqrt{1 + \dfrac{b^2}{a^2}} \) where a = 4, b = 3
         </div>
         <div class="calculation-step">
          <strong>Step 3:</strong> Calculate
          <br>\( e = \sqrt{1 + \dfrac{9}{16}} = \sqrt{1 + 0.5625} = \sqrt{1.5625} = \sqrt{\dfrac{25}{16}} = \dfrac{5}{4} = 1.25 \)
         </div>
         <div class="calculation-step">
          <strong>Answer:</strong> e = 5/4 = 1.25 (hyperbola, since e > 1)
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>

    <!-- Applications -->
    <div class="section">
     <h2>Applications</h2>

     <h3>Orbital Mechanics</h3>
     <div class="property-list">
      <li><strong>Planetary Orbits:</strong> Planets follow elliptical orbits (e < 1) around the Sun</li>
      <li><strong>Comets:</strong> Can have highly eccentric orbits (e close to 1 for parabolic, e > 1 for hyperbolic)</li>
      <li><strong>Satellites:</strong> Usually have very low eccentricity (nearly circular orbits)</li>
     </div>

     <h3>Optics and Physics</h3>
     <div class="property-list">
      <li><strong>Parabolic Mirrors:</strong> Used in telescopes and satellite dishes (e = 1)</li>
      <li><strong>Elliptical Orbits:</strong> Light reflection properties in elliptical mirrors</li>
      <li><strong>Hyperbolic Trajectories:</strong> Escape trajectories in space missions</li>
     </div>

     <div class="hint-block">
      <strong>Real-World Connection:</strong>
      <p>The eccentricity of Earth's orbit is approximately 0.0167, making it very close to circular. This small eccentricity causes the seasons to be of nearly equal length.</p>
     </div>
    </div>

    <!-- Practice Problems -->
    <div class="section">
     <h2>Practice Problems</h2>

     <div class="problem-item">
      <div class="problem-number">1</div>
      <div class="problem-content">
       Calculate the eccentricity of \( \dfrac{x^2}{25} + \dfrac{y^2}{16} = 1 \).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac1')">Show Solution</button>
       <div class="solution-content" id="prac1">
        <div class="calculation-steps">
         <div class="calculation-step">
          \( e = \sqrt{1 - \dfrac{b^2}{a^2}} = \sqrt{1 - \dfrac{16}{25}} = \sqrt{\dfrac{9}{25}} = \dfrac{3}{5} = 0.6 \)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">2</div>
      <div class="problem-content">
       Find the eccentricity of \( \dfrac{x^2}{4} - \dfrac{y^2}{9} = 1 \).
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac2')">Show Solution</button>
       <div class="solution-content" id="prac2">
        <div class="calculation-steps">
         <div class="calculation-step">
          \( e = \sqrt{1 + \dfrac{b^2}{a^2}} = \sqrt{1 + \dfrac{9}{4}} = \sqrt{\dfrac{13}{4}} = \dfrac{\sqrt{13}}{2} \approx 1.803 \)
         </div>
        </div>
       </div>
      </div>
     </div>

     <div class="problem-item">
      <div class="problem-number">3</div>
      <div class="problem-content">
       What type of conic has eccentricity 0.8? What about 1.2?
       <br><br>
       <button class="solution-button" onclick="toggleSolution('prac3')">Show Solution</button>
       <div class="solution-content" id="prac3">
        <div class="calculation-steps">
         <div class="calculation-step">
          e = 0.8: Ellipse (0 < e < 1)
         </div>
         <div class="calculation-step">
          e = 1.2: Hyperbola (e > 1)
         </div>
        </div>
       </div>
      </div>
     </div>
    </div>

    <!-- Key Takeaways -->
    <div class="key-takeaways">
     <h3>Key Takeaways</h3>
     <ul>
      <li>The eccentricity e determines the shape of the conic section</li>
      <li><span class="ellipse-case">0 < e < 1:</span> Ellipse - closed curve, two foci</li>
      <li><span class="parabola-case">e = 1:</span> Parabola - open curve, one focus and one directrix</li>
      <li><span class="hyperbola-case">e > 1:</span> Hyperbola - open curve, two foci, two branches</li>
      <li>Eccentricity is a measure of how "stretched" the conic is</li>
      <li>Lower eccentricity = more circular; higher eccentricity = more elongated</li>
      <li>Applications in orbital mechanics, optics, and physics</li>
     </ul>
    </div>

   </div>
  </div>

  <script>
   // Interactive Conic Sections Explorer
   let currentEccentricity = 0.5;
   const canvas = document.getElementById('conic-canvas');
   const ctx = canvas.getContext('2d');
   const width = canvas.width;
   const height = canvas.height;

   // Focus and directrix positions
   const focusX = 200;
   const focusY = 200;
   const directrixX = 100;

   function drawConic(e) {
     ctx.clearRect(0, 0, width, height);

     // Draw coordinate system
     ctx.strokeStyle = '#ddd';
     ctx.lineWidth = 1;
     ctx.beginPath();
     ctx.moveTo(0, focusY);
     ctx.lineTo(width, focusY);
     ctx.moveTo(focusX, 0);
     ctx.lineTo(focusX, height);
     ctx.stroke();

     // Draw directrix
     ctx.strokeStyle = '#3498db';
     ctx.setLineDash([5, 5]);
     ctx.beginPath();
     ctx.moveTo(directrixX, 0);
     ctx.lineTo(directrixX, height);
     ctx.stroke();
     ctx.setLineDash([]);

     // Draw focus
     ctx.fillStyle = '#e74c3c';
     ctx.beginPath();
     ctx.arc(focusX, focusY, 5, 0, 2 * Math.PI);
     ctx.fill();

     // Labels
     ctx.fillStyle = '#333';
     ctx.font = '12px Arial';
     ctx.fillText('Focus F', focusX - 35, focusY - 10);
     ctx.fillText('Directrix ℓ', directrixX - 45, focusY - 10);

     if (e < 1) {
       // Draw ellipse
       const a = 100; // semi-major axis
       const b = a * Math.sqrt(1 - e * e); // semi-minor axis

       ctx.strokeStyle = '#27ae60';
       ctx.lineWidth = 2;
       ctx.beginPath();
       ctx.ellipse(focusX + a * e, focusY, a, b, 0, 0, 2 * Math.PI);
       ctx.stroke();

       // Draw major/minor axes
       ctx.strokeStyle = '#95a5a6';
       ctx.setLineDash([2, 2]);
       ctx.beginPath();
       ctx.moveTo(focusX + a * e - a, focusY);
       ctx.lineTo(focusX + a * e + a, focusY);
       ctx.moveTo(focusX + a * e, focusY - b);
       ctx.lineTo(focusX + a * e, focusY + b);
       ctx.stroke();
       ctx.setLineDash([]);

     } else if (e === 1) {
       // Draw parabola
       ctx.strokeStyle = '#f39c12';
       ctx.lineWidth = 2;
       ctx.beginPath();

       // Parametric equation for parabola: x = t²/(4p), y = t
       // where p is the distance from vertex to focus/directrix
       const p = 50;
       for (let t = -100; t <= 100; t += 2) {
         const x = focusX + t * t / (4 * p);
         const y = focusY + t;
         if (t === -100) ctx.moveTo(x, y);
         else ctx.lineTo(x, y);
       }
       ctx.stroke();

     } else {
       // Draw hyperbola
       const a = 60;
       const b = a * Math.sqrt(e * e - 1);

       ctx.strokeStyle = '#e74c3c';
       ctx.lineWidth = 2;

       // Right branch
       ctx.beginPath();
       for (let t = 0; t <= 2; t += 0.02) {
         const x = focusX + a * Math.cosh(t);
         const y = focusY + b * Math.sinh(t);
         if (t === 0) ctx.moveTo(x, y);
         else ctx.lineTo(x, y);
       }
       ctx.stroke();

       // Left branch
       ctx.beginPath();
       for (let t = 0; t <= 2; t += 0.02) {
         const x = focusX - a * Math.cosh(t);
         const y = focusY + b * Math.sinh(t);
         if (t === 0) ctx.moveTo(x, y);
         else ctx.lineTo(x, y);
       }
       ctx.stroke();

       // Asymptotes
       ctx.strokeStyle = '#95a5a6';
       ctx.setLineDash([3, 3]);
       const slope = b / a;
       ctx.beginPath();
       ctx.moveTo(focusX - 150, focusY - 150 * slope);
       ctx.lineTo(focusX + 150, focusY + 150 * slope);
       ctx.moveTo(focusX - 150, focusY + 150 * slope);
       ctx.lineTo(focusX + 150, focusY - 150 * slope);
       ctx.stroke();
       ctx.setLineDash([]);
     }
   }

   function updateDisplay() {
     const slider = document.getElementById('eccentricity-slider');
     const valueDisplay = document.getElementById('eccentricity-value');
     const infoDisplay = document.getElementById('conic-info');

     currentEccentricity = parseFloat(slider.value);
     valueDisplay.textContent = currentEccentricity.toFixed(1);

     let conicType, equation;
     if (currentEccentricity < 1) {
       conicType = 'Ellipse';
       const a = 100;
       const b = a * Math.sqrt(1 - currentEccentricity * currentEccentricity);
       equation = `(x-${focusX + a * currentEccentricity})²/${a*a} + (y-${focusY})²/${b*b} = 1`;
     } else if (currentEccentricity === 1) {
       conicType = 'Parabola';
       equation = `y² = 4px (focus at origin)`;
     } else {
       conicType = 'Hyperbola';
       const a = 60;
       const b = a * Math.sqrt(currentEccentricity * currentEccentricity - 1);
       equation = `(x-${focusX})²/${a*a} - (y-${focusY})²/${b*b} = 1`;
     }

     infoDisplay.innerHTML = `Current conic: ${conicType} (e = ${currentEccentricity})<br>` +
                           `Focus at (${focusX}, ${focusY}), Directrix at x = ${directrixX}<br>` +
                           `Equation: ${equation}`;

     drawConic(currentEccentricity);
   }

   function setEccentricity(value) {
     document.getElementById('eccentricity-slider').value = value;
     updateDisplay();
   }

   // Event listeners
   document.getElementById('eccentricity-slider').addEventListener('input', updateDisplay);

   // Solution toggle function
   function toggleSolution(id) {
     const element = document.getElementById(id);
     const button = element.previousElementSibling;
     if (element.style.display === 'none' || element.style.display === '') {
       element.style.display = 'block';
       button.textContent = 'Hide Solution';
     } else {
       element.style.display = 'none';
       button.textContent = 'Show Solution';
     }
   }

   // Initialize
   document.addEventListener('DOMContentLoaded', function() {
     updateDisplay();

     // MathJax rendering
     if (typeof renderMathInElement !== 'undefined') {
       renderMathInElement(document.body, {
         delimiters: [
           {left: "$$", right: "$$", display: true},
           {left: "\\(", right: "\\)", display: false},
           {left: "\\[", right: "\\]", display: true}
         ],
         throwOnError: false
       });
     }
   });
  </script>
 </body>
</html>
